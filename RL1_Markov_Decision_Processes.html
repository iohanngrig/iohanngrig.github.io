<!DOCTYPE html>
<html>
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-138315127-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-138315127-1');
  </script>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" type="image/png" href="img/logo.png"/><meta charset="utf-8" />

<title>Notebook</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



<style type="text/css">
    /*!
*
* Twitter Bootstrap
*
*/
/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */
html {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
}
body {
  margin: 0;
}
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block;
}
audio,
canvas,
progress,
video {
  display: inline-block;
  vertical-align: baseline;
}
audio:not([controls]) {
  display: none;
  height: 0;
}
[hidden],
template {
  display: none;
}
a {
  background-color: transparent;
}
a:active,
a:hover {
  outline: 0;
}
abbr[title] {
  border-bottom: 1px dotted;
}
b,
strong {
  font-weight: bold;
}
dfn {
  font-style: italic;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
mark {
  background: #ff0;
  color: #000;
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}
img {
  border: 0;
}
svg:not(:root) {
  overflow: hidden;
}
figure {
  margin: 1em 40px;
}
hr {
  box-sizing: content-box;
  height: 0;
}
pre {
  overflow: auto;
}
code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}
button,
input,
optgroup,
select,
textarea {
  color: inherit;
  font: inherit;
  margin: 0;
}
button {
  overflow: visible;
}
button,
select {
  text-transform: none;
}
button,
html input[type="button"],
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button;
  cursor: pointer;
}
button[disabled],
html input[disabled] {
  cursor: default;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}
input {
  line-height: normal;
}
input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box;
  padding: 0;
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: textfield;
  box-sizing: content-box;
}
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}
fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em;
}
legend {
  border: 0;
  padding: 0;
}
textarea {
  overflow: auto;
}
optgroup {
  font-weight: bold;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
td,
th {
  padding: 0;
}
/*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css */
@media print {
  *,
  *:before,
  *:after {
    background: transparent !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  a,
  a:visited {
    text-decoration: underline;
  }
  a[href]:after {
    content: " (" attr(href) ")";
  }
  abbr[title]:after {
    content: " (" attr(title) ")";
  }
  a[href^="#"]:after,
  a[href^="javascript:"]:after {
    content: "";
  }
  pre,
  blockquote {
    border: 1px solid #999;
    page-break-inside: avoid;
  }
  thead {
    display: table-header-group;
  }
  tr,
  img {
    page-break-inside: avoid;
  }
  img {
    max-width: 100% !important;
  }
  p,
  h2,
  h3 {
    orphans: 3;
    widows: 3;
  }
  h2,
  h3 {
    page-break-after: avoid;
  }
  .navbar {
    display: none;
  }
  .btn > .caret,
  .dropup > .btn > .caret {
    border-top-color: #000 !important;
  }
  .label {
    border: 1px solid #000;
  }
  .table {
    border-collapse: collapse !important;
  }
  .table td,
  .table th {
    background-color: #fff !important;
  }
  .table-bordered th,
  .table-bordered td {
    border: 1px solid #ddd !important;
  }
}
@font-face {
  font-family: 'Glyphicons Halflings';
  src: url('../components/bootstrap/fonts/glyphicons-halflings-regular.eot');
  src: url('../components/bootstrap/fonts/glyphicons-halflings-regular.eot?#iefix') format('embedded-opentype'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.woff2') format('woff2'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.woff') format('woff'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.ttf') format('truetype'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular') format('svg');
}
.glyphicon {
  position: relative;
  top: 1px;
  display: inline-block;
  font-family: 'Glyphicons Halflings';
  font-style: normal;
  font-weight: normal;
  line-height: 1;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.glyphicon-asterisk:before {
  content: "\002a";
}
.glyphicon-plus:before {
  content: "\002b";
}
.glyphicon-euro:before,
.glyphicon-eur:before {
  content: "\20ac";
}
.glyphicon-minus:before {
  content: "\2212";
}
.glyphicon-cloud:before {
  content: "\2601";
}
.glyphicon-envelope:before {
  content: "\2709";
}
.glyphicon-pencil:before {
  content: "\270f";
}
.glyphicon-glass:before {
  content: "\e001";
}
.glyphicon-music:before {
  content: "\e002";
}
.glyphicon-search:before {
  content: "\e003";
}
.glyphicon-heart:before {
  content: "\e005";
}
.glyphicon-star:before {
  content: "\e006";
}
.glyphicon-star-empty:before {
  content: "\e007";
}
.glyphicon-user:before {
  content: "\e008";
}
.glyphicon-film:before {
  content: "\e009";
}
.glyphicon-th-large:before {
  content: "\e010";
}
.glyphicon-th:before {
  content: "\e011";
}
.glyphicon-th-list:before {
  content: "\e012";
}
.glyphicon-ok:before {
  content: "\e013";
}
.glyphicon-remove:before {
  content: "\e014";
}
.glyphicon-zoom-in:before {
  content: "\e015";
}
.glyphicon-zoom-out:before {
  content: "\e016";
}
.glyphicon-off:before {
  content: "\e017";
}
.glyphicon-signal:before {
  content: "\e018";
}
.glyphicon-cog:before {
  content: "\e019";
}
.glyphicon-trash:before {
  content: "\e020";
}
.glyphicon-home:before {
  content: "\e021";
}
.glyphicon-file:before {
  content: "\e022";
}
.glyphicon-time:before {
  content: "\e023";
}
.glyphicon-road:before {
  content: "\e024";
}
.glyphicon-download-alt:before {
  content: "\e025";
}
.glyphicon-download:before {
  content: "\e026";
}
.glyphicon-upload:before {
  content: "\e027";
}
.glyphicon-inbox:before {
  content: "\e028";
}
.glyphicon-play-circle:before {
  content: "\e029";
}
.glyphicon-repeat:before {
  content: "\e030";
}
.glyphicon-refresh:before {
  content: "\e031";
}
.glyphicon-list-alt:before {
  content: "\e032";
}
.glyphicon-lock:before {
  content: "\e033";
}
.glyphicon-flag:before {
  content: "\e034";
}
.glyphicon-headphones:before {
  content: "\e035";
}
.glyphicon-volume-off:before {
  content: "\e036";
}
.glyphicon-volume-down:before {
  content: "\e037";
}
.glyphicon-volume-up:before {
  content: "\e038";
}
.glyphicon-qrcode:before {
  content: "\e039";
}
.glyphicon-barcode:before {
  content: "\e040";
}
.glyphicon-tag:before {
  content: "\e041";
}
.glyphicon-tags:before {
  content: "\e042";
}
.glyphicon-book:before {
  content: "\e043";
}
.glyphicon-bookmark:before {
  content: "\e044";
}
.glyphicon-print:before {
  content: "\e045";
}
.glyphicon-camera:before {
  content: "\e046";
}
.glyphicon-font:before {
  content: "\e047";
}
.glyphicon-bold:before {
  content: "\e048";
}
.glyphicon-italic:before {
  content: "\e049";
}
.glyphicon-text-height:before {
  content: "\e050";
}
.glyphicon-text-width:before {
  content: "\e051";
}
.glyphicon-align-left:before {
  content: "\e052";
}
.glyphicon-align-center:before {
  content: "\e053";
}
.glyphicon-align-right:before {
  content: "\e054";
}
.glyphicon-align-justify:before {
  content: "\e055";
}
.glyphicon-list:before {
  content: "\e056";
}
.glyphicon-indent-left:before {
  content: "\e057";
}
.glyphicon-indent-right:before {
  content: "\e058";
}
.glyphicon-facetime-video:before {
  content: "\e059";
}
.glyphicon-picture:before {
  content: "\e060";
}
.glyphicon-map-marker:before {
  content: "\e062";
}
.glyphicon-adjust:before {
  content: "\e063";
}
.glyphicon-tint:before {
  content: "\e064";
}
.glyphicon-edit:before {
  content: "\e065";
}
.glyphicon-share:before {
  content: "\e066";
}
.glyphicon-check:before {
  content: "\e067";
}
.glyphicon-move:before {
  content: "\e068";
}
.glyphicon-step-backward:before {
  content: "\e069";
}
.glyphicon-fast-backward:before {
  content: "\e070";
}
.glyphicon-backward:before {
  content: "\e071";
}
.glyphicon-play:before {
  content: "\e072";
}
.glyphicon-pause:before {
  content: "\e073";
}
.glyphicon-stop:before {
  content: "\e074";
}
.glyphicon-forward:before {
  content: "\e075";
}
.glyphicon-fast-forward:before {
  content: "\e076";
}
.glyphicon-step-forward:before {
  content: "\e077";
}
.glyphicon-eject:before {
  content: "\e078";
}
.glyphicon-chevron-left:before {
  content: "\e079";
}
.glyphicon-chevron-right:before {
  content: "\e080";
}
.glyphicon-plus-sign:before {
  content: "\e081";
}
.glyphicon-minus-sign:before {
  content: "\e082";
}
.glyphicon-remove-sign:before {
  content: "\e083";
}
.glyphicon-ok-sign:before {
  content: "\e084";
}
.glyphicon-question-sign:before {
  content: "\e085";
}
.glyphicon-info-sign:before {
  content: "\e086";
}
.glyphicon-screenshot:before {
  content: "\e087";
}
.glyphicon-remove-circle:before {
  content: "\e088";
}
.glyphicon-ok-circle:before {
  content: "\e089";
}
.glyphicon-ban-circle:before {
  content: "\e090";
}
.glyphicon-arrow-left:before {
  content: "\e091";
}
.glyphicon-arrow-right:before {
  content: "\e092";
}
.glyphicon-arrow-up:before {
  content: "\e093";
}
.glyphicon-arrow-down:before {
  content: "\e094";
}
.glyphicon-share-alt:before {
  content: "\e095";
}
.glyphicon-resize-full:before {
  content: "\e096";
}
.glyphicon-resize-small:before {
  content: "\e097";
}
.glyphicon-exclamation-sign:before {
  content: "\e101";
}
.glyphicon-gift:before {
  content: "\e102";
}
.glyphicon-leaf:before {
  content: "\e103";
}
.glyphicon-fire:before {
  content: "\e104";
}
.glyphicon-eye-open:before {
  content: "\e105";
}
.glyphicon-eye-close:before {
  content: "\e106";
}
.glyphicon-warning-sign:before {
  content: "\e107";
}
.glyphicon-plane:before {
  content: "\e108";
}
.glyphicon-calendar:before {
  content: "\e109";
}
.glyphicon-random:before {
  content: "\e110";
}
.glyphicon-comment:before {
  content: "\e111";
}
.glyphicon-magnet:before {
  content: "\e112";
}
.glyphicon-chevron-up:before {
  content: "\e113";
}
.glyphicon-chevron-down:before {
  content: "\e114";
}
.glyphicon-retweet:before {
  content: "\e115";
}
.glyphicon-shopping-cart:before {
  content: "\e116";
}
.glyphicon-folder-close:before {
  content: "\e117";
}
.glyphicon-folder-open:before {
  content: "\e118";
}
.glyphicon-resize-vertical:before {
  content: "\e119";
}
.glyphicon-resize-horizontal:before {
  content: "\e120";
}
.glyphicon-hdd:before {
  content: "\e121";
}
.glyphicon-bullhorn:before {
  content: "\e122";
}
.glyphicon-bell:before {
  content: "\e123";
}
.glyphicon-certificate:before {
  content: "\e124";
}
.glyphicon-thumbs-up:before {
  content: "\e125";
}
.glyphicon-thumbs-down:before {
  content: "\e126";
}
.glyphicon-hand-right:before {
  content: "\e127";
}
.glyphicon-hand-left:before {
  content: "\e128";
}
.glyphicon-hand-up:before {
  content: "\e129";
}
.glyphicon-hand-down:before {
  content: "\e130";
}
.glyphicon-circle-arrow-right:before {
  content: "\e131";
}
.glyphicon-circle-arrow-left:before {
  content: "\e132";
}
.glyphicon-circle-arrow-up:before {
  content: "\e133";
}
.glyphicon-circle-arrow-down:before {
  content: "\e134";
}
.glyphicon-globe:before {
  content: "\e135";
}
.glyphicon-wrench:before {
  content: "\e136";
}
.glyphicon-tasks:before {
  content: "\e137";
}
.glyphicon-filter:before {
  content: "\e138";
}
.glyphicon-briefcase:before {
  content: "\e139";
}
.glyphicon-fullscreen:before {
  content: "\e140";
}
.glyphicon-dashboard:before {
  content: "\e141";
}
.glyphicon-paperclip:before {
  content: "\e142";
}
.glyphicon-heart-empty:before {
  content: "\e143";
}
.glyphicon-link:before {
  content: "\e144";
}
.glyphicon-phone:before {
  content: "\e145";
}
.glyphicon-pushpin:before {
  content: "\e146";
}
.glyphicon-usd:before {
  content: "\e148";
}
.glyphicon-gbp:before {
  content: "\e149";
}
.glyphicon-sort:before {
  content: "\e150";
}
.glyphicon-sort-by-alphabet:before {
  content: "\e151";
}
.glyphicon-sort-by-alphabet-alt:before {
  content: "\e152";
}
.glyphicon-sort-by-order:before {
  content: "\e153";
}
.glyphicon-sort-by-order-alt:before {
  content: "\e154";
}
.glyphicon-sort-by-attributes:before {
  content: "\e155";
}
.glyphicon-sort-by-attributes-alt:before {
  content: "\e156";
}
.glyphicon-unchecked:before {
  content: "\e157";
}
.glyphicon-expand:before {
  content: "\e158";
}
.glyphicon-collapse-down:before {
  content: "\e159";
}
.glyphicon-collapse-up:before {
  content: "\e160";
}
.glyphicon-log-in:before {
  content: "\e161";
}
.glyphicon-flash:before {
  content: "\e162";
}
.glyphicon-log-out:before {
  content: "\e163";
}
.glyphicon-new-window:before {
  content: "\e164";
}
.glyphicon-record:before {
  content: "\e165";
}
.glyphicon-save:before {
  content: "\e166";
}
.glyphicon-open:before {
  content: "\e167";
}
.glyphicon-saved:before {
  content: "\e168";
}
.glyphicon-import:before {
  content: "\e169";
}
.glyphicon-export:before {
  content: "\e170";
}
.glyphicon-send:before {
  content: "\e171";
}
.glyphicon-floppy-disk:before {
  content: "\e172";
}
.glyphicon-floppy-saved:before {
  content: "\e173";
}
.glyphicon-floppy-remove:before {
  content: "\e174";
}
.glyphicon-floppy-save:before {
  content: "\e175";
}
.glyphicon-floppy-open:before {
  content: "\e176";
}
.glyphicon-credit-card:before {
  content: "\e177";
}
.glyphicon-transfer:before {
  content: "\e178";
}
.glyphicon-cutlery:before {
  content: "\e179";
}
.glyphicon-header:before {
  content: "\e180";
}
.glyphicon-compressed:before {
  content: "\e181";
}
.glyphicon-earphone:before {
  content: "\e182";
}
.glyphicon-phone-alt:before {
  content: "\e183";
}
.glyphicon-tower:before {
  content: "\e184";
}
.glyphicon-stats:before {
  content: "\e185";
}
.glyphicon-sd-video:before {
  content: "\e186";
}
.glyphicon-hd-video:before {
  content: "\e187";
}
.glyphicon-subtitles:before {
  content: "\e188";
}
.glyphicon-sound-stereo:before {
  content: "\e189";
}
.glyphicon-sound-dolby:before {
  content: "\e190";
}
.glyphicon-sound-5-1:before {
  content: "\e191";
}
.glyphicon-sound-6-1:before {
  content: "\e192";
}
.glyphicon-sound-7-1:before {
  content: "\e193";
}
.glyphicon-copyright-mark:before {
  content: "\e194";
}
.glyphicon-registration-mark:before {
  content: "\e195";
}
.glyphicon-cloud-download:before {
  content: "\e197";
}
.glyphicon-cloud-upload:before {
  content: "\e198";
}
.glyphicon-tree-conifer:before {
  content: "\e199";
}
.glyphicon-tree-deciduous:before {
  content: "\e200";
}
.glyphicon-cd:before {
  content: "\e201";
}
.glyphicon-save-file:before {
  content: "\e202";
}
.glyphicon-open-file:before {
  content: "\e203";
}
.glyphicon-level-up:before {
  content: "\e204";
}
.glyphicon-copy:before {
  content: "\e205";
}
.glyphicon-paste:before {
  content: "\e206";
}
.glyphicon-alert:before {
  content: "\e209";
}
.glyphicon-equalizer:before {
  content: "\e210";
}
.glyphicon-king:before {
  content: "\e211";
}
.glyphicon-queen:before {
  content: "\e212";
}
.glyphicon-pawn:before {
  content: "\e213";
}
.glyphicon-bishop:before {
  content: "\e214";
}
.glyphicon-knight:before {
  content: "\e215";
}
.glyphicon-baby-formula:before {
  content: "\e216";
}
.glyphicon-tent:before {
  content: "\26fa";
}
.glyphicon-blackboard:before {
  content: "\e218";
}
.glyphicon-bed:before {
  content: "\e219";
}
.glyphicon-apple:before {
  content: "\f8ff";
}
.glyphicon-erase:before {
  content: "\e221";
}
.glyphicon-hourglass:before {
  content: "\231b";
}
.glyphicon-lamp:before {
  content: "\e223";
}
.glyphicon-duplicate:before {
  content: "\e224";
}
.glyphicon-piggy-bank:before {
  content: "\e225";
}
.glyphicon-scissors:before {
  content: "\e226";
}
.glyphicon-bitcoin:before {
  content: "\e227";
}
.glyphicon-btc:before {
  content: "\e227";
}
.glyphicon-xbt:before {
  content: "\e227";
}
.glyphicon-yen:before {
  content: "\00a5";
}
.glyphicon-jpy:before {
  content: "\00a5";
}
.glyphicon-ruble:before {
  content: "\20bd";
}
.glyphicon-rub:before {
  content: "\20bd";
}
.glyphicon-scale:before {
  content: "\e230";
}
.glyphicon-ice-lolly:before {
  content: "\e231";
}
.glyphicon-ice-lolly-tasted:before {
  content: "\e232";
}
.glyphicon-education:before {
  content: "\e233";
}
.glyphicon-option-horizontal:before {
  content: "\e234";
}
.glyphicon-option-vertical:before {
  content: "\e235";
}
.glyphicon-menu-hamburger:before {
  content: "\e236";
}
.glyphicon-modal-window:before {
  content: "\e237";
}
.glyphicon-oil:before {
  content: "\e238";
}
.glyphicon-grain:before {
  content: "\e239";
}
.glyphicon-sunglasses:before {
  content: "\e240";
}
.glyphicon-text-size:before {
  content: "\e241";
}
.glyphicon-text-color:before {
  content: "\e242";
}
.glyphicon-text-background:before {
  content: "\e243";
}
.glyphicon-object-align-top:before {
  content: "\e244";
}
.glyphicon-object-align-bottom:before {
  content: "\e245";
}
.glyphicon-object-align-horizontal:before {
  content: "\e246";
}
.glyphicon-object-align-left:before {
  content: "\e247";
}
.glyphicon-object-align-vertical:before {
  content: "\e248";
}
.glyphicon-object-align-right:before {
  content: "\e249";
}
.glyphicon-triangle-right:before {
  content: "\e250";
}
.glyphicon-triangle-left:before {
  content: "\e251";
}
.glyphicon-triangle-bottom:before {
  content: "\e252";
}
.glyphicon-triangle-top:before {
  content: "\e253";
}
.glyphicon-console:before {
  content: "\e254";
}
.glyphicon-superscript:before {
  content: "\e255";
}
.glyphicon-subscript:before {
  content: "\e256";
}
.glyphicon-menu-left:before {
  content: "\e257";
}
.glyphicon-menu-right:before {
  content: "\e258";
}
.glyphicon-menu-down:before {
  content: "\e259";
}
.glyphicon-menu-up:before {
  content: "\e260";
}
* {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
*:before,
*:after {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
html {
  font-size: 10px;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
body {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 13px;
  line-height: 1.42857143;
  color: #000;
  background-color: #fff;
}
input,
button,
select,
textarea {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}
a {
  color: #337ab7;
  text-decoration: none;
}
a:hover,
a:focus {
  color: #23527c;
  text-decoration: underline;
}
a:focus {
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
figure {
  margin: 0;
}
img {
  vertical-align: middle;
}
.img-responsive,
.thumbnail > img,
.thumbnail a > img,
.carousel-inner > .item > img,
.carousel-inner > .item > a > img {
  display: block;
  max-width: 100%;
  height: auto;
}
.img-rounded {
  border-radius: 3px;
}
.img-thumbnail {
  padding: 4px;
  line-height: 1.42857143;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 2px;
  -webkit-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;
  display: inline-block;
  max-width: 100%;
  height: auto;
}
.img-circle {
  border-radius: 50%;
}
hr {
  margin-top: 18px;
  margin-bottom: 18px;
  border: 0;
  border-top: 1px solid #eeeeee;
}
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}
.sr-only-focusable:active,
.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  clip: auto;
}
[role="button"] {
  cursor: pointer;
}
h1,
h2,
h3,
h4,
h5,
h6,
.h1,
.h2,
.h3,
.h4,
.h5,
.h6 {
  font-family: inherit;
  font-weight: 500;
  line-height: 1.1;
  color: inherit;
}
h1 small,
h2 small,
h3 small,
h4 small,
h5 small,
h6 small,
.h1 small,
.h2 small,
.h3 small,
.h4 small,
.h5 small,
.h6 small,
h1 .small,
h2 .small,
h3 .small,
h4 .small,
h5 .small,
h6 .small,
.h1 .small,
.h2 .small,
.h3 .small,
.h4 .small,
.h5 .small,
.h6 .small {
  font-weight: normal;
  line-height: 1;
  color: #777777;
}
h1,
.h1,
h2,
.h2,
h3,
.h3 {
  margin-top: 18px;
  margin-bottom: 9px;
}
h1 small,
.h1 small,
h2 small,
.h2 small,
h3 small,
.h3 small,
h1 .small,
.h1 .small,
h2 .small,
.h2 .small,
h3 .small,
.h3 .small {
  font-size: 65%;
}
h4,
.h4,
h5,
.h5,
h6,
.h6 {
  margin-top: 9px;
  margin-bottom: 9px;
}
h4 small,
.h4 small,
h5 small,
.h5 small,
h6 small,
.h6 small,
h4 .small,
.h4 .small,
h5 .small,
.h5 .small,
h6 .small,
.h6 .small {
  font-size: 75%;
}
h1,
.h1 {
  font-size: 33px;
}
h2,
.h2 {
  font-size: 27px;
}
h3,
.h3 {
  font-size: 23px;
}
h4,
.h4 {
  font-size: 17px;
}
h5,
.h5 {
  font-size: 13px;
}
h6,
.h6 {
  font-size: 12px;
}
p {
  margin: 0 0 9px;
}
.lead {
  margin-bottom: 18px;
  font-size: 14px;
  font-weight: 300;
  line-height: 1.4;
}
@media (min-width: 768px) {
  .lead {
    font-size: 19.5px;
  }
}
small,
.small {
  font-size: 92%;
}
mark,
.mark {
  background-color: #fcf8e3;
  padding: .2em;
}
.text-left {
  text-align: left;
}
.text-right {
  text-align: right;
}
.text-center {
  text-align: center;
}
.text-justify {
  text-align: justify;
}
.text-nowrap {
  white-space: nowrap;
}
.text-lowercase {
  text-transform: lowercase;
}
.text-uppercase {
  text-transform: uppercase;
}
.text-capitalize {
  text-transform: capitalize;
}
.text-muted {
  color: #777777;
}
.text-primary {
  color: #337ab7;
}
a.text-primary:hover,
a.text-primary:focus {
  color: #286090;
}
.text-success {
  color: #3c763d;
}
a.text-success:hover,
a.text-success:focus {
  color: #2b542c;
}
.text-info {
  color: #31708f;
}
a.text-info:hover,
a.text-info:focus {
  color: #245269;
}
.text-warning {
  color: #8a6d3b;
}
a.text-warning:hover,
a.text-warning:focus {
  color: #66512c;
}
.text-danger {
  color: #a94442;
}
a.text-danger:hover,
a.text-danger:focus {
  color: #843534;
}
.bg-primary {
  color: #fff;
  background-color: #337ab7;
}
a.bg-primary:hover,
a.bg-primary:focus {
  background-color: #286090;
}
.bg-success {
  background-color: #dff0d8;
}
a.bg-success:hover,
a.bg-success:focus {
  background-color: #c1e2b3;
}
.bg-info {
  background-color: #d9edf7;
}
a.bg-info:hover,
a.bg-info:focus {
  background-color: #afd9ee;
}
.bg-warning {
  background-color: #fcf8e3;
}
a.bg-warning:hover,
a.bg-warning:focus {
  background-color: #f7ecb5;
}
.bg-danger {
  background-color: #f2dede;
}
a.bg-danger:hover,
a.bg-danger:focus {
  background-color: #e4b9b9;
}
.page-header {
  padding-bottom: 8px;
  margin: 36px 0 18px;
  border-bottom: 1px solid #eeeeee;
}
ul,
ol {
  margin-top: 0;
  margin-bottom: 9px;
}
ul ul,
ol ul,
ul ol,
ol ol {
  margin-bottom: 0;
}
.list-unstyled {
  padding-left: 0;
  list-style: none;
}
.list-inline {
  padding-left: 0;
  list-style: none;
  margin-left: -5px;
}
.list-inline > li {
  display: inline-block;
  padding-left: 5px;
  padding-right: 5px;
}
dl {
  margin-top: 0;
  margin-bottom: 18px;
}
dt,
dd {
  line-height: 1.42857143;
}
dt {
  font-weight: bold;
}
dd {
  margin-left: 0;
}
@media (min-width: 541px) {
  .dl-horizontal dt {
    float: left;
    width: 160px;
    clear: left;
    text-align: right;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  .dl-horizontal dd {
    margin-left: 180px;
  }
}
abbr[title],
abbr[data-original-title] {
  cursor: help;
  border-bottom: 1px dotted #777777;
}
.initialism {
  font-size: 90%;
  text-transform: uppercase;
}
blockquote {
  padding: 9px 18px;
  margin: 0 0 18px;
  font-size: inherit;
  border-left: 5px solid #eeeeee;
}
blockquote p:last-child,
blockquote ul:last-child,
blockquote ol:last-child {
  margin-bottom: 0;
}
blockquote footer,
blockquote small,
blockquote .small {
  display: block;
  font-size: 80%;
  line-height: 1.42857143;
  color: #777777;
}
blockquote footer:before,
blockquote small:before,
blockquote .small:before {
  content: '\2014 \00A0';
}
.blockquote-reverse,
blockquote.pull-right {
  padding-right: 15px;
  padding-left: 0;
  border-right: 5px solid #eeeeee;
  border-left: 0;
  text-align: right;
}
.blockquote-reverse footer:before,
blockquote.pull-right footer:before,
.blockquote-reverse small:before,
blockquote.pull-right small:before,
.blockquote-reverse .small:before,
blockquote.pull-right .small:before {
  content: '';
}
.blockquote-reverse footer:after,
blockquote.pull-right footer:after,
.blockquote-reverse small:after,
blockquote.pull-right small:after,
.blockquote-reverse .small:after,
blockquote.pull-right .small:after {
  content: '\00A0 \2014';
}
address {
  margin-bottom: 18px;
  font-style: normal;
  line-height: 1.42857143;
}
code,
kbd,
pre,
samp {
  font-family: monospace;
}
code {
  padding: 2px 4px;
  font-size: 90%;
  color: #c7254e;
  background-color: #f9f2f4;
  border-radius: 2px;
}
kbd {
  padding: 2px 4px;
  font-size: 90%;
  color: #888;
  background-color: transparent;
  border-radius: 1px;
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.25);
}
kbd kbd {
  padding: 0;
  font-size: 100%;
  font-weight: bold;
  box-shadow: none;
}
pre {
  display: block;
  padding: 8.5px;
  margin: 0 0 9px;
  font-size: 12px;
  line-height: 1.42857143;
  word-break: break-all;
  word-wrap: break-word;
  color: #333333;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 2px;
}
pre code {
  padding: 0;
  font-size: inherit;
  color: inherit;
  white-space: pre-wrap;
  background-color: transparent;
  border-radius: 0;
}
.pre-scrollable {
  max-height: 340px;
  overflow-y: scroll;
}
.container {
  margin-right: auto;
  margin-left: auto;
  padding-left: 0px;
  padding-right: 0px;
}
@media (min-width: 768px) {
  .container {
    width: 768px;
  }
}
@media (min-width: 992px) {
  .container {
    width: 940px;
  }
}
@media (min-width: 1200px) {
  .container {
    width: 1140px;
  }
}
.container-fluid {
  margin-right: auto;
  margin-left: auto;
  padding-left: 0px;
  padding-right: 0px;
}
.row {
  margin-left: 0px;
  margin-right: 0px;
}
.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12 {
  position: relative;
  min-height: 1px;
  padding-left: 0px;
  padding-right: 0px;
}
.col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12 {
  float: left;
}
.col-xs-12 {
  width: 100%;
}
.col-xs-11 {
  width: 91.66666667%;
}
.col-xs-10 {
  width: 83.33333333%;
}
.col-xs-9 {
  width: 75%;
}
.col-xs-8 {
  width: 66.66666667%;
}
.col-xs-7 {
  width: 58.33333333%;
}
.col-xs-6 {
  width: 50%;
}
.col-xs-5 {
  width: 41.66666667%;
}
.col-xs-4 {
  width: 33.33333333%;
}
.col-xs-3 {
  width: 25%;
}
.col-xs-2 {
  width: 16.66666667%;
}
.col-xs-1 {
  width: 8.33333333%;
}
.col-xs-pull-12 {
  right: 100%;
}
.col-xs-pull-11 {
  right: 91.66666667%;
}
.col-xs-pull-10 {
  right: 83.33333333%;
}
.col-xs-pull-9 {
  right: 75%;
}
.col-xs-pull-8 {
  right: 66.66666667%;
}
.col-xs-pull-7 {
  right: 58.33333333%;
}
.col-xs-pull-6 {
  right: 50%;
}
.col-xs-pull-5 {
  right: 41.66666667%;
}
.col-xs-pull-4 {
  right: 33.33333333%;
}
.col-xs-pull-3 {
  right: 25%;
}
.col-xs-pull-2 {
  right: 16.66666667%;
}
.col-xs-pull-1 {
  right: 8.33333333%;
}
.col-xs-pull-0 {
  right: auto;
}
.col-xs-push-12 {
  left: 100%;
}
.col-xs-push-11 {
  left: 91.66666667%;
}
.col-xs-push-10 {
  left: 83.33333333%;
}
.col-xs-push-9 {
  left: 75%;
}
.col-xs-push-8 {
  left: 66.66666667%;
}
.col-xs-push-7 {
  left: 58.33333333%;
}
.col-xs-push-6 {
  left: 50%;
}
.col-xs-push-5 {
  left: 41.66666667%;
}
.col-xs-push-4 {
  left: 33.33333333%;
}
.col-xs-push-3 {
  left: 25%;
}
.col-xs-push-2 {
  left: 16.66666667%;
}
.col-xs-push-1 {
  left: 8.33333333%;
}
.col-xs-push-0 {
  left: auto;
}
.col-xs-offset-12 {
  margin-left: 100%;
}
.col-xs-offset-11 {
  margin-left: 91.66666667%;
}
.col-xs-offset-10 {
  margin-left: 83.33333333%;
}
.col-xs-offset-9 {
  margin-left: 75%;
}
.col-xs-offset-8 {
  margin-left: 66.66666667%;
}
.col-xs-offset-7 {
  margin-left: 58.33333333%;
}
.col-xs-offset-6 {
  margin-left: 50%;
}
.col-xs-offset-5 {
  margin-left: 41.66666667%;
}
.col-xs-offset-4 {
  margin-left: 33.33333333%;
}
.col-xs-offset-3 {
  margin-left: 25%;
}
.col-xs-offset-2 {
  margin-left: 16.66666667%;
}
.col-xs-offset-1 {
  margin-left: 8.33333333%;
}
.col-xs-offset-0 {
  margin-left: 0%;
}
@media (min-width: 768px) {
  .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {
    float: left;
  }
  .col-sm-12 {
    width: 100%;
  }
  .col-sm-11 {
    width: 91.66666667%;
  }
  .col-sm-10 {
    width: 83.33333333%;
  }
  .col-sm-9 {
    width: 75%;
  }
  .col-sm-8 {
    width: 66.66666667%;
  }
  .col-sm-7 {
    width: 58.33333333%;
  }
  .col-sm-6 {
    width: 50%;
  }
  .col-sm-5 {
    width: 41.66666667%;
  }
  .col-sm-4 {
    width: 33.33333333%;
  }
  .col-sm-3 {
    width: 25%;
  }
  .col-sm-2 {
    width: 16.66666667%;
  }
  .col-sm-1 {
    width: 8.33333333%;
  }
  .col-sm-pull-12 {
    right: 100%;
  }
  .col-sm-pull-11 {
    right: 91.66666667%;
  }
  .col-sm-pull-10 {
    right: 83.33333333%;
  }
  .col-sm-pull-9 {
    right: 75%;
  }
  .col-sm-pull-8 {
    right: 66.66666667%;
  }
  .col-sm-pull-7 {
    right: 58.33333333%;
  }
  .col-sm-pull-6 {
    right: 50%;
  }
  .col-sm-pull-5 {
    right: 41.66666667%;
  }
  .col-sm-pull-4 {
    right: 33.33333333%;
  }
  .col-sm-pull-3 {
    right: 25%;
  }
  .col-sm-pull-2 {
    right: 16.66666667%;
  }
  .col-sm-pull-1 {
    right: 8.33333333%;
  }
  .col-sm-pull-0 {
    right: auto;
  }
  .col-sm-push-12 {
    left: 100%;
  }
  .col-sm-push-11 {
    left: 91.66666667%;
  }
  .col-sm-push-10 {
    left: 83.33333333%;
  }
  .col-sm-push-9 {
    left: 75%;
  }
  .col-sm-push-8 {
    left: 66.66666667%;
  }
  .col-sm-push-7 {
    left: 58.33333333%;
  }
  .col-sm-push-6 {
    left: 50%;
  }
  .col-sm-push-5 {
    left: 41.66666667%;
  }
  .col-sm-push-4 {
    left: 33.33333333%;
  }
  .col-sm-push-3 {
    left: 25%;
  }
  .col-sm-push-2 {
    left: 16.66666667%;
  }
  .col-sm-push-1 {
    left: 8.33333333%;
  }
  .col-sm-push-0 {
    left: auto;
  }
  .col-sm-offset-12 {
    margin-left: 100%;
  }
  .col-sm-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-sm-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-sm-offset-9 {
    margin-left: 75%;
  }
  .col-sm-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-sm-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-sm-offset-6 {
    margin-left: 50%;
  }
  .col-sm-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-sm-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-sm-offset-3 {
    margin-left: 25%;
  }
  .col-sm-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-sm-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-sm-offset-0 {
    margin-left: 0%;
  }
}
@media (min-width: 992px) {
  .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12 {
    float: left;
  }
  .col-md-12 {
    width: 100%;
  }
  .col-md-11 {
    width: 91.66666667%;
  }
  .col-md-10 {
    width: 83.33333333%;
  }
  .col-md-9 {
    width: 75%;
  }
  .col-md-8 {
    width: 66.66666667%;
  }
  .col-md-7 {
    width: 58.33333333%;
  }
  .col-md-6 {
    width: 50%;
  }
  .col-md-5 {
    width: 41.66666667%;
  }
  .col-md-4 {
    width: 33.33333333%;
  }
  .col-md-3 {
    width: 25%;
  }
  .col-md-2 {
    width: 16.66666667%;
  }
  .col-md-1 {
    width: 8.33333333%;
  }
  .col-md-pull-12 {
    right: 100%;
  }
  .col-md-pull-11 {
    right: 91.66666667%;
  }
  .col-md-pull-10 {
    right: 83.33333333%;
  }
  .col-md-pull-9 {
    right: 75%;
  }
  .col-md-pull-8 {
    right: 66.66666667%;
  }
  .col-md-pull-7 {
    right: 58.33333333%;
  }
  .col-md-pull-6 {
    right: 50%;
  }
  .col-md-pull-5 {
    right: 41.66666667%;
  }
  .col-md-pull-4 {
    right: 33.33333333%;
  }
  .col-md-pull-3 {
    right: 25%;
  }
  .col-md-pull-2 {
    right: 16.66666667%;
  }
  .col-md-pull-1 {
    right: 8.33333333%;
  }
  .col-md-pull-0 {
    right: auto;
  }
  .col-md-push-12 {
    left: 100%;
  }
  .col-md-push-11 {
    left: 91.66666667%;
  }
  .col-md-push-10 {
    left: 83.33333333%;
  }
  .col-md-push-9 {
    left: 75%;
  }
  .col-md-push-8 {
    left: 66.66666667%;
  }
  .col-md-push-7 {
    left: 58.33333333%;
  }
  .col-md-push-6 {
    left: 50%;
  }
  .col-md-push-5 {
    left: 41.66666667%;
  }
  .col-md-push-4 {
    left: 33.33333333%;
  }
  .col-md-push-3 {
    left: 25%;
  }
  .col-md-push-2 {
    left: 16.66666667%;
  }
  .col-md-push-1 {
    left: 8.33333333%;
  }
  .col-md-push-0 {
    left: auto;
  }
  .col-md-offset-12 {
    margin-left: 100%;
  }
  .col-md-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-md-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-md-offset-9 {
    margin-left: 75%;
  }
  .col-md-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-md-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-md-offset-6 {
    margin-left: 50%;
  }
  .col-md-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-md-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-md-offset-3 {
    margin-left: 25%;
  }
  .col-md-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-md-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-md-offset-0 {
    margin-left: 0%;
  }
}
@media (min-width: 1200px) {
  .col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12 {
    float: left;
  }
  .col-lg-12 {
    width: 100%;
  }
  .col-lg-11 {
    width: 91.66666667%;
  }
  .col-lg-10 {
    width: 83.33333333%;
  }
  .col-lg-9 {
    width: 75%;
  }
  .col-lg-8 {
    width: 66.66666667%;
  }
  .col-lg-7 {
    width: 58.33333333%;
  }
  .col-lg-6 {
    width: 50%;
  }
  .col-lg-5 {
    width: 41.66666667%;
  }
  .col-lg-4 {
    width: 33.33333333%;
  }
  .col-lg-3 {
    width: 25%;
  }
  .col-lg-2 {
    width: 16.66666667%;
  }
  .col-lg-1 {
    width: 8.33333333%;
  }
  .col-lg-pull-12 {
    right: 100%;
  }
  .col-lg-pull-11 {
    right: 91.66666667%;
  }
  .col-lg-pull-10 {
    right: 83.33333333%;
  }
  .col-lg-pull-9 {
    right: 75%;
  }
  .col-lg-pull-8 {
    right: 66.66666667%;
  }
  .col-lg-pull-7 {
    right: 58.33333333%;
  }
  .col-lg-pull-6 {
    right: 50%;
  }
  .col-lg-pull-5 {
    right: 41.66666667%;
  }
  .col-lg-pull-4 {
    right: 33.33333333%;
  }
  .col-lg-pull-3 {
    right: 25%;
  }
  .col-lg-pull-2 {
    right: 16.66666667%;
  }
  .col-lg-pull-1 {
    right: 8.33333333%;
  }
  .col-lg-pull-0 {
    right: auto;
  }
  .col-lg-push-12 {
    left: 100%;
  }
  .col-lg-push-11 {
    left: 91.66666667%;
  }
  .col-lg-push-10 {
    left: 83.33333333%;
  }
  .col-lg-push-9 {
    left: 75%;
  }
  .col-lg-push-8 {
    left: 66.66666667%;
  }
  .col-lg-push-7 {
    left: 58.33333333%;
  }
  .col-lg-push-6 {
    left: 50%;
  }
  .col-lg-push-5 {
    left: 41.66666667%;
  }
  .col-lg-push-4 {
    left: 33.33333333%;
  }
  .col-lg-push-3 {
    left: 25%;
  }
  .col-lg-push-2 {
    left: 16.66666667%;
  }
  .col-lg-push-1 {
    left: 8.33333333%;
  }
  .col-lg-push-0 {
    left: auto;
  }
  .col-lg-offset-12 {
    margin-left: 100%;
  }
  .col-lg-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-lg-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-lg-offset-9 {
    margin-left: 75%;
  }
  .col-lg-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-lg-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-lg-offset-6 {
    margin-left: 50%;
  }
  .col-lg-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-lg-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-lg-offset-3 {
    margin-left: 25%;
  }
  .col-lg-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-lg-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-lg-offset-0 {
    margin-left: 0%;
  }
}
table {
  background-color: transparent;
}
caption {
  padding-top: 8px;
  padding-bottom: 8px;
  color: #777777;
  text-align: left;
}
th {
  text-align: left;
}
.table {
  width: 100%;
  max-width: 100%;
  margin-bottom: 18px;
}
.table > thead > tr > th,
.table > tbody > tr > th,
.table > tfoot > tr > th,
.table > thead > tr > td,
.table > tbody > tr > td,
.table > tfoot > tr > td {
  padding: 8px;
  line-height: 1.42857143;
  vertical-align: top;
  border-top: 1px solid #ddd;
}
.table > thead > tr > th {
  vertical-align: bottom;
  border-bottom: 2px solid #ddd;
}
.table > caption + thead > tr:first-child > th,
.table > colgroup + thead > tr:first-child > th,
.table > thead:first-child > tr:first-child > th,
.table > caption + thead > tr:first-child > td,
.table > colgroup + thead > tr:first-child > td,
.table > thead:first-child > tr:first-child > td {
  border-top: 0;
}
.table > tbody + tbody {
  border-top: 2px solid #ddd;
}
.table .table {
  background-color: #fff;
}
.table-condensed > thead > tr > th,
.table-condensed > tbody > tr > th,
.table-condensed > tfoot > tr > th,
.table-condensed > thead > tr > td,
.table-condensed > tbody > tr > td,
.table-condensed > tfoot > tr > td {
  padding: 5px;
}
.table-bordered {
  border: 1px solid #ddd;
}
.table-bordered > thead > tr > th,
.table-bordered > tbody > tr > th,
.table-bordered > tfoot > tr > th,
.table-bordered > thead > tr > td,
.table-bordered > tbody > tr > td,
.table-bordered > tfoot > tr > td {
  border: 1px solid #ddd;
}
.table-bordered > thead > tr > th,
.table-bordered > thead > tr > td {
  border-bottom-width: 2px;
}
.table-striped > tbody > tr:nth-of-type(odd) {
  background-color: #f9f9f9;
}
.table-hover > tbody > tr:hover {
  background-color: #f5f5f5;
}
table col[class*="col-"] {
  position: static;
  float: none;
  display: table-column;
}
table td[class*="col-"],
table th[class*="col-"] {
  position: static;
  float: none;
  display: table-cell;
}
.table > thead > tr > td.active,
.table > tbody > tr > td.active,
.table > tfoot > tr > td.active,
.table > thead > tr > th.active,
.table > tbody > tr > th.active,
.table > tfoot > tr > th.active,
.table > thead > tr.active > td,
.table > tbody > tr.active > td,
.table > tfoot > tr.active > td,
.table > thead > tr.active > th,
.table > tbody > tr.active > th,
.table > tfoot > tr.active > th {
  background-color: #f5f5f5;
}
.table-hover > tbody > tr > td.active:hover,
.table-hover > tbody > tr > th.active:hover,
.table-hover > tbody > tr.active:hover > td,
.table-hover > tbody > tr:hover > .active,
.table-hover > tbody > tr.active:hover > th {
  background-color: #e8e8e8;
}
.table > thead > tr > td.success,
.table > tbody > tr > td.success,
.table > tfoot > tr > td.success,
.table > thead > tr > th.success,
.table > tbody > tr > th.success,
.table > tfoot > tr > th.success,
.table > thead > tr.success > td,
.table > tbody > tr.success > td,
.table > tfoot > tr.success > td,
.table > thead > tr.success > th,
.table > tbody > tr.success > th,
.table > tfoot > tr.success > th {
  background-color: #dff0d8;
}
.table-hover > tbody > tr > td.success:hover,
.table-hover > tbody > tr > th.success:hover,
.table-hover > tbody > tr.success:hover > td,
.table-hover > tbody > tr:hover > .success,
.table-hover > tbody > tr.success:hover > th {
  background-color: #d0e9c6;
}
.table > thead > tr > td.info,
.table > tbody > tr > td.info,
.table > tfoot > tr > td.info,
.table > thead > tr > th.info,
.table > tbody > tr > th.info,
.table > tfoot > tr > th.info,
.table > thead > tr.info > td,
.table > tbody > tr.info > td,
.table > tfoot > tr.info > td,
.table > thead > tr.info > th,
.table > tbody > tr.info > th,
.table > tfoot > tr.info > th {
  background-color: #d9edf7;
}
.table-hover > tbody > tr > td.info:hover,
.table-hover > tbody > tr > th.info:hover,
.table-hover > tbody > tr.info:hover > td,
.table-hover > tbody > tr:hover > .info,
.table-hover > tbody > tr.info:hover > th {
  background-color: #c4e3f3;
}
.table > thead > tr > td.warning,
.table > tbody > tr > td.warning,
.table > tfoot > tr > td.warning,
.table > thead > tr > th.warning,
.table > tbody > tr > th.warning,
.table > tfoot > tr > th.warning,
.table > thead > tr.warning > td,
.table > tbody > tr.warning > td,
.table > tfoot > tr.warning > td,
.table > thead > tr.warning > th,
.table > tbody > tr.warning > th,
.table > tfoot > tr.warning > th {
  background-color: #fcf8e3;
}
.table-hover > tbody > tr > td.warning:hover,
.table-hover > tbody > tr > th.warning:hover,
.table-hover > tbody > tr.warning:hover > td,
.table-hover > tbody > tr:hover > .warning,
.table-hover > tbody > tr.warning:hover > th {
  background-color: #faf2cc;
}
.table > thead > tr > td.danger,
.table > tbody > tr > td.danger,
.table > tfoot > tr > td.danger,
.table > thead > tr > th.danger,
.table > tbody > tr > th.danger,
.table > tfoot > tr > th.danger,
.table > thead > tr.danger > td,
.table > tbody > tr.danger > td,
.table > tfoot > tr.danger > td,
.table > thead > tr.danger > th,
.table > tbody > tr.danger > th,
.table > tfoot > tr.danger > th {
  background-color: #f2dede;
}
.table-hover > tbody > tr > td.danger:hover,
.table-hover > tbody > tr > th.danger:hover,
.table-hover > tbody > tr.danger:hover > td,
.table-hover > tbody > tr:hover > .danger,
.table-hover > tbody > tr.danger:hover > th {
  background-color: #ebcccc;
}
.table-responsive {
  overflow-x: auto;
  min-height: 0.01%;
}
@media screen and (max-width: 767px) {
  .table-responsive {
    width: 100%;
    margin-bottom: 13.5px;
    overflow-y: hidden;
    -ms-overflow-style: -ms-autohiding-scrollbar;
    border: 1px solid #ddd;
  }
  .table-responsive > .table {
    margin-bottom: 0;
  }
  .table-responsive > .table > thead > tr > th,
  .table-responsive > .table > tbody > tr > th,
  .table-responsive > .table > tfoot > tr > th,
  .table-responsive > .table > thead > tr > td,
  .table-responsive > .table > tbody > tr > td,
  .table-responsive > .table > tfoot > tr > td {
    white-space: nowrap;
  }
  .table-responsive > .table-bordered {
    border: 0;
  }
  .table-responsive > .table-bordered > thead > tr > th:first-child,
  .table-responsive > .table-bordered > tbody > tr > th:first-child,
  .table-responsive > .table-bordered > tfoot > tr > th:first-child,
  .table-responsive > .table-bordered > thead > tr > td:first-child,
  .table-responsive > .table-bordered > tbody > tr > td:first-child,
  .table-responsive > .table-bordered > tfoot > tr > td:first-child {
    border-left: 0;
  }
  .table-responsive > .table-bordered > thead > tr > th:last-child,
  .table-responsive > .table-bordered > tbody > tr > th:last-child,
  .table-responsive > .table-bordered > tfoot > tr > th:last-child,
  .table-responsive > .table-bordered > thead > tr > td:last-child,
  .table-responsive > .table-bordered > tbody > tr > td:last-child,
  .table-responsive > .table-bordered > tfoot > tr > td:last-child {
    border-right: 0;
  }
  .table-responsive > .table-bordered > tbody > tr:last-child > th,
  .table-responsive > .table-bordered > tfoot > tr:last-child > th,
  .table-responsive > .table-bordered > tbody > tr:last-child > td,
  .table-responsive > .table-bordered > tfoot > tr:last-child > td {
    border-bottom: 0;
  }
}
fieldset {
  padding: 0;
  margin: 0;
  border: 0;
  min-width: 0;
}
legend {
  display: block;
  width: 100%;
  padding: 0;
  margin-bottom: 18px;
  font-size: 19.5px;
  line-height: inherit;
  color: #333333;
  border: 0;
  border-bottom: 1px solid #e5e5e5;
}
label {
  display: inline-block;
  max-width: 100%;
  margin-bottom: 5px;
  font-weight: bold;
}
input[type="search"] {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
input[type="radio"],
input[type="checkbox"] {
  margin: 4px 0 0;
  margin-top: 1px \9;
  line-height: normal;
}
input[type="file"] {
  display: block;
}
input[type="range"] {
  display: block;
  width: 100%;
}
select[multiple],
select[size] {
  height: auto;
}
input[type="file"]:focus,
input[type="radio"]:focus,
input[type="checkbox"]:focus {
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
output {
  display: block;
  padding-top: 7px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
}
.form-control {
  display: block;
  width: 100%;
  height: 32px;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
}
.form-control:focus {
  border-color: #66afe9;
  outline: 0;
  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
}
.form-control::-moz-placeholder {
  color: #999;
  opacity: 1;
}
.form-control:-ms-input-placeholder {
  color: #999;
}
.form-control::-webkit-input-placeholder {
  color: #999;
}
.form-control::-ms-expand {
  border: 0;
  background-color: transparent;
}
.form-control[disabled],
.form-control[readonly],
fieldset[disabled] .form-control {
  background-color: #eeeeee;
  opacity: 1;
}
.form-control[disabled],
fieldset[disabled] .form-control {
  cursor: not-allowed;
}
textarea.form-control {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: none;
}
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  input[type="date"].form-control,
  input[type="time"].form-control,
  input[type="datetime-local"].form-control,
  input[type="month"].form-control {
    line-height: 32px;
  }
  input[type="date"].input-sm,
  input[type="time"].input-sm,
  input[type="datetime-local"].input-sm,
  input[type="month"].input-sm,
  .input-group-sm input[type="date"],
  .input-group-sm input[type="time"],
  .input-group-sm input[type="datetime-local"],
  .input-group-sm input[type="month"] {
    line-height: 30px;
  }
  input[type="date"].input-lg,
  input[type="time"].input-lg,
  input[type="datetime-local"].input-lg,
  input[type="month"].input-lg,
  .input-group-lg input[type="date"],
  .input-group-lg input[type="time"],
  .input-group-lg input[type="datetime-local"],
  .input-group-lg input[type="month"] {
    line-height: 45px;
  }
}
.form-group {
  margin-bottom: 15px;
}
.radio,
.checkbox {
  position: relative;
  display: block;
  margin-top: 10px;
  margin-bottom: 10px;
}
.radio label,
.checkbox label {
  min-height: 18px;
  padding-left: 20px;
  margin-bottom: 0;
  font-weight: normal;
  cursor: pointer;
}
.radio input[type="radio"],
.radio-inline input[type="radio"],
.checkbox input[type="checkbox"],
.checkbox-inline input[type="checkbox"] {
  position: absolute;
  margin-left: -20px;
  margin-top: 4px \9;
}
.radio + .radio,
.checkbox + .checkbox {
  margin-top: -5px;
}
.radio-inline,
.checkbox-inline {
  position: relative;
  display: inline-block;
  padding-left: 20px;
  margin-bottom: 0;
  vertical-align: middle;
  font-weight: normal;
  cursor: pointer;
}
.radio-inline + .radio-inline,
.checkbox-inline + .checkbox-inline {
  margin-top: 0;
  margin-left: 10px;
}
input[type="radio"][disabled],
input[type="checkbox"][disabled],
input[type="radio"].disabled,
input[type="checkbox"].disabled,
fieldset[disabled] input[type="radio"],
fieldset[disabled] input[type="checkbox"] {
  cursor: not-allowed;
}
.radio-inline.disabled,
.checkbox-inline.disabled,
fieldset[disabled] .radio-inline,
fieldset[disabled] .checkbox-inline {
  cursor: not-allowed;
}
.radio.disabled label,
.checkbox.disabled label,
fieldset[disabled] .radio label,
fieldset[disabled] .checkbox label {
  cursor: not-allowed;
}
.form-control-static {
  padding-top: 7px;
  padding-bottom: 7px;
  margin-bottom: 0;
  min-height: 31px;
}
.form-control-static.input-lg,
.form-control-static.input-sm {
  padding-left: 0;
  padding-right: 0;
}
.input-sm {
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
select.input-sm {
  height: 30px;
  line-height: 30px;
}
textarea.input-sm,
select[multiple].input-sm {
  height: auto;
}
.form-group-sm .form-control {
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
.form-group-sm select.form-control {
  height: 30px;
  line-height: 30px;
}
.form-group-sm textarea.form-control,
.form-group-sm select[multiple].form-control {
  height: auto;
}
.form-group-sm .form-control-static {
  height: 30px;
  min-height: 30px;
  padding: 6px 10px;
  font-size: 12px;
  line-height: 1.5;
}
.input-lg {
  height: 45px;
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
select.input-lg {
  height: 45px;
  line-height: 45px;
}
textarea.input-lg,
select[multiple].input-lg {
  height: auto;
}
.form-group-lg .form-control {
  height: 45px;
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
.form-group-lg select.form-control {
  height: 45px;
  line-height: 45px;
}
.form-group-lg textarea.form-control,
.form-group-lg select[multiple].form-control {
  height: auto;
}
.form-group-lg .form-control-static {
  height: 45px;
  min-height: 35px;
  padding: 11px 16px;
  font-size: 17px;
  line-height: 1.3333333;
}
.has-feedback {
  position: relative;
}
.has-feedback .form-control {
  padding-right: 40px;
}
.form-control-feedback {
  position: absolute;
  top: 0;
  right: 0;
  z-index: 2;
  display: block;
  width: 32px;
  height: 32px;
  line-height: 32px;
  text-align: center;
  pointer-events: none;
}
.input-lg + .form-control-feedback,
.input-group-lg + .form-control-feedback,
.form-group-lg .form-control + .form-control-feedback {
  width: 45px;
  height: 45px;
  line-height: 45px;
}
.input-sm + .form-control-feedback,
.input-group-sm + .form-control-feedback,
.form-group-sm .form-control + .form-control-feedback {
  width: 30px;
  height: 30px;
  line-height: 30px;
}
.has-success .help-block,
.has-success .control-label,
.has-success .radio,
.has-success .checkbox,
.has-success .radio-inline,
.has-success .checkbox-inline,
.has-success.radio label,
.has-success.checkbox label,
.has-success.radio-inline label,
.has-success.checkbox-inline label {
  color: #3c763d;
}
.has-success .form-control {
  border-color: #3c763d;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}
.has-success .form-control:focus {
  border-color: #2b542c;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #67b168;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #67b168;
}
.has-success .input-group-addon {
  color: #3c763d;
  border-color: #3c763d;
  background-color: #dff0d8;
}
.has-success .form-control-feedback {
  color: #3c763d;
}
.has-warning .help-block,
.has-warning .control-label,
.has-warning .radio,
.has-warning .checkbox,
.has-warning .radio-inline,
.has-warning .checkbox-inline,
.has-warning.radio label,
.has-warning.checkbox label,
.has-warning.radio-inline label,
.has-warning.checkbox-inline label {
  color: #8a6d3b;
}
.has-warning .form-control {
  border-color: #8a6d3b;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}
.has-warning .form-control:focus {
  border-color: #66512c;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #c0a16b;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #c0a16b;
}
.has-warning .input-group-addon {
  color: #8a6d3b;
  border-color: #8a6d3b;
  background-color: #fcf8e3;
}
.has-warning .form-control-feedback {
  color: #8a6d3b;
}
.has-error .help-block,
.has-error .control-label,
.has-error .radio,
.has-error .checkbox,
.has-error .radio-inline,
.has-error .checkbox-inline,
.has-error.radio label,
.has-error.checkbox label,
.has-error.radio-inline label,
.has-error.checkbox-inline label {
  color: #a94442;
}
.has-error .form-control {
  border-color: #a94442;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}
.has-error .form-control:focus {
  border-color: #843534;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #ce8483;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #ce8483;
}
.has-error .input-group-addon {
  color: #a94442;
  border-color: #a94442;
  background-color: #f2dede;
}
.has-error .form-control-feedback {
  color: #a94442;
}
.has-feedback label ~ .form-control-feedback {
  top: 23px;
}
.has-feedback label.sr-only ~ .form-control-feedback {
  top: 0;
}
.help-block {
  display: block;
  margin-top: 5px;
  margin-bottom: 10px;
  color: #404040;
}
@media (min-width: 768px) {
  .form-inline .form-group {
    display: inline-block;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .form-inline .form-control {
    display: inline-block;
    width: auto;
    vertical-align: middle;
  }
  .form-inline .form-control-static {
    display: inline-block;
  }
  .form-inline .input-group {
    display: inline-table;
    vertical-align: middle;
  }
  .form-inline .input-group .input-group-addon,
  .form-inline .input-group .input-group-btn,
  .form-inline .input-group .form-control {
    width: auto;
  }
  .form-inline .input-group > .form-control {
    width: 100%;
  }
  .form-inline .control-label {
    margin-bottom: 0;
    vertical-align: middle;
  }
  .form-inline .radio,
  .form-inline .checkbox {
    display: inline-block;
    margin-top: 0;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .form-inline .radio label,
  .form-inline .checkbox label {
    padding-left: 0;
  }
  .form-inline .radio input[type="radio"],
  .form-inline .checkbox input[type="checkbox"] {
    position: relative;
    margin-left: 0;
  }
  .form-inline .has-feedback .form-control-feedback {
    top: 0;
  }
}
.form-horizontal .radio,
.form-horizontal .checkbox,
.form-horizontal .radio-inline,
.form-horizontal .checkbox-inline {
  margin-top: 0;
  margin-bottom: 0;
  padding-top: 7px;
}
.form-horizontal .radio,
.form-horizontal .checkbox {
  min-height: 25px;
}
.form-horizontal .form-group {
  margin-left: 0px;
  margin-right: 0px;
}
@media (min-width: 768px) {
  .form-horizontal .control-label {
    text-align: right;
    margin-bottom: 0;
    padding-top: 7px;
  }
}
.form-horizontal .has-feedback .form-control-feedback {
  right: 0px;
}
@media (min-width: 768px) {
  .form-horizontal .form-group-lg .control-label {
    padding-top: 11px;
    font-size: 17px;
  }
}
@media (min-width: 768px) {
  .form-horizontal .form-group-sm .control-label {
    padding-top: 6px;
    font-size: 12px;
  }
}
.btn {
  display: inline-block;
  margin-bottom: 0;
  font-weight: normal;
  text-align: center;
  vertical-align: middle;
  touch-action: manipulation;
  cursor: pointer;
  background-image: none;
  border: 1px solid transparent;
  white-space: nowrap;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  border-radius: 2px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
.btn:focus,
.btn:active:focus,
.btn.active:focus,
.btn.focus,
.btn:active.focus,
.btn.active.focus {
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
.btn:hover,
.btn:focus,
.btn.focus {
  color: #333;
  text-decoration: none;
}
.btn:active,
.btn.active {
  outline: 0;
  background-image: none;
  -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
}
.btn.disabled,
.btn[disabled],
fieldset[disabled] .btn {
  cursor: not-allowed;
  opacity: 0.65;
  filter: alpha(opacity=65);
  -webkit-box-shadow: none;
  box-shadow: none;
}
a.btn.disabled,
fieldset[disabled] a.btn {
  pointer-events: none;
}
.btn-default {
  color: #333;
  background-color: #fff;
  border-color: #ccc;
}
.btn-default:focus,
.btn-default.focus {
  color: #333;
  background-color: #e6e6e6;
  border-color: #8c8c8c;
}
.btn-default:hover {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.btn-default:active,
.btn-default.active,
.open > .dropdown-toggle.btn-default {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.btn-default:active:hover,
.btn-default.active:hover,
.open > .dropdown-toggle.btn-default:hover,
.btn-default:active:focus,
.btn-default.active:focus,
.open > .dropdown-toggle.btn-default:focus,
.btn-default:active.focus,
.btn-default.active.focus,
.open > .dropdown-toggle.btn-default.focus {
  color: #333;
  background-color: #d4d4d4;
  border-color: #8c8c8c;
}
.btn-default:active,
.btn-default.active,
.open > .dropdown-toggle.btn-default {
  background-image: none;
}
.btn-default.disabled:hover,
.btn-default[disabled]:hover,
fieldset[disabled] .btn-default:hover,
.btn-default.disabled:focus,
.btn-default[disabled]:focus,
fieldset[disabled] .btn-default:focus,
.btn-default.disabled.focus,
.btn-default[disabled].focus,
fieldset[disabled] .btn-default.focus {
  background-color: #fff;
  border-color: #ccc;
}
.btn-default .badge {
  color: #fff;
  background-color: #333;
}
.btn-primary {
  color: #fff;
  background-color: #337ab7;
  border-color: #2e6da4;
}
.btn-primary:focus,
.btn-primary.focus {
  color: #fff;
  background-color: #286090;
  border-color: #122b40;
}
.btn-primary:hover {
  color: #fff;
  background-color: #286090;
  border-color: #204d74;
}
.btn-primary:active,
.btn-primary.active,
.open > .dropdown-toggle.btn-primary {
  color: #fff;
  background-color: #286090;
  border-color: #204d74;
}
.btn-primary:active:hover,
.btn-primary.active:hover,
.open > .dropdown-toggle.btn-primary:hover,
.btn-primary:active:focus,
.btn-primary.active:focus,
.open > .dropdown-toggle.btn-primary:focus,
.btn-primary:active.focus,
.btn-primary.active.focus,
.open > .dropdown-toggle.btn-primary.focus {
  color: #fff;
  background-color: #204d74;
  border-color: #122b40;
}
.btn-primary:active,
.btn-primary.active,
.open > .dropdown-toggle.btn-primary {
  background-image: none;
}
.btn-primary.disabled:hover,
.btn-primary[disabled]:hover,
fieldset[disabled] .btn-primary:hover,
.btn-primary.disabled:focus,
.btn-primary[disabled]:focus,
fieldset[disabled] .btn-primary:focus,
.btn-primary.disabled.focus,
.btn-primary[disabled].focus,
fieldset[disabled] .btn-primary.focus {
  background-color: #337ab7;
  border-color: #2e6da4;
}
.btn-primary .badge {
  color: #337ab7;
  background-color: #fff;
}
.btn-success {
  color: #fff;
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.btn-success:focus,
.btn-success.focus {
  color: #fff;
  background-color: #449d44;
  border-color: #255625;
}
.btn-success:hover {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.btn-success:active,
.btn-success.active,
.open > .dropdown-toggle.btn-success {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.btn-success:active:hover,
.btn-success.active:hover,
.open > .dropdown-toggle.btn-success:hover,
.btn-success:active:focus,
.btn-success.active:focus,
.open > .dropdown-toggle.btn-success:focus,
.btn-success:active.focus,
.btn-success.active.focus,
.open > .dropdown-toggle.btn-success.focus {
  color: #fff;
  background-color: #398439;
  border-color: #255625;
}
.btn-success:active,
.btn-success.active,
.open > .dropdown-toggle.btn-success {
  background-image: none;
}
.btn-success.disabled:hover,
.btn-success[disabled]:hover,
fieldset[disabled] .btn-success:hover,
.btn-success.disabled:focus,
.btn-success[disabled]:focus,
fieldset[disabled] .btn-success:focus,
.btn-success.disabled.focus,
.btn-success[disabled].focus,
fieldset[disabled] .btn-success.focus {
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.btn-success .badge {
  color: #5cb85c;
  background-color: #fff;
}
.btn-info {
  color: #fff;
  background-color: #5bc0de;
  border-color: #46b8da;
}
.btn-info:focus,
.btn-info.focus {
  color: #fff;
  background-color: #31b0d5;
  border-color: #1b6d85;
}
.btn-info:hover {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.btn-info:active,
.btn-info.active,
.open > .dropdown-toggle.btn-info {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.btn-info:active:hover,
.btn-info.active:hover,
.open > .dropdown-toggle.btn-info:hover,
.btn-info:active:focus,
.btn-info.active:focus,
.open > .dropdown-toggle.btn-info:focus,
.btn-info:active.focus,
.btn-info.active.focus,
.open > .dropdown-toggle.btn-info.focus {
  color: #fff;
  background-color: #269abc;
  border-color: #1b6d85;
}
.btn-info:active,
.btn-info.active,
.open > .dropdown-toggle.btn-info {
  background-image: none;
}
.btn-info.disabled:hover,
.btn-info[disabled]:hover,
fieldset[disabled] .btn-info:hover,
.btn-info.disabled:focus,
.btn-info[disabled]:focus,
fieldset[disabled] .btn-info:focus,
.btn-info.disabled.focus,
.btn-info[disabled].focus,
fieldset[disabled] .btn-info.focus {
  background-color: #5bc0de;
  border-color: #46b8da;
}
.btn-info .badge {
  color: #5bc0de;
  background-color: #fff;
}
.btn-warning {
  color: #fff;
  background-color: #f0ad4e;
  border-color: #eea236;
}
.btn-warning:focus,
.btn-warning.focus {
  color: #fff;
  background-color: #ec971f;
  border-color: #985f0d;
}
.btn-warning:hover {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.btn-warning:active,
.btn-warning.active,
.open > .dropdown-toggle.btn-warning {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.btn-warning:active:hover,
.btn-warning.active:hover,
.open > .dropdown-toggle.btn-warning:hover,
.btn-warning:active:focus,
.btn-warning.active:focus,
.open > .dropdown-toggle.btn-warning:focus,
.btn-warning:active.focus,
.btn-warning.active.focus,
.open > .dropdown-toggle.btn-warning.focus {
  color: #fff;
  background-color: #d58512;
  border-color: #985f0d;
}
.btn-warning:active,
.btn-warning.active,
.open > .dropdown-toggle.btn-warning {
  background-image: none;
}
.btn-warning.disabled:hover,
.btn-warning[disabled]:hover,
fieldset[disabled] .btn-warning:hover,
.btn-warning.disabled:focus,
.btn-warning[disabled]:focus,
fieldset[disabled] .btn-warning:focus,
.btn-warning.disabled.focus,
.btn-warning[disabled].focus,
fieldset[disabled] .btn-warning.focus {
  background-color: #f0ad4e;
  border-color: #eea236;
}
.btn-warning .badge {
  color: #f0ad4e;
  background-color: #fff;
}
.btn-danger {
  color: #fff;
  background-color: #d9534f;
  border-color: #d43f3a;
}
.btn-danger:focus,
.btn-danger.focus {
  color: #fff;
  background-color: #c9302c;
  border-color: #761c19;
}
.btn-danger:hover {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.btn-danger:active,
.btn-danger.active,
.open > .dropdown-toggle.btn-danger {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.btn-danger:active:hover,
.btn-danger.active:hover,
.open > .dropdown-toggle.btn-danger:hover,
.btn-danger:active:focus,
.btn-danger.active:focus,
.open > .dropdown-toggle.btn-danger:focus,
.btn-danger:active.focus,
.btn-danger.active.focus,
.open > .dropdown-toggle.btn-danger.focus {
  color: #fff;
  background-color: #ac2925;
  border-color: #761c19;
}
.btn-danger:active,
.btn-danger.active,
.open > .dropdown-toggle.btn-danger {
  background-image: none;
}
.btn-danger.disabled:hover,
.btn-danger[disabled]:hover,
fieldset[disabled] .btn-danger:hover,
.btn-danger.disabled:focus,
.btn-danger[disabled]:focus,
fieldset[disabled] .btn-danger:focus,
.btn-danger.disabled.focus,
.btn-danger[disabled].focus,
fieldset[disabled] .btn-danger.focus {
  background-color: #d9534f;
  border-color: #d43f3a;
}
.btn-danger .badge {
  color: #d9534f;
  background-color: #fff;
}
.btn-link {
  color: #337ab7;
  font-weight: normal;
  border-radius: 0;
}
.btn-link,
.btn-link:active,
.btn-link.active,
.btn-link[disabled],
fieldset[disabled] .btn-link {
  background-color: transparent;
  -webkit-box-shadow: none;
  box-shadow: none;
}
.btn-link,
.btn-link:hover,
.btn-link:focus,
.btn-link:active {
  border-color: transparent;
}
.btn-link:hover,
.btn-link:focus {
  color: #23527c;
  text-decoration: underline;
  background-color: transparent;
}
.btn-link[disabled]:hover,
fieldset[disabled] .btn-link:hover,
.btn-link[disabled]:focus,
fieldset[disabled] .btn-link:focus {
  color: #777777;
  text-decoration: none;
}
.btn-lg,
.btn-group-lg > .btn {
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
.btn-sm,
.btn-group-sm > .btn {
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
.btn-xs,
.btn-group-xs > .btn {
  padding: 1px 5px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
.btn-block {
  display: block;
  width: 100%;
}
.btn-block + .btn-block {
  margin-top: 5px;
}
input[type="submit"].btn-block,
input[type="reset"].btn-block,
input[type="button"].btn-block {
  width: 100%;
}
.fade {
  opacity: 0;
  -webkit-transition: opacity 0.15s linear;
  -o-transition: opacity 0.15s linear;
  transition: opacity 0.15s linear;
}
.fade.in {
  opacity: 1;
}
.collapse {
  display: none;
}
.collapse.in {
  display: block;
}
tr.collapse.in {
  display: table-row;
}
tbody.collapse.in {
  display: table-row-group;
}
.collapsing {
  position: relative;
  height: 0;
  overflow: hidden;
  -webkit-transition-property: height, visibility;
  transition-property: height, visibility;
  -webkit-transition-duration: 0.35s;
  transition-duration: 0.35s;
  -webkit-transition-timing-function: ease;
  transition-timing-function: ease;
}
.caret {
  display: inline-block;
  width: 0;
  height: 0;
  margin-left: 2px;
  vertical-align: middle;
  border-top: 4px dashed;
  border-top: 4px solid \9;
  border-right: 4px solid transparent;
  border-left: 4px solid transparent;
}
.dropup,
.dropdown {
  position: relative;
}
.dropdown-toggle:focus {
  outline: 0;
}
.dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 1000;
  display: none;
  float: left;
  min-width: 160px;
  padding: 5px 0;
  margin: 2px 0 0;
  list-style: none;
  font-size: 13px;
  text-align: left;
  background-color: #fff;
  border: 1px solid #ccc;
  border: 1px solid rgba(0, 0, 0, 0.15);
  border-radius: 2px;
  -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
  background-clip: padding-box;
}
.dropdown-menu.pull-right {
  right: 0;
  left: auto;
}
.dropdown-menu .divider {
  height: 1px;
  margin: 8px 0;
  overflow: hidden;
  background-color: #e5e5e5;
}
.dropdown-menu > li > a {
  display: block;
  padding: 3px 20px;
  clear: both;
  font-weight: normal;
  line-height: 1.42857143;
  color: #333333;
  white-space: nowrap;
}
.dropdown-menu > li > a:hover,
.dropdown-menu > li > a:focus {
  text-decoration: none;
  color: #262626;
  background-color: #f5f5f5;
}
.dropdown-menu > .active > a,
.dropdown-menu > .active > a:hover,
.dropdown-menu > .active > a:focus {
  color: #fff;
  text-decoration: none;
  outline: 0;
  background-color: #337ab7;
}
.dropdown-menu > .disabled > a,
.dropdown-menu > .disabled > a:hover,
.dropdown-menu > .disabled > a:focus {
  color: #777777;
}
.dropdown-menu > .disabled > a:hover,
.dropdown-menu > .disabled > a:focus {
  text-decoration: none;
  background-color: transparent;
  background-image: none;
  filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);
  cursor: not-allowed;
}
.open > .dropdown-menu {
  display: block;
}
.open > a {
  outline: 0;
}
.dropdown-menu-right {
  left: auto;
  right: 0;
}
.dropdown-menu-left {
  left: 0;
  right: auto;
}
.dropdown-header {
  display: block;
  padding: 3px 20px;
  font-size: 12px;
  line-height: 1.42857143;
  color: #777777;
  white-space: nowrap;
}
.dropdown-backdrop {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  z-index: 990;
}
.pull-right > .dropdown-menu {
  right: 0;
  left: auto;
}
.dropup .caret,
.navbar-fixed-bottom .dropdown .caret {
  border-top: 0;
  border-bottom: 4px dashed;
  border-bottom: 4px solid \9;
  content: "";
}
.dropup .dropdown-menu,
.navbar-fixed-bottom .dropdown .dropdown-menu {
  top: auto;
  bottom: 100%;
  margin-bottom: 2px;
}
@media (min-width: 541px) {
  .navbar-right .dropdown-menu {
    left: auto;
    right: 0;
  }
  .navbar-right .dropdown-menu-left {
    left: 0;
    right: auto;
  }
}
.btn-group,
.btn-group-vertical {
  position: relative;
  display: inline-block;
  vertical-align: middle;
}
.btn-group > .btn,
.btn-group-vertical > .btn {
  position: relative;
  float: left;
}
.btn-group > .btn:hover,
.btn-group-vertical > .btn:hover,
.btn-group > .btn:focus,
.btn-group-vertical > .btn:focus,
.btn-group > .btn:active,
.btn-group-vertical > .btn:active,
.btn-group > .btn.active,
.btn-group-vertical > .btn.active {
  z-index: 2;
}
.btn-group .btn + .btn,
.btn-group .btn + .btn-group,
.btn-group .btn-group + .btn,
.btn-group .btn-group + .btn-group {
  margin-left: -1px;
}
.btn-toolbar {
  margin-left: -5px;
}
.btn-toolbar .btn,
.btn-toolbar .btn-group,
.btn-toolbar .input-group {
  float: left;
}
.btn-toolbar > .btn,
.btn-toolbar > .btn-group,
.btn-toolbar > .input-group {
  margin-left: 5px;
}
.btn-group > .btn:not(:first-child):not(:last-child):not(.dropdown-toggle) {
  border-radius: 0;
}
.btn-group > .btn:first-child {
  margin-left: 0;
}
.btn-group > .btn:first-child:not(:last-child):not(.dropdown-toggle) {
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
}
.btn-group > .btn:last-child:not(:first-child),
.btn-group > .dropdown-toggle:not(:first-child) {
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
}
.btn-group > .btn-group {
  float: left;
}
.btn-group > .btn-group:not(:first-child):not(:last-child) > .btn {
  border-radius: 0;
}
.btn-group > .btn-group:first-child:not(:last-child) > .btn:last-child,
.btn-group > .btn-group:first-child:not(:last-child) > .dropdown-toggle {
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
}
.btn-group > .btn-group:last-child:not(:first-child) > .btn:first-child {
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
}
.btn-group .dropdown-toggle:active,
.btn-group.open .dropdown-toggle {
  outline: 0;
}
.btn-group > .btn + .dropdown-toggle {
  padding-left: 8px;
  padding-right: 8px;
}
.btn-group > .btn-lg + .dropdown-toggle {
  padding-left: 12px;
  padding-right: 12px;
}
.btn-group.open .dropdown-toggle {
  -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
}
.btn-group.open .dropdown-toggle.btn-link {
  -webkit-box-shadow: none;
  box-shadow: none;
}
.btn .caret {
  margin-left: 0;
}
.btn-lg .caret {
  border-width: 5px 5px 0;
  border-bottom-width: 0;
}
.dropup .btn-lg .caret {
  border-width: 0 5px 5px;
}
.btn-group-vertical > .btn,
.btn-group-vertical > .btn-group,
.btn-group-vertical > .btn-group > .btn {
  display: block;
  float: none;
  width: 100%;
  max-width: 100%;
}
.btn-group-vertical > .btn-group > .btn {
  float: none;
}
.btn-group-vertical > .btn + .btn,
.btn-group-vertical > .btn + .btn-group,
.btn-group-vertical > .btn-group + .btn,
.btn-group-vertical > .btn-group + .btn-group {
  margin-top: -1px;
  margin-left: 0;
}
.btn-group-vertical > .btn:not(:first-child):not(:last-child) {
  border-radius: 0;
}
.btn-group-vertical > .btn:first-child:not(:last-child) {
  border-top-right-radius: 2px;
  border-top-left-radius: 2px;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.btn-group-vertical > .btn:last-child:not(:first-child) {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
  border-bottom-right-radius: 2px;
  border-bottom-left-radius: 2px;
}
.btn-group-vertical > .btn-group:not(:first-child):not(:last-child) > .btn {
  border-radius: 0;
}
.btn-group-vertical > .btn-group:first-child:not(:last-child) > .btn:last-child,
.btn-group-vertical > .btn-group:first-child:not(:last-child) > .dropdown-toggle {
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.btn-group-vertical > .btn-group:last-child:not(:first-child) > .btn:first-child {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.btn-group-justified {
  display: table;
  width: 100%;
  table-layout: fixed;
  border-collapse: separate;
}
.btn-group-justified > .btn,
.btn-group-justified > .btn-group {
  float: none;
  display: table-cell;
  width: 1%;
}
.btn-group-justified > .btn-group .btn {
  width: 100%;
}
.btn-group-justified > .btn-group .dropdown-menu {
  left: auto;
}
[data-toggle="buttons"] > .btn input[type="radio"],
[data-toggle="buttons"] > .btn-group > .btn input[type="radio"],
[data-toggle="buttons"] > .btn input[type="checkbox"],
[data-toggle="buttons"] > .btn-group > .btn input[type="checkbox"] {
  position: absolute;
  clip: rect(0, 0, 0, 0);
  pointer-events: none;
}
.input-group {
  position: relative;
  display: table;
  border-collapse: separate;
}
.input-group[class*="col-"] {
  float: none;
  padding-left: 0;
  padding-right: 0;
}
.input-group .form-control {
  position: relative;
  z-index: 2;
  float: left;
  width: 100%;
  margin-bottom: 0;
}
.input-group .form-control:focus {
  z-index: 3;
}
.input-group-lg > .form-control,
.input-group-lg > .input-group-addon,
.input-group-lg > .input-group-btn > .btn {
  height: 45px;
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
select.input-group-lg > .form-control,
select.input-group-lg > .input-group-addon,
select.input-group-lg > .input-group-btn > .btn {
  height: 45px;
  line-height: 45px;
}
textarea.input-group-lg > .form-control,
textarea.input-group-lg > .input-group-addon,
textarea.input-group-lg > .input-group-btn > .btn,
select[multiple].input-group-lg > .form-control,
select[multiple].input-group-lg > .input-group-addon,
select[multiple].input-group-lg > .input-group-btn > .btn {
  height: auto;
}
.input-group-sm > .form-control,
.input-group-sm > .input-group-addon,
.input-group-sm > .input-group-btn > .btn {
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
select.input-group-sm > .form-control,
select.input-group-sm > .input-group-addon,
select.input-group-sm > .input-group-btn > .btn {
  height: 30px;
  line-height: 30px;
}
textarea.input-group-sm > .form-control,
textarea.input-group-sm > .input-group-addon,
textarea.input-group-sm > .input-group-btn > .btn,
select[multiple].input-group-sm > .form-control,
select[multiple].input-group-sm > .input-group-addon,
select[multiple].input-group-sm > .input-group-btn > .btn {
  height: auto;
}
.input-group-addon,
.input-group-btn,
.input-group .form-control {
  display: table-cell;
}
.input-group-addon:not(:first-child):not(:last-child),
.input-group-btn:not(:first-child):not(:last-child),
.input-group .form-control:not(:first-child):not(:last-child) {
  border-radius: 0;
}
.input-group-addon,
.input-group-btn {
  width: 1%;
  white-space: nowrap;
  vertical-align: middle;
}
.input-group-addon {
  padding: 6px 12px;
  font-size: 13px;
  font-weight: normal;
  line-height: 1;
  color: #555555;
  text-align: center;
  background-color: #eeeeee;
  border: 1px solid #ccc;
  border-radius: 2px;
}
.input-group-addon.input-sm {
  padding: 5px 10px;
  font-size: 12px;
  border-radius: 1px;
}
.input-group-addon.input-lg {
  padding: 10px 16px;
  font-size: 17px;
  border-radius: 3px;
}
.input-group-addon input[type="radio"],
.input-group-addon input[type="checkbox"] {
  margin-top: 0;
}
.input-group .form-control:first-child,
.input-group-addon:first-child,
.input-group-btn:first-child > .btn,
.input-group-btn:first-child > .btn-group > .btn,
.input-group-btn:first-child > .dropdown-toggle,
.input-group-btn:last-child > .btn:not(:last-child):not(.dropdown-toggle),
.input-group-btn:last-child > .btn-group:not(:last-child) > .btn {
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
}
.input-group-addon:first-child {
  border-right: 0;
}
.input-group .form-control:last-child,
.input-group-addon:last-child,
.input-group-btn:last-child > .btn,
.input-group-btn:last-child > .btn-group > .btn,
.input-group-btn:last-child > .dropdown-toggle,
.input-group-btn:first-child > .btn:not(:first-child),
.input-group-btn:first-child > .btn-group:not(:first-child) > .btn {
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
}
.input-group-addon:last-child {
  border-left: 0;
}
.input-group-btn {
  position: relative;
  font-size: 0;
  white-space: nowrap;
}
.input-group-btn > .btn {
  position: relative;
}
.input-group-btn > .btn + .btn {
  margin-left: -1px;
}
.input-group-btn > .btn:hover,
.input-group-btn > .btn:focus,
.input-group-btn > .btn:active {
  z-index: 2;
}
.input-group-btn:first-child > .btn,
.input-group-btn:first-child > .btn-group {
  margin-right: -1px;
}
.input-group-btn:last-child > .btn,
.input-group-btn:last-child > .btn-group {
  z-index: 2;
  margin-left: -1px;
}
.nav {
  margin-bottom: 0;
  padding-left: 0;
  list-style: none;
}
.nav > li {
  position: relative;
  display: block;
}
.nav > li > a {
  position: relative;
  display: block;
  padding: 10px 15px;
}
.nav > li > a:hover,
.nav > li > a:focus {
  text-decoration: none;
  background-color: #eeeeee;
}
.nav > li.disabled > a {
  color: #777777;
}
.nav > li.disabled > a:hover,
.nav > li.disabled > a:focus {
  color: #777777;
  text-decoration: none;
  background-color: transparent;
  cursor: not-allowed;
}
.nav .open > a,
.nav .open > a:hover,
.nav .open > a:focus {
  background-color: #eeeeee;
  border-color: #337ab7;
}
.nav .nav-divider {
  height: 1px;
  margin: 8px 0;
  overflow: hidden;
  background-color: #e5e5e5;
}
.nav > li > a > img {
  max-width: none;
}
.nav-tabs {
  border-bottom: 1px solid #ddd;
}
.nav-tabs > li {
  float: left;
  margin-bottom: -1px;
}
.nav-tabs > li > a {
  margin-right: 2px;
  line-height: 1.42857143;
  border: 1px solid transparent;
  border-radius: 2px 2px 0 0;
}
.nav-tabs > li > a:hover {
  border-color: #eeeeee #eeeeee #ddd;
}
.nav-tabs > li.active > a,
.nav-tabs > li.active > a:hover,
.nav-tabs > li.active > a:focus {
  color: #555555;
  background-color: #fff;
  border: 1px solid #ddd;
  border-bottom-color: transparent;
  cursor: default;
}
.nav-tabs.nav-justified {
  width: 100%;
  border-bottom: 0;
}
.nav-tabs.nav-justified > li {
  float: none;
}
.nav-tabs.nav-justified > li > a {
  text-align: center;
  margin-bottom: 5px;
}
.nav-tabs.nav-justified > .dropdown .dropdown-menu {
  top: auto;
  left: auto;
}
@media (min-width: 768px) {
  .nav-tabs.nav-justified > li {
    display: table-cell;
    width: 1%;
  }
  .nav-tabs.nav-justified > li > a {
    margin-bottom: 0;
  }
}
.nav-tabs.nav-justified > li > a {
  margin-right: 0;
  border-radius: 2px;
}
.nav-tabs.nav-justified > .active > a,
.nav-tabs.nav-justified > .active > a:hover,
.nav-tabs.nav-justified > .active > a:focus {
  border: 1px solid #ddd;
}
@media (min-width: 768px) {
  .nav-tabs.nav-justified > li > a {
    border-bottom: 1px solid #ddd;
    border-radius: 2px 2px 0 0;
  }
  .nav-tabs.nav-justified > .active > a,
  .nav-tabs.nav-justified > .active > a:hover,
  .nav-tabs.nav-justified > .active > a:focus {
    border-bottom-color: #fff;
  }
}
.nav-pills > li {
  float: left;
}
.nav-pills > li > a {
  border-radius: 2px;
}
.nav-pills > li + li {
  margin-left: 2px;
}
.nav-pills > li.active > a,
.nav-pills > li.active > a:hover,
.nav-pills > li.active > a:focus {
  color: #fff;
  background-color: #337ab7;
}
.nav-stacked > li {
  float: none;
}
.nav-stacked > li + li {
  margin-top: 2px;
  margin-left: 0;
}
.nav-justified {
  width: 100%;
}
.nav-justified > li {
  float: none;
}
.nav-justified > li > a {
  text-align: center;
  margin-bottom: 5px;
}
.nav-justified > .dropdown .dropdown-menu {
  top: auto;
  left: auto;
}
@media (min-width: 768px) {
  .nav-justified > li {
    display: table-cell;
    width: 1%;
  }
  .nav-justified > li > a {
    margin-bottom: 0;
  }
}
.nav-tabs-justified {
  border-bottom: 0;
}
.nav-tabs-justified > li > a {
  margin-right: 0;
  border-radius: 2px;
}
.nav-tabs-justified > .active > a,
.nav-tabs-justified > .active > a:hover,
.nav-tabs-justified > .active > a:focus {
  border: 1px solid #ddd;
}
@media (min-width: 768px) {
  .nav-tabs-justified > li > a {
    border-bottom: 1px solid #ddd;
    border-radius: 2px 2px 0 0;
  }
  .nav-tabs-justified > .active > a,
  .nav-tabs-justified > .active > a:hover,
  .nav-tabs-justified > .active > a:focus {
    border-bottom-color: #fff;
  }
}
.tab-content > .tab-pane {
  display: none;
}
.tab-content > .active {
  display: block;
}
.nav-tabs .dropdown-menu {
  margin-top: -1px;
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.navbar {
  position: relative;
  min-height: 30px;
  margin-bottom: 18px;
  border: 1px solid transparent;
}
@media (min-width: 541px) {
  .navbar {
    border-radius: 2px;
  }
}
@media (min-width: 541px) {
  .navbar-header {
    float: left;
  }
}
.navbar-collapse {
  overflow-x: visible;
  padding-right: 0px;
  padding-left: 0px;
  border-top: 1px solid transparent;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1);
  -webkit-overflow-scrolling: touch;
}
.navbar-collapse.in {
  overflow-y: auto;
}
@media (min-width: 541px) {
  .navbar-collapse {
    width: auto;
    border-top: 0;
    box-shadow: none;
  }
  .navbar-collapse.collapse {
    display: block !important;
    height: auto !important;
    padding-bottom: 0;
    overflow: visible !important;
  }
  .navbar-collapse.in {
    overflow-y: visible;
  }
  .navbar-fixed-top .navbar-collapse,
  .navbar-static-top .navbar-collapse,
  .navbar-fixed-bottom .navbar-collapse {
    padding-left: 0;
    padding-right: 0;
  }
}
.navbar-fixed-top .navbar-collapse,
.navbar-fixed-bottom .navbar-collapse {
  max-height: 340px;
}
@media (max-device-width: 540px) and (orientation: landscape) {
  .navbar-fixed-top .navbar-collapse,
  .navbar-fixed-bottom .navbar-collapse {
    max-height: 200px;
  }
}
.container > .navbar-header,
.container-fluid > .navbar-header,
.container > .navbar-collapse,
.container-fluid > .navbar-collapse {
  margin-right: 0px;
  margin-left: 0px;
}
@media (min-width: 541px) {
  .container > .navbar-header,
  .container-fluid > .navbar-header,
  .container > .navbar-collapse,
  .container-fluid > .navbar-collapse {
    margin-right: 0;
    margin-left: 0;
  }
}
.navbar-static-top {
  z-index: 1000;
  border-width: 0 0 1px;
}
@media (min-width: 541px) {
  .navbar-static-top {
    border-radius: 0;
  }
}
.navbar-fixed-top,
.navbar-fixed-bottom {
  position: fixed;
  right: 0;
  left: 0;
  z-index: 1030;
}
@media (min-width: 541px) {
  .navbar-fixed-top,
  .navbar-fixed-bottom {
    border-radius: 0;
  }
}
.navbar-fixed-top {
  top: 0;
  border-width: 0 0 1px;
}
.navbar-fixed-bottom {
  bottom: 0;
  margin-bottom: 0;
  border-width: 1px 0 0;
}
.navbar-brand {
  float: left;
  padding: 6px 0px;
  font-size: 17px;
  line-height: 18px;
  height: 30px;
}
.navbar-brand:hover,
.navbar-brand:focus {
  text-decoration: none;
}
.navbar-brand > img {
  display: block;
}
@media (min-width: 541px) {
  .navbar > .container .navbar-brand,
  .navbar > .container-fluid .navbar-brand {
    margin-left: 0px;
  }
}
.navbar-toggle {
  position: relative;
  float: right;
  margin-right: 0px;
  padding: 9px 10px;
  margin-top: -2px;
  margin-bottom: -2px;
  background-color: transparent;
  background-image: none;
  border: 1px solid transparent;
  border-radius: 2px;
}
.navbar-toggle:focus {
  outline: 0;
}
.navbar-toggle .icon-bar {
  display: block;
  width: 22px;
  height: 2px;
  border-radius: 1px;
}
.navbar-toggle .icon-bar + .icon-bar {
  margin-top: 4px;
}
@media (min-width: 541px) {
  .navbar-toggle {
    display: none;
  }
}
.navbar-nav {
  margin: 3px 0px;
}
.navbar-nav > li > a {
  padding-top: 10px;
  padding-bottom: 10px;
  line-height: 18px;
}
@media (max-width: 540px) {
  .navbar-nav .open .dropdown-menu {
    position: static;
    float: none;
    width: auto;
    margin-top: 0;
    background-color: transparent;
    border: 0;
    box-shadow: none;
  }
  .navbar-nav .open .dropdown-menu > li > a,
  .navbar-nav .open .dropdown-menu .dropdown-header {
    padding: 5px 15px 5px 25px;
  }
  .navbar-nav .open .dropdown-menu > li > a {
    line-height: 18px;
  }
  .navbar-nav .open .dropdown-menu > li > a:hover,
  .navbar-nav .open .dropdown-menu > li > a:focus {
    background-image: none;
  }
}
@media (min-width: 541px) {
  .navbar-nav {
    float: left;
    margin: 0;
  }
  .navbar-nav > li {
    float: left;
  }
  .navbar-nav > li > a {
    padding-top: 6px;
    padding-bottom: 6px;
  }
}
.navbar-form {
  margin-left: 0px;
  margin-right: 0px;
  padding: 10px 0px;
  border-top: 1px solid transparent;
  border-bottom: 1px solid transparent;
  -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 1px 0 rgba(255, 255, 255, 0.1);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 1px 0 rgba(255, 255, 255, 0.1);
  margin-top: -1px;
  margin-bottom: -1px;
}
@media (min-width: 768px) {
  .navbar-form .form-group {
    display: inline-block;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .navbar-form .form-control {
    display: inline-block;
    width: auto;
    vertical-align: middle;
  }
  .navbar-form .form-control-static {
    display: inline-block;
  }
  .navbar-form .input-group {
    display: inline-table;
    vertical-align: middle;
  }
  .navbar-form .input-group .input-group-addon,
  .navbar-form .input-group .input-group-btn,
  .navbar-form .input-group .form-control {
    width: auto;
  }
  .navbar-form .input-group > .form-control {
    width: 100%;
  }
  .navbar-form .control-label {
    margin-bottom: 0;
    vertical-align: middle;
  }
  .navbar-form .radio,
  .navbar-form .checkbox {
    display: inline-block;
    margin-top: 0;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .navbar-form .radio label,
  .navbar-form .checkbox label {
    padding-left: 0;
  }
  .navbar-form .radio input[type="radio"],
  .navbar-form .checkbox input[type="checkbox"] {
    position: relative;
    margin-left: 0;
  }
  .navbar-form .has-feedback .form-control-feedback {
    top: 0;
  }
}
@media (max-width: 540px) {
  .navbar-form .form-group {
    margin-bottom: 5px;
  }
  .navbar-form .form-group:last-child {
    margin-bottom: 0;
  }
}
@media (min-width: 541px) {
  .navbar-form {
    width: auto;
    border: 0;
    margin-left: 0;
    margin-right: 0;
    padding-top: 0;
    padding-bottom: 0;
    -webkit-box-shadow: none;
    box-shadow: none;
  }
}
.navbar-nav > li > .dropdown-menu {
  margin-top: 0;
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.navbar-fixed-bottom .navbar-nav > li > .dropdown-menu {
  margin-bottom: 0;
  border-top-right-radius: 2px;
  border-top-left-radius: 2px;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.navbar-btn {
  margin-top: -1px;
  margin-bottom: -1px;
}
.navbar-btn.btn-sm {
  margin-top: 0px;
  margin-bottom: 0px;
}
.navbar-btn.btn-xs {
  margin-top: 4px;
  margin-bottom: 4px;
}
.navbar-text {
  margin-top: 6px;
  margin-bottom: 6px;
}
@media (min-width: 541px) {
  .navbar-text {
    float: left;
    margin-left: 0px;
    margin-right: 0px;
  }
}
@media (min-width: 541px) {
  .navbar-left {
    float: left !important;
    float: left;
  }
  .navbar-right {
    float: right !important;
    float: right;
    margin-right: 0px;
  }
  .navbar-right ~ .navbar-right {
    margin-right: 0;
  }
}
.navbar-default {
  background-color: #f8f8f8;
  border-color: #e7e7e7;
}
.navbar-default .navbar-brand {
  color: #777;
}
.navbar-default .navbar-brand:hover,
.navbar-default .navbar-brand:focus {
  color: #5e5e5e;
  background-color: transparent;
}
.navbar-default .navbar-text {
  color: #777;
}
.navbar-default .navbar-nav > li > a {
  color: #777;
}
.navbar-default .navbar-nav > li > a:hover,
.navbar-default .navbar-nav > li > a:focus {
  color: #333;
  background-color: transparent;
}
.navbar-default .navbar-nav > .active > a,
.navbar-default .navbar-nav > .active > a:hover,
.navbar-default .navbar-nav > .active > a:focus {
  color: #555;
  background-color: #e7e7e7;
}
.navbar-default .navbar-nav > .disabled > a,
.navbar-default .navbar-nav > .disabled > a:hover,
.navbar-default .navbar-nav > .disabled > a:focus {
  color: #ccc;
  background-color: transparent;
}
.navbar-default .navbar-toggle {
  border-color: #ddd;
}
.navbar-default .navbar-toggle:hover,
.navbar-default .navbar-toggle:focus {
  background-color: #ddd;
}
.navbar-default .navbar-toggle .icon-bar {
  background-color: #888;
}
.navbar-default .navbar-collapse,
.navbar-default .navbar-form {
  border-color: #e7e7e7;
}
.navbar-default .navbar-nav > .open > a,
.navbar-default .navbar-nav > .open > a:hover,
.navbar-default .navbar-nav > .open > a:focus {
  background-color: #e7e7e7;
  color: #555;
}
@media (max-width: 540px) {
  .navbar-default .navbar-nav .open .dropdown-menu > li > a {
    color: #777;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > li > a:hover,
  .navbar-default .navbar-nav .open .dropdown-menu > li > a:focus {
    color: #333;
    background-color: transparent;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a,
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover,
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {
    color: #555;
    background-color: #e7e7e7;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a,
  .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a:hover,
  .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a:focus {
    color: #ccc;
    background-color: transparent;
  }
}
.navbar-default .navbar-link {
  color: #777;
}
.navbar-default .navbar-link:hover {
  color: #333;
}
.navbar-default .btn-link {
  color: #777;
}
.navbar-default .btn-link:hover,
.navbar-default .btn-link:focus {
  color: #333;
}
.navbar-default .btn-link[disabled]:hover,
fieldset[disabled] .navbar-default .btn-link:hover,
.navbar-default .btn-link[disabled]:focus,
fieldset[disabled] .navbar-default .btn-link:focus {
  color: #ccc;
}
.navbar-inverse {
  background-color: #222;
  border-color: #080808;
}
.navbar-inverse .navbar-brand {
  color: #9d9d9d;
}
.navbar-inverse .navbar-brand:hover,
.navbar-inverse .navbar-brand:focus {
  color: #fff;
  background-color: transparent;
}
.navbar-inverse .navbar-text {
  color: #9d9d9d;
}
.navbar-inverse .navbar-nav > li > a {
  color: #9d9d9d;
}
.navbar-inverse .navbar-nav > li > a:hover,
.navbar-inverse .navbar-nav > li > a:focus {
  color: #fff;
  background-color: transparent;
}
.navbar-inverse .navbar-nav > .active > a,
.navbar-inverse .navbar-nav > .active > a:hover,
.navbar-inverse .navbar-nav > .active > a:focus {
  color: #fff;
  background-color: #080808;
}
.navbar-inverse .navbar-nav > .disabled > a,
.navbar-inverse .navbar-nav > .disabled > a:hover,
.navbar-inverse .navbar-nav > .disabled > a:focus {
  color: #444;
  background-color: transparent;
}
.navbar-inverse .navbar-toggle {
  border-color: #333;
}
.navbar-inverse .navbar-toggle:hover,
.navbar-inverse .navbar-toggle:focus {
  background-color: #333;
}
.navbar-inverse .navbar-toggle .icon-bar {
  background-color: #fff;
}
.navbar-inverse .navbar-collapse,
.navbar-inverse .navbar-form {
  border-color: #101010;
}
.navbar-inverse .navbar-nav > .open > a,
.navbar-inverse .navbar-nav > .open > a:hover,
.navbar-inverse .navbar-nav > .open > a:focus {
  background-color: #080808;
  color: #fff;
}
@media (max-width: 540px) {
  .navbar-inverse .navbar-nav .open .dropdown-menu > .dropdown-header {
    border-color: #080808;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu .divider {
    background-color: #080808;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > li > a {
    color: #9d9d9d;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > li > a:hover,
  .navbar-inverse .navbar-nav .open .dropdown-menu > li > a:focus {
    color: #fff;
    background-color: transparent;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > .active > a,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .active > a:hover,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .active > a:focus {
    color: #fff;
    background-color: #080808;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a:hover,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a:focus {
    color: #444;
    background-color: transparent;
  }
}
.navbar-inverse .navbar-link {
  color: #9d9d9d;
}
.navbar-inverse .navbar-link:hover {
  color: #fff;
}
.navbar-inverse .btn-link {
  color: #9d9d9d;
}
.navbar-inverse .btn-link:hover,
.navbar-inverse .btn-link:focus {
  color: #fff;
}
.navbar-inverse .btn-link[disabled]:hover,
fieldset[disabled] .navbar-inverse .btn-link:hover,
.navbar-inverse .btn-link[disabled]:focus,
fieldset[disabled] .navbar-inverse .btn-link:focus {
  color: #444;
}
.breadcrumb {
  padding: 8px 15px;
  margin-bottom: 18px;
  list-style: none;
  background-color: #f5f5f5;
  border-radius: 2px;
}
.breadcrumb > li {
  display: inline-block;
}
.breadcrumb > li + li:before {
  content: "/\00a0";
  padding: 0 5px;
  color: #5e5e5e;
}
.breadcrumb > .active {
  color: #777777;
}
.pagination {
  display: inline-block;
  padding-left: 0;
  margin: 18px 0;
  border-radius: 2px;
}
.pagination > li {
  display: inline;
}
.pagination > li > a,
.pagination > li > span {
  position: relative;
  float: left;
  padding: 6px 12px;
  line-height: 1.42857143;
  text-decoration: none;
  color: #337ab7;
  background-color: #fff;
  border: 1px solid #ddd;
  margin-left: -1px;
}
.pagination > li:first-child > a,
.pagination > li:first-child > span {
  margin-left: 0;
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.pagination > li:last-child > a,
.pagination > li:last-child > span {
  border-bottom-right-radius: 2px;
  border-top-right-radius: 2px;
}
.pagination > li > a:hover,
.pagination > li > span:hover,
.pagination > li > a:focus,
.pagination > li > span:focus {
  z-index: 2;
  color: #23527c;
  background-color: #eeeeee;
  border-color: #ddd;
}
.pagination > .active > a,
.pagination > .active > span,
.pagination > .active > a:hover,
.pagination > .active > span:hover,
.pagination > .active > a:focus,
.pagination > .active > span:focus {
  z-index: 3;
  color: #fff;
  background-color: #337ab7;
  border-color: #337ab7;
  cursor: default;
}
.pagination > .disabled > span,
.pagination > .disabled > span:hover,
.pagination > .disabled > span:focus,
.pagination > .disabled > a,
.pagination > .disabled > a:hover,
.pagination > .disabled > a:focus {
  color: #777777;
  background-color: #fff;
  border-color: #ddd;
  cursor: not-allowed;
}
.pagination-lg > li > a,
.pagination-lg > li > span {
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
}
.pagination-lg > li:first-child > a,
.pagination-lg > li:first-child > span {
  border-bottom-left-radius: 3px;
  border-top-left-radius: 3px;
}
.pagination-lg > li:last-child > a,
.pagination-lg > li:last-child > span {
  border-bottom-right-radius: 3px;
  border-top-right-radius: 3px;
}
.pagination-sm > li > a,
.pagination-sm > li > span {
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
}
.pagination-sm > li:first-child > a,
.pagination-sm > li:first-child > span {
  border-bottom-left-radius: 1px;
  border-top-left-radius: 1px;
}
.pagination-sm > li:last-child > a,
.pagination-sm > li:last-child > span {
  border-bottom-right-radius: 1px;
  border-top-right-radius: 1px;
}
.pager {
  padding-left: 0;
  margin: 18px 0;
  list-style: none;
  text-align: center;
}
.pager li {
  display: inline;
}
.pager li > a,
.pager li > span {
  display: inline-block;
  padding: 5px 14px;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 15px;
}
.pager li > a:hover,
.pager li > a:focus {
  text-decoration: none;
  background-color: #eeeeee;
}
.pager .next > a,
.pager .next > span {
  float: right;
}
.pager .previous > a,
.pager .previous > span {
  float: left;
}
.pager .disabled > a,
.pager .disabled > a:hover,
.pager .disabled > a:focus,
.pager .disabled > span {
  color: #777777;
  background-color: #fff;
  cursor: not-allowed;
}
.label {
  display: inline;
  padding: .2em .6em .3em;
  font-size: 75%;
  font-weight: bold;
  line-height: 1;
  color: #fff;
  text-align: center;
  white-space: nowrap;
  vertical-align: baseline;
  border-radius: .25em;
}
a.label:hover,
a.label:focus {
  color: #fff;
  text-decoration: none;
  cursor: pointer;
}
.label:empty {
  display: none;
}
.btn .label {
  position: relative;
  top: -1px;
}
.label-default {
  background-color: #777777;
}
.label-default[href]:hover,
.label-default[href]:focus {
  background-color: #5e5e5e;
}
.label-primary {
  background-color: #337ab7;
}
.label-primary[href]:hover,
.label-primary[href]:focus {
  background-color: #286090;
}
.label-success {
  background-color: #5cb85c;
}
.label-success[href]:hover,
.label-success[href]:focus {
  background-color: #449d44;
}
.label-info {
  background-color: #5bc0de;
}
.label-info[href]:hover,
.label-info[href]:focus {
  background-color: #31b0d5;
}
.label-warning {
  background-color: #f0ad4e;
}
.label-warning[href]:hover,
.label-warning[href]:focus {
  background-color: #ec971f;
}
.label-danger {
  background-color: #d9534f;
}
.label-danger[href]:hover,
.label-danger[href]:focus {
  background-color: #c9302c;
}
.badge {
  display: inline-block;
  min-width: 10px;
  padding: 3px 7px;
  font-size: 12px;
  font-weight: bold;
  color: #fff;
  line-height: 1;
  vertical-align: middle;
  white-space: nowrap;
  text-align: center;
  background-color: #777777;
  border-radius: 10px;
}
.badge:empty {
  display: none;
}
.btn .badge {
  position: relative;
  top: -1px;
}
.btn-xs .badge,
.btn-group-xs > .btn .badge {
  top: 0;
  padding: 1px 5px;
}
a.badge:hover,
a.badge:focus {
  color: #fff;
  text-decoration: none;
  cursor: pointer;
}
.list-group-item.active > .badge,
.nav-pills > .active > a > .badge {
  color: #337ab7;
  background-color: #fff;
}
.list-group-item > .badge {
  float: right;
}
.list-group-item > .badge + .badge {
  margin-right: 5px;
}
.nav-pills > li > a > .badge {
  margin-left: 3px;
}
.jumbotron {
  padding-top: 30px;
  padding-bottom: 30px;
  margin-bottom: 30px;
  color: inherit;
  background-color: #eeeeee;
}
.jumbotron h1,
.jumbotron .h1 {
  color: inherit;
}
.jumbotron p {
  margin-bottom: 15px;
  font-size: 20px;
  font-weight: 200;
}
.jumbotron > hr {
  border-top-color: #d5d5d5;
}
.container .jumbotron,
.container-fluid .jumbotron {
  border-radius: 3px;
  padding-left: 0px;
  padding-right: 0px;
}
.jumbotron .container {
  max-width: 100%;
}
@media screen and (min-width: 768px) {
  .jumbotron {
    padding-top: 48px;
    padding-bottom: 48px;
  }
  .container .jumbotron,
  .container-fluid .jumbotron {
    padding-left: 60px;
    padding-right: 60px;
  }
  .jumbotron h1,
  .jumbotron .h1 {
    font-size: 59px;
  }
}
.thumbnail {
  display: block;
  padding: 4px;
  margin-bottom: 18px;
  line-height: 1.42857143;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 2px;
  -webkit-transition: border 0.2s ease-in-out;
  -o-transition: border 0.2s ease-in-out;
  transition: border 0.2s ease-in-out;
}
.thumbnail > img,
.thumbnail a > img {
  margin-left: auto;
  margin-right: auto;
}
a.thumbnail:hover,
a.thumbnail:focus,
a.thumbnail.active {
  border-color: #337ab7;
}
.thumbnail .caption {
  padding: 9px;
  color: #000;
}
.alert {
  padding: 15px;
  margin-bottom: 18px;
  border: 1px solid transparent;
  border-radius: 2px;
}
.alert h4 {
  margin-top: 0;
  color: inherit;
}
.alert .alert-link {
  font-weight: bold;
}
.alert > p,
.alert > ul {
  margin-bottom: 0;
}
.alert > p + p {
  margin-top: 5px;
}
.alert-dismissable,
.alert-dismissible {
  padding-right: 35px;
}
.alert-dismissable .close,
.alert-dismissible .close {
  position: relative;
  top: -2px;
  right: -21px;
  color: inherit;
}
.alert-success {
  background-color: #dff0d8;
  border-color: #d6e9c6;
  color: #3c763d;
}
.alert-success hr {
  border-top-color: #c9e2b3;
}
.alert-success .alert-link {
  color: #2b542c;
}
.alert-info {
  background-color: #d9edf7;
  border-color: #bce8f1;
  color: #31708f;
}
.alert-info hr {
  border-top-color: #a6e1ec;
}
.alert-info .alert-link {
  color: #245269;
}
.alert-warning {
  background-color: #fcf8e3;
  border-color: #faebcc;
  color: #8a6d3b;
}
.alert-warning hr {
  border-top-color: #f7e1b5;
}
.alert-warning .alert-link {
  color: #66512c;
}
.alert-danger {
  background-color: #f2dede;
  border-color: #ebccd1;
  color: #a94442;
}
.alert-danger hr {
  border-top-color: #e4b9c0;
}
.alert-danger .alert-link {
  color: #843534;
}
@-webkit-keyframes progress-bar-stripes {
  from {
    background-position: 40px 0;
  }
  to {
    background-position: 0 0;
  }
}
@keyframes progress-bar-stripes {
  from {
    background-position: 40px 0;
  }
  to {
    background-position: 0 0;
  }
}
.progress {
  overflow: hidden;
  height: 18px;
  margin-bottom: 18px;
  background-color: #f5f5f5;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
}
.progress-bar {
  float: left;
  width: 0%;
  height: 100%;
  font-size: 12px;
  line-height: 18px;
  color: #fff;
  text-align: center;
  background-color: #337ab7;
  -webkit-box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);
  -webkit-transition: width 0.6s ease;
  -o-transition: width 0.6s ease;
  transition: width 0.6s ease;
}
.progress-striped .progress-bar,
.progress-bar-striped {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-size: 40px 40px;
}
.progress.active .progress-bar,
.progress-bar.active {
  -webkit-animation: progress-bar-stripes 2s linear infinite;
  -o-animation: progress-bar-stripes 2s linear infinite;
  animation: progress-bar-stripes 2s linear infinite;
}
.progress-bar-success {
  background-color: #5cb85c;
}
.progress-striped .progress-bar-success {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.progress-bar-info {
  background-color: #5bc0de;
}
.progress-striped .progress-bar-info {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.progress-bar-warning {
  background-color: #f0ad4e;
}
.progress-striped .progress-bar-warning {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.progress-bar-danger {
  background-color: #d9534f;
}
.progress-striped .progress-bar-danger {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.media {
  margin-top: 15px;
}
.media:first-child {
  margin-top: 0;
}
.media,
.media-body {
  zoom: 1;
  overflow: hidden;
}
.media-body {
  width: 10000px;
}
.media-object {
  display: block;
}
.media-object.img-thumbnail {
  max-width: none;
}
.media-right,
.media > .pull-right {
  padding-left: 10px;
}
.media-left,
.media > .pull-left {
  padding-right: 10px;
}
.media-left,
.media-right,
.media-body {
  display: table-cell;
  vertical-align: top;
}
.media-middle {
  vertical-align: middle;
}
.media-bottom {
  vertical-align: bottom;
}
.media-heading {
  margin-top: 0;
  margin-bottom: 5px;
}
.media-list {
  padding-left: 0;
  list-style: none;
}
.list-group {
  margin-bottom: 20px;
  padding-left: 0;
}
.list-group-item {
  position: relative;
  display: block;
  padding: 10px 15px;
  margin-bottom: -1px;
  background-color: #fff;
  border: 1px solid #ddd;
}
.list-group-item:first-child {
  border-top-right-radius: 2px;
  border-top-left-radius: 2px;
}
.list-group-item:last-child {
  margin-bottom: 0;
  border-bottom-right-radius: 2px;
  border-bottom-left-radius: 2px;
}
a.list-group-item,
button.list-group-item {
  color: #555;
}
a.list-group-item .list-group-item-heading,
button.list-group-item .list-group-item-heading {
  color: #333;
}
a.list-group-item:hover,
button.list-group-item:hover,
a.list-group-item:focus,
button.list-group-item:focus {
  text-decoration: none;
  color: #555;
  background-color: #f5f5f5;
}
button.list-group-item {
  width: 100%;
  text-align: left;
}
.list-group-item.disabled,
.list-group-item.disabled:hover,
.list-group-item.disabled:focus {
  background-color: #eeeeee;
  color: #777777;
  cursor: not-allowed;
}
.list-group-item.disabled .list-group-item-heading,
.list-group-item.disabled:hover .list-group-item-heading,
.list-group-item.disabled:focus .list-group-item-heading {
  color: inherit;
}
.list-group-item.disabled .list-group-item-text,
.list-group-item.disabled:hover .list-group-item-text,
.list-group-item.disabled:focus .list-group-item-text {
  color: #777777;
}
.list-group-item.active,
.list-group-item.active:hover,
.list-group-item.active:focus {
  z-index: 2;
  color: #fff;
  background-color: #337ab7;
  border-color: #337ab7;
}
.list-group-item.active .list-group-item-heading,
.list-group-item.active:hover .list-group-item-heading,
.list-group-item.active:focus .list-group-item-heading,
.list-group-item.active .list-group-item-heading > small,
.list-group-item.active:hover .list-group-item-heading > small,
.list-group-item.active:focus .list-group-item-heading > small,
.list-group-item.active .list-group-item-heading > .small,
.list-group-item.active:hover .list-group-item-heading > .small,
.list-group-item.active:focus .list-group-item-heading > .small {
  color: inherit;
}
.list-group-item.active .list-group-item-text,
.list-group-item.active:hover .list-group-item-text,
.list-group-item.active:focus .list-group-item-text {
  color: #c7ddef;
}
.list-group-item-success {
  color: #3c763d;
  background-color: #dff0d8;
}
a.list-group-item-success,
button.list-group-item-success {
  color: #3c763d;
}
a.list-group-item-success .list-group-item-heading,
button.list-group-item-success .list-group-item-heading {
  color: inherit;
}
a.list-group-item-success:hover,
button.list-group-item-success:hover,
a.list-group-item-success:focus,
button.list-group-item-success:focus {
  color: #3c763d;
  background-color: #d0e9c6;
}
a.list-group-item-success.active,
button.list-group-item-success.active,
a.list-group-item-success.active:hover,
button.list-group-item-success.active:hover,
a.list-group-item-success.active:focus,
button.list-group-item-success.active:focus {
  color: #fff;
  background-color: #3c763d;
  border-color: #3c763d;
}
.list-group-item-info {
  color: #31708f;
  background-color: #d9edf7;
}
a.list-group-item-info,
button.list-group-item-info {
  color: #31708f;
}
a.list-group-item-info .list-group-item-heading,
button.list-group-item-info .list-group-item-heading {
  color: inherit;
}
a.list-group-item-info:hover,
button.list-group-item-info:hover,
a.list-group-item-info:focus,
button.list-group-item-info:focus {
  color: #31708f;
  background-color: #c4e3f3;
}
a.list-group-item-info.active,
button.list-group-item-info.active,
a.list-group-item-info.active:hover,
button.list-group-item-info.active:hover,
a.list-group-item-info.active:focus,
button.list-group-item-info.active:focus {
  color: #fff;
  background-color: #31708f;
  border-color: #31708f;
}
.list-group-item-warning {
  color: #8a6d3b;
  background-color: #fcf8e3;
}
a.list-group-item-warning,
button.list-group-item-warning {
  color: #8a6d3b;
}
a.list-group-item-warning .list-group-item-heading,
button.list-group-item-warning .list-group-item-heading {
  color: inherit;
}
a.list-group-item-warning:hover,
button.list-group-item-warning:hover,
a.list-group-item-warning:focus,
button.list-group-item-warning:focus {
  color: #8a6d3b;
  background-color: #faf2cc;
}
a.list-group-item-warning.active,
button.list-group-item-warning.active,
a.list-group-item-warning.active:hover,
button.list-group-item-warning.active:hover,
a.list-group-item-warning.active:focus,
button.list-group-item-warning.active:focus {
  color: #fff;
  background-color: #8a6d3b;
  border-color: #8a6d3b;
}
.list-group-item-danger {
  color: #a94442;
  background-color: #f2dede;
}
a.list-group-item-danger,
button.list-group-item-danger {
  color: #a94442;
}
a.list-group-item-danger .list-group-item-heading,
button.list-group-item-danger .list-group-item-heading {
  color: inherit;
}
a.list-group-item-danger:hover,
button.list-group-item-danger:hover,
a.list-group-item-danger:focus,
button.list-group-item-danger:focus {
  color: #a94442;
  background-color: #ebcccc;
}
a.list-group-item-danger.active,
button.list-group-item-danger.active,
a.list-group-item-danger.active:hover,
button.list-group-item-danger.active:hover,
a.list-group-item-danger.active:focus,
button.list-group-item-danger.active:focus {
  color: #fff;
  background-color: #a94442;
  border-color: #a94442;
}
.list-group-item-heading {
  margin-top: 0;
  margin-bottom: 5px;
}
.list-group-item-text {
  margin-bottom: 0;
  line-height: 1.3;
}
.panel {
  margin-bottom: 18px;
  background-color: #fff;
  border: 1px solid transparent;
  border-radius: 2px;
  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
}
.panel-body {
  padding: 15px;
}
.panel-heading {
  padding: 10px 15px;
  border-bottom: 1px solid transparent;
  border-top-right-radius: 1px;
  border-top-left-radius: 1px;
}
.panel-heading > .dropdown .dropdown-toggle {
  color: inherit;
}
.panel-title {
  margin-top: 0;
  margin-bottom: 0;
  font-size: 15px;
  color: inherit;
}
.panel-title > a,
.panel-title > small,
.panel-title > .small,
.panel-title > small > a,
.panel-title > .small > a {
  color: inherit;
}
.panel-footer {
  padding: 10px 15px;
  background-color: #f5f5f5;
  border-top: 1px solid #ddd;
  border-bottom-right-radius: 1px;
  border-bottom-left-radius: 1px;
}
.panel > .list-group,
.panel > .panel-collapse > .list-group {
  margin-bottom: 0;
}
.panel > .list-group .list-group-item,
.panel > .panel-collapse > .list-group .list-group-item {
  border-width: 1px 0;
  border-radius: 0;
}
.panel > .list-group:first-child .list-group-item:first-child,
.panel > .panel-collapse > .list-group:first-child .list-group-item:first-child {
  border-top: 0;
  border-top-right-radius: 1px;
  border-top-left-radius: 1px;
}
.panel > .list-group:last-child .list-group-item:last-child,
.panel > .panel-collapse > .list-group:last-child .list-group-item:last-child {
  border-bottom: 0;
  border-bottom-right-radius: 1px;
  border-bottom-left-radius: 1px;
}
.panel > .panel-heading + .panel-collapse > .list-group .list-group-item:first-child {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.panel-heading + .list-group .list-group-item:first-child {
  border-top-width: 0;
}
.list-group + .panel-footer {
  border-top-width: 0;
}
.panel > .table,
.panel > .table-responsive > .table,
.panel > .panel-collapse > .table {
  margin-bottom: 0;
}
.panel > .table caption,
.panel > .table-responsive > .table caption,
.panel > .panel-collapse > .table caption {
  padding-left: 15px;
  padding-right: 15px;
}
.panel > .table:first-child,
.panel > .table-responsive:first-child > .table:first-child {
  border-top-right-radius: 1px;
  border-top-left-radius: 1px;
}
.panel > .table:first-child > thead:first-child > tr:first-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child,
.panel > .table:first-child > tbody:first-child > tr:first-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child {
  border-top-left-radius: 1px;
  border-top-right-radius: 1px;
}
.panel > .table:first-child > thead:first-child > tr:first-child td:first-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child td:first-child,
.panel > .table:first-child > tbody:first-child > tr:first-child td:first-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child td:first-child,
.panel > .table:first-child > thead:first-child > tr:first-child th:first-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child th:first-child,
.panel > .table:first-child > tbody:first-child > tr:first-child th:first-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child th:first-child {
  border-top-left-radius: 1px;
}
.panel > .table:first-child > thead:first-child > tr:first-child td:last-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child td:last-child,
.panel > .table:first-child > tbody:first-child > tr:first-child td:last-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child td:last-child,
.panel > .table:first-child > thead:first-child > tr:first-child th:last-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child th:last-child,
.panel > .table:first-child > tbody:first-child > tr:first-child th:last-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child th:last-child {
  border-top-right-radius: 1px;
}
.panel > .table:last-child,
.panel > .table-responsive:last-child > .table:last-child {
  border-bottom-right-radius: 1px;
  border-bottom-left-radius: 1px;
}
.panel > .table:last-child > tbody:last-child > tr:last-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child {
  border-bottom-left-radius: 1px;
  border-bottom-right-radius: 1px;
}
.panel > .table:last-child > tbody:last-child > tr:last-child td:first-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child td:first-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child td:first-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child td:first-child,
.panel > .table:last-child > tbody:last-child > tr:last-child th:first-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child th:first-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child th:first-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child th:first-child {
  border-bottom-left-radius: 1px;
}
.panel > .table:last-child > tbody:last-child > tr:last-child td:last-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child td:last-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child td:last-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child td:last-child,
.panel > .table:last-child > tbody:last-child > tr:last-child th:last-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child th:last-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child th:last-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child th:last-child {
  border-bottom-right-radius: 1px;
}
.panel > .panel-body + .table,
.panel > .panel-body + .table-responsive,
.panel > .table + .panel-body,
.panel > .table-responsive + .panel-body {
  border-top: 1px solid #ddd;
}
.panel > .table > tbody:first-child > tr:first-child th,
.panel > .table > tbody:first-child > tr:first-child td {
  border-top: 0;
}
.panel > .table-bordered,
.panel > .table-responsive > .table-bordered {
  border: 0;
}
.panel > .table-bordered > thead > tr > th:first-child,
.panel > .table-responsive > .table-bordered > thead > tr > th:first-child,
.panel > .table-bordered > tbody > tr > th:first-child,
.panel > .table-responsive > .table-bordered > tbody > tr > th:first-child,
.panel > .table-bordered > tfoot > tr > th:first-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > th:first-child,
.panel > .table-bordered > thead > tr > td:first-child,
.panel > .table-responsive > .table-bordered > thead > tr > td:first-child,
.panel > .table-bordered > tbody > tr > td:first-child,
.panel > .table-responsive > .table-bordered > tbody > tr > td:first-child,
.panel > .table-bordered > tfoot > tr > td:first-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > td:first-child {
  border-left: 0;
}
.panel > .table-bordered > thead > tr > th:last-child,
.panel > .table-responsive > .table-bordered > thead > tr > th:last-child,
.panel > .table-bordered > tbody > tr > th:last-child,
.panel > .table-responsive > .table-bordered > tbody > tr > th:last-child,
.panel > .table-bordered > tfoot > tr > th:last-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > th:last-child,
.panel > .table-bordered > thead > tr > td:last-child,
.panel > .table-responsive > .table-bordered > thead > tr > td:last-child,
.panel > .table-bordered > tbody > tr > td:last-child,
.panel > .table-responsive > .table-bordered > tbody > tr > td:last-child,
.panel > .table-bordered > tfoot > tr > td:last-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > td:last-child {
  border-right: 0;
}
.panel > .table-bordered > thead > tr:first-child > td,
.panel > .table-responsive > .table-bordered > thead > tr:first-child > td,
.panel > .table-bordered > tbody > tr:first-child > td,
.panel > .table-responsive > .table-bordered > tbody > tr:first-child > td,
.panel > .table-bordered > thead > tr:first-child > th,
.panel > .table-responsive > .table-bordered > thead > tr:first-child > th,
.panel > .table-bordered > tbody > tr:first-child > th,
.panel > .table-responsive > .table-bordered > tbody > tr:first-child > th {
  border-bottom: 0;
}
.panel > .table-bordered > tbody > tr:last-child > td,
.panel > .table-responsive > .table-bordered > tbody > tr:last-child > td,
.panel > .table-bordered > tfoot > tr:last-child > td,
.panel > .table-responsive > .table-bordered > tfoot > tr:last-child > td,
.panel > .table-bordered > tbody > tr:last-child > th,
.panel > .table-responsive > .table-bordered > tbody > tr:last-child > th,
.panel > .table-bordered > tfoot > tr:last-child > th,
.panel > .table-responsive > .table-bordered > tfoot > tr:last-child > th {
  border-bottom: 0;
}
.panel > .table-responsive {
  border: 0;
  margin-bottom: 0;
}
.panel-group {
  margin-bottom: 18px;
}
.panel-group .panel {
  margin-bottom: 0;
  border-radius: 2px;
}
.panel-group .panel + .panel {
  margin-top: 5px;
}
.panel-group .panel-heading {
  border-bottom: 0;
}
.panel-group .panel-heading + .panel-collapse > .panel-body,
.panel-group .panel-heading + .panel-collapse > .list-group {
  border-top: 1px solid #ddd;
}
.panel-group .panel-footer {
  border-top: 0;
}
.panel-group .panel-footer + .panel-collapse .panel-body {
  border-bottom: 1px solid #ddd;
}
.panel-default {
  border-color: #ddd;
}
.panel-default > .panel-heading {
  color: #333333;
  background-color: #f5f5f5;
  border-color: #ddd;
}
.panel-default > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #ddd;
}
.panel-default > .panel-heading .badge {
  color: #f5f5f5;
  background-color: #333333;
}
.panel-default > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #ddd;
}
.panel-primary {
  border-color: #337ab7;
}
.panel-primary > .panel-heading {
  color: #fff;
  background-color: #337ab7;
  border-color: #337ab7;
}
.panel-primary > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #337ab7;
}
.panel-primary > .panel-heading .badge {
  color: #337ab7;
  background-color: #fff;
}
.panel-primary > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #337ab7;
}
.panel-success {
  border-color: #d6e9c6;
}
.panel-success > .panel-heading {
  color: #3c763d;
  background-color: #dff0d8;
  border-color: #d6e9c6;
}
.panel-success > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #d6e9c6;
}
.panel-success > .panel-heading .badge {
  color: #dff0d8;
  background-color: #3c763d;
}
.panel-success > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #d6e9c6;
}
.panel-info {
  border-color: #bce8f1;
}
.panel-info > .panel-heading {
  color: #31708f;
  background-color: #d9edf7;
  border-color: #bce8f1;
}
.panel-info > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #bce8f1;
}
.panel-info > .panel-heading .badge {
  color: #d9edf7;
  background-color: #31708f;
}
.panel-info > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #bce8f1;
}
.panel-warning {
  border-color: #faebcc;
}
.panel-warning > .panel-heading {
  color: #8a6d3b;
  background-color: #fcf8e3;
  border-color: #faebcc;
}
.panel-warning > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #faebcc;
}
.panel-warning > .panel-heading .badge {
  color: #fcf8e3;
  background-color: #8a6d3b;
}
.panel-warning > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #faebcc;
}
.panel-danger {
  border-color: #ebccd1;
}
.panel-danger > .panel-heading {
  color: #a94442;
  background-color: #f2dede;
  border-color: #ebccd1;
}
.panel-danger > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #ebccd1;
}
.panel-danger > .panel-heading .badge {
  color: #f2dede;
  background-color: #a94442;
}
.panel-danger > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #ebccd1;
}
.embed-responsive {
  position: relative;
  display: block;
  height: 0;
  padding: 0;
  overflow: hidden;
}
.embed-responsive .embed-responsive-item,
.embed-responsive iframe,
.embed-responsive embed,
.embed-responsive object,
.embed-responsive video {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  height: 100%;
  width: 100%;
  border: 0;
}
.embed-responsive-16by9 {
  padding-bottom: 56.25%;
}
.embed-responsive-4by3 {
  padding-bottom: 75%;
}
.well {
  min-height: 20px;
  padding: 19px;
  margin-bottom: 20px;
  background-color: #f5f5f5;
  border: 1px solid #e3e3e3;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
}
.well blockquote {
  border-color: #ddd;
  border-color: rgba(0, 0, 0, 0.15);
}
.well-lg {
  padding: 24px;
  border-radius: 3px;
}
.well-sm {
  padding: 9px;
  border-radius: 1px;
}
.close {
  float: right;
  font-size: 19.5px;
  font-weight: bold;
  line-height: 1;
  color: #000;
  text-shadow: 0 1px 0 #fff;
  opacity: 0.2;
  filter: alpha(opacity=20);
}
.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
  opacity: 0.5;
  filter: alpha(opacity=50);
}
button.close {
  padding: 0;
  cursor: pointer;
  background: transparent;
  border: 0;
  -webkit-appearance: none;
}
.modal-open {
  overflow: hidden;
}
.modal {
  display: none;
  overflow: hidden;
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1050;
  -webkit-overflow-scrolling: touch;
  outline: 0;
}
.modal.fade .modal-dialog {
  -webkit-transform: translate(0, -25%);
  -ms-transform: translate(0, -25%);
  -o-transform: translate(0, -25%);
  transform: translate(0, -25%);
  -webkit-transition: -webkit-transform 0.3s ease-out;
  -moz-transition: -moz-transform 0.3s ease-out;
  -o-transition: -o-transform 0.3s ease-out;
  transition: transform 0.3s ease-out;
}
.modal.in .modal-dialog {
  -webkit-transform: translate(0, 0);
  -ms-transform: translate(0, 0);
  -o-transform: translate(0, 0);
  transform: translate(0, 0);
}
.modal-open .modal {
  overflow-x: hidden;
  overflow-y: auto;
}
.modal-dialog {
  position: relative;
  width: auto;
  margin: 10px;
}
.modal-content {
  position: relative;
  background-color: #fff;
  border: 1px solid #999;
  border: 1px solid rgba(0, 0, 0, 0.2);
  border-radius: 3px;
  -webkit-box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);
  box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);
  background-clip: padding-box;
  outline: 0;
}
.modal-backdrop {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1040;
  background-color: #000;
}
.modal-backdrop.fade {
  opacity: 0;
  filter: alpha(opacity=0);
}
.modal-backdrop.in {
  opacity: 0.5;
  filter: alpha(opacity=50);
}
.modal-header {
  padding: 15px;
  border-bottom: 1px solid #e5e5e5;
}
.modal-header .close {
  margin-top: -2px;
}
.modal-title {
  margin: 0;
  line-height: 1.42857143;
}
.modal-body {
  position: relative;
  padding: 15px;
}
.modal-footer {
  padding: 15px;
  text-align: right;
  border-top: 1px solid #e5e5e5;
}
.modal-footer .btn + .btn {
  margin-left: 5px;
  margin-bottom: 0;
}
.modal-footer .btn-group .btn + .btn {
  margin-left: -1px;
}
.modal-footer .btn-block + .btn-block {
  margin-left: 0;
}
.modal-scrollbar-measure {
  position: absolute;
  top: -9999px;
  width: 50px;
  height: 50px;
  overflow: scroll;
}
@media (min-width: 768px) {
  .modal-dialog {
    width: 600px;
    margin: 30px auto;
  }
  .modal-content {
    -webkit-box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
  }
  .modal-sm {
    width: 300px;
  }
}
@media (min-width: 992px) {
  .modal-lg {
    width: 900px;
  }
}
.tooltip {
  position: absolute;
  z-index: 1070;
  display: block;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-style: normal;
  font-weight: normal;
  letter-spacing: normal;
  line-break: auto;
  line-height: 1.42857143;
  text-align: left;
  text-align: start;
  text-decoration: none;
  text-shadow: none;
  text-transform: none;
  white-space: normal;
  word-break: normal;
  word-spacing: normal;
  word-wrap: normal;
  font-size: 12px;
  opacity: 0;
  filter: alpha(opacity=0);
}
.tooltip.in {
  opacity: 0.9;
  filter: alpha(opacity=90);
}
.tooltip.top {
  margin-top: -3px;
  padding: 5px 0;
}
.tooltip.right {
  margin-left: 3px;
  padding: 0 5px;
}
.tooltip.bottom {
  margin-top: 3px;
  padding: 5px 0;
}
.tooltip.left {
  margin-left: -3px;
  padding: 0 5px;
}
.tooltip-inner {
  max-width: 200px;
  padding: 3px 8px;
  color: #fff;
  text-align: center;
  background-color: #000;
  border-radius: 2px;
}
.tooltip-arrow {
  position: absolute;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
}
.tooltip.top .tooltip-arrow {
  bottom: 0;
  left: 50%;
  margin-left: -5px;
  border-width: 5px 5px 0;
  border-top-color: #000;
}
.tooltip.top-left .tooltip-arrow {
  bottom: 0;
  right: 5px;
  margin-bottom: -5px;
  border-width: 5px 5px 0;
  border-top-color: #000;
}
.tooltip.top-right .tooltip-arrow {
  bottom: 0;
  left: 5px;
  margin-bottom: -5px;
  border-width: 5px 5px 0;
  border-top-color: #000;
}
.tooltip.right .tooltip-arrow {
  top: 50%;
  left: 0;
  margin-top: -5px;
  border-width: 5px 5px 5px 0;
  border-right-color: #000;
}
.tooltip.left .tooltip-arrow {
  top: 50%;
  right: 0;
  margin-top: -5px;
  border-width: 5px 0 5px 5px;
  border-left-color: #000;
}
.tooltip.bottom .tooltip-arrow {
  top: 0;
  left: 50%;
  margin-left: -5px;
  border-width: 0 5px 5px;
  border-bottom-color: #000;
}
.tooltip.bottom-left .tooltip-arrow {
  top: 0;
  right: 5px;
  margin-top: -5px;
  border-width: 0 5px 5px;
  border-bottom-color: #000;
}
.tooltip.bottom-right .tooltip-arrow {
  top: 0;
  left: 5px;
  margin-top: -5px;
  border-width: 0 5px 5px;
  border-bottom-color: #000;
}
.popover {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1060;
  display: none;
  max-width: 276px;
  padding: 1px;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-style: normal;
  font-weight: normal;
  letter-spacing: normal;
  line-break: auto;
  line-height: 1.42857143;
  text-align: left;
  text-align: start;
  text-decoration: none;
  text-shadow: none;
  text-transform: none;
  white-space: normal;
  word-break: normal;
  word-spacing: normal;
  word-wrap: normal;
  font-size: 13px;
  background-color: #fff;
  background-clip: padding-box;
  border: 1px solid #ccc;
  border: 1px solid rgba(0, 0, 0, 0.2);
  border-radius: 3px;
  -webkit-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
}
.popover.top {
  margin-top: -10px;
}
.popover.right {
  margin-left: 10px;
}
.popover.bottom {
  margin-top: 10px;
}
.popover.left {
  margin-left: -10px;
}
.popover-title {
  margin: 0;
  padding: 8px 14px;
  font-size: 13px;
  background-color: #f7f7f7;
  border-bottom: 1px solid #ebebeb;
  border-radius: 2px 2px 0 0;
}
.popover-content {
  padding: 9px 14px;
}
.popover > .arrow,
.popover > .arrow:after {
  position: absolute;
  display: block;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
}
.popover > .arrow {
  border-width: 11px;
}
.popover > .arrow:after {
  border-width: 10px;
  content: "";
}
.popover.top > .arrow {
  left: 50%;
  margin-left: -11px;
  border-bottom-width: 0;
  border-top-color: #999999;
  border-top-color: rgba(0, 0, 0, 0.25);
  bottom: -11px;
}
.popover.top > .arrow:after {
  content: " ";
  bottom: 1px;
  margin-left: -10px;
  border-bottom-width: 0;
  border-top-color: #fff;
}
.popover.right > .arrow {
  top: 50%;
  left: -11px;
  margin-top: -11px;
  border-left-width: 0;
  border-right-color: #999999;
  border-right-color: rgba(0, 0, 0, 0.25);
}
.popover.right > .arrow:after {
  content: " ";
  left: 1px;
  bottom: -10px;
  border-left-width: 0;
  border-right-color: #fff;
}
.popover.bottom > .arrow {
  left: 50%;
  margin-left: -11px;
  border-top-width: 0;
  border-bottom-color: #999999;
  border-bottom-color: rgba(0, 0, 0, 0.25);
  top: -11px;
}
.popover.bottom > .arrow:after {
  content: " ";
  top: 1px;
  margin-left: -10px;
  border-top-width: 0;
  border-bottom-color: #fff;
}
.popover.left > .arrow {
  top: 50%;
  right: -11px;
  margin-top: -11px;
  border-right-width: 0;
  border-left-color: #999999;
  border-left-color: rgba(0, 0, 0, 0.25);
}
.popover.left > .arrow:after {
  content: " ";
  right: 1px;
  border-right-width: 0;
  border-left-color: #fff;
  bottom: -10px;
}
.carousel {
  position: relative;
}
.carousel-inner {
  position: relative;
  overflow: hidden;
  width: 100%;
}
.carousel-inner > .item {
  display: none;
  position: relative;
  -webkit-transition: 0.6s ease-in-out left;
  -o-transition: 0.6s ease-in-out left;
  transition: 0.6s ease-in-out left;
}
.carousel-inner > .item > img,
.carousel-inner > .item > a > img {
  line-height: 1;
}
@media all and (transform-3d), (-webkit-transform-3d) {
  .carousel-inner > .item {
    -webkit-transition: -webkit-transform 0.6s ease-in-out;
    -moz-transition: -moz-transform 0.6s ease-in-out;
    -o-transition: -o-transform 0.6s ease-in-out;
    transition: transform 0.6s ease-in-out;
    -webkit-backface-visibility: hidden;
    -moz-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-perspective: 1000px;
    -moz-perspective: 1000px;
    perspective: 1000px;
  }
  .carousel-inner > .item.next,
  .carousel-inner > .item.active.right {
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
    left: 0;
  }
  .carousel-inner > .item.prev,
  .carousel-inner > .item.active.left {
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
    left: 0;
  }
  .carousel-inner > .item.next.left,
  .carousel-inner > .item.prev.right,
  .carousel-inner > .item.active {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    left: 0;
  }
}
.carousel-inner > .active,
.carousel-inner > .next,
.carousel-inner > .prev {
  display: block;
}
.carousel-inner > .active {
  left: 0;
}
.carousel-inner > .next,
.carousel-inner > .prev {
  position: absolute;
  top: 0;
  width: 100%;
}
.carousel-inner > .next {
  left: 100%;
}
.carousel-inner > .prev {
  left: -100%;
}
.carousel-inner > .next.left,
.carousel-inner > .prev.right {
  left: 0;
}
.carousel-inner > .active.left {
  left: -100%;
}
.carousel-inner > .active.right {
  left: 100%;
}
.carousel-control {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: 15%;
  opacity: 0.5;
  filter: alpha(opacity=50);
  font-size: 20px;
  color: #fff;
  text-align: center;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
  background-color: rgba(0, 0, 0, 0);
}
.carousel-control.left {
  background-image: -webkit-linear-gradient(left, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.0001) 100%);
  background-image: -o-linear-gradient(left, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.0001) 100%);
  background-image: linear-gradient(to right, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.0001) 100%);
  background-repeat: repeat-x;
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000', endColorstr='#00000000', GradientType=1);
}
.carousel-control.right {
  left: auto;
  right: 0;
  background-image: -webkit-linear-gradient(left, rgba(0, 0, 0, 0.0001) 0%, rgba(0, 0, 0, 0.5) 100%);
  background-image: -o-linear-gradient(left, rgba(0, 0, 0, 0.0001) 0%, rgba(0, 0, 0, 0.5) 100%);
  background-image: linear-gradient(to right, rgba(0, 0, 0, 0.0001) 0%, rgba(0, 0, 0, 0.5) 100%);
  background-repeat: repeat-x;
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000', endColorstr='#80000000', GradientType=1);
}
.carousel-control:hover,
.carousel-control:focus {
  outline: 0;
  color: #fff;
  text-decoration: none;
  opacity: 0.9;
  filter: alpha(opacity=90);
}
.carousel-control .icon-prev,
.carousel-control .icon-next,
.carousel-control .glyphicon-chevron-left,
.carousel-control .glyphicon-chevron-right {
  position: absolute;
  top: 50%;
  margin-top: -10px;
  z-index: 5;
  display: inline-block;
}
.carousel-control .icon-prev,
.carousel-control .glyphicon-chevron-left {
  left: 50%;
  margin-left: -10px;
}
.carousel-control .icon-next,
.carousel-control .glyphicon-chevron-right {
  right: 50%;
  margin-right: -10px;
}
.carousel-control .icon-prev,
.carousel-control .icon-next {
  width: 20px;
  height: 20px;
  line-height: 1;
  font-family: serif;
}
.carousel-control .icon-prev:before {
  content: '\2039';
}
.carousel-control .icon-next:before {
  content: '\203a';
}
.carousel-indicators {
  position: absolute;
  bottom: 10px;
  left: 50%;
  z-index: 15;
  width: 60%;
  margin-left: -30%;
  padding-left: 0;
  list-style: none;
  text-align: center;
}
.carousel-indicators li {
  display: inline-block;
  width: 10px;
  height: 10px;
  margin: 1px;
  text-indent: -999px;
  border: 1px solid #fff;
  border-radius: 10px;
  cursor: pointer;
  background-color: #000 \9;
  background-color: rgba(0, 0, 0, 0);
}
.carousel-indicators .active {
  margin: 0;
  width: 12px;
  height: 12px;
  background-color: #fff;
}
.carousel-caption {
  position: absolute;
  left: 15%;
  right: 15%;
  bottom: 20px;
  z-index: 10;
  padding-top: 20px;
  padding-bottom: 20px;
  color: #fff;
  text-align: center;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
}
.carousel-caption .btn {
  text-shadow: none;
}
@media screen and (min-width: 768px) {
  .carousel-control .glyphicon-chevron-left,
  .carousel-control .glyphicon-chevron-right,
  .carousel-control .icon-prev,
  .carousel-control .icon-next {
    width: 30px;
    height: 30px;
    margin-top: -10px;
    font-size: 30px;
  }
  .carousel-control .glyphicon-chevron-left,
  .carousel-control .icon-prev {
    margin-left: -10px;
  }
  .carousel-control .glyphicon-chevron-right,
  .carousel-control .icon-next {
    margin-right: -10px;
  }
  .carousel-caption {
    left: 20%;
    right: 20%;
    padding-bottom: 30px;
  }
  .carousel-indicators {
    bottom: 20px;
  }
}
.clearfix:before,
.clearfix:after,
.dl-horizontal dd:before,
.dl-horizontal dd:after,
.container:before,
.container:after,
.container-fluid:before,
.container-fluid:after,
.row:before,
.row:after,
.form-horizontal .form-group:before,
.form-horizontal .form-group:after,
.btn-toolbar:before,
.btn-toolbar:after,
.btn-group-vertical > .btn-group:before,
.btn-group-vertical > .btn-group:after,
.nav:before,
.nav:after,
.navbar:before,
.navbar:after,
.navbar-header:before,
.navbar-header:after,
.navbar-collapse:before,
.navbar-collapse:after,
.pager:before,
.pager:after,
.panel-body:before,
.panel-body:after,
.modal-header:before,
.modal-header:after,
.modal-footer:before,
.modal-footer:after,
.item_buttons:before,
.item_buttons:after {
  content: " ";
  display: table;
}
.clearfix:after,
.dl-horizontal dd:after,
.container:after,
.container-fluid:after,
.row:after,
.form-horizontal .form-group:after,
.btn-toolbar:after,
.btn-group-vertical > .btn-group:after,
.nav:after,
.navbar:after,
.navbar-header:after,
.navbar-collapse:after,
.pager:after,
.panel-body:after,
.modal-header:after,
.modal-footer:after,
.item_buttons:after {
  clear: both;
}
.center-block {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
.pull-right {
  float: right !important;
}
.pull-left {
  float: left !important;
}
.hide {
  display: none !important;
}
.show {
  display: block !important;
}
.invisible {
  visibility: hidden;
}
.text-hide {
  font: 0/0 a;
  color: transparent;
  text-shadow: none;
  background-color: transparent;
  border: 0;
}
.hidden {
  display: none !important;
}
.affix {
  position: fixed;
}
@-ms-viewport {
  width: device-width;
}
.visible-xs,
.visible-sm,
.visible-md,
.visible-lg {
  display: none !important;
}
.visible-xs-block,
.visible-xs-inline,
.visible-xs-inline-block,
.visible-sm-block,
.visible-sm-inline,
.visible-sm-inline-block,
.visible-md-block,
.visible-md-inline,
.visible-md-inline-block,
.visible-lg-block,
.visible-lg-inline,
.visible-lg-inline-block {
  display: none !important;
}
@media (max-width: 767px) {
  .visible-xs {
    display: block !important;
  }
  table.visible-xs {
    display: table !important;
  }
  tr.visible-xs {
    display: table-row !important;
  }
  th.visible-xs,
  td.visible-xs {
    display: table-cell !important;
  }
}
@media (max-width: 767px) {
  .visible-xs-block {
    display: block !important;
  }
}
@media (max-width: 767px) {
  .visible-xs-inline {
    display: inline !important;
  }
}
@media (max-width: 767px) {
  .visible-xs-inline-block {
    display: inline-block !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm {
    display: block !important;
  }
  table.visible-sm {
    display: table !important;
  }
  tr.visible-sm {
    display: table-row !important;
  }
  th.visible-sm,
  td.visible-sm {
    display: table-cell !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm-block {
    display: block !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm-inline {
    display: inline !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm-inline-block {
    display: inline-block !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md {
    display: block !important;
  }
  table.visible-md {
    display: table !important;
  }
  tr.visible-md {
    display: table-row !important;
  }
  th.visible-md,
  td.visible-md {
    display: table-cell !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md-block {
    display: block !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md-inline {
    display: inline !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md-inline-block {
    display: inline-block !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg {
    display: block !important;
  }
  table.visible-lg {
    display: table !important;
  }
  tr.visible-lg {
    display: table-row !important;
  }
  th.visible-lg,
  td.visible-lg {
    display: table-cell !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg-block {
    display: block !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg-inline {
    display: inline !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg-inline-block {
    display: inline-block !important;
  }
}
@media (max-width: 767px) {
  .hidden-xs {
    display: none !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .hidden-sm {
    display: none !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .hidden-md {
    display: none !important;
  }
}
@media (min-width: 1200px) {
  .hidden-lg {
    display: none !important;
  }
}
.visible-print {
  display: none !important;
}
@media print {
  .visible-print {
    display: block !important;
  }
  table.visible-print {
    display: table !important;
  }
  tr.visible-print {
    display: table-row !important;
  }
  th.visible-print,
  td.visible-print {
    display: table-cell !important;
  }
}
.visible-print-block {
  display: none !important;
}
@media print {
  .visible-print-block {
    display: block !important;
  }
}
.visible-print-inline {
  display: none !important;
}
@media print {
  .visible-print-inline {
    display: inline !important;
  }
}
.visible-print-inline-block {
  display: none !important;
}
@media print {
  .visible-print-inline-block {
    display: inline-block !important;
  }
}
@media print {
  .hidden-print {
    display: none !important;
  }
}
/*!
*
* Font Awesome
*
*/
/*!
 *  Font Awesome 4.7.0 by @davegandy - http://fontawesome.io - @fontawesome
 *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
 */
/* FONT PATH
 * -------------------------- */
@font-face {
  font-family: 'FontAwesome';
  src: url('../components/font-awesome/fonts/fontawesome-webfont.eot?v=4.7.0');
  src: url('../components/font-awesome/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0') format('embedded-opentype'), url('../components/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0') format('woff2'), url('../components/font-awesome/fonts/fontawesome-webfont.woff?v=4.7.0') format('woff'), url('../components/font-awesome/fonts/fontawesome-webfont.ttf?v=4.7.0') format('truetype'), url('../components/font-awesome/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular') format('svg');
  font-weight: normal;
  font-style: normal;
}
.fa {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
/* makes the font 33% larger relative to the icon container */
.fa-lg {
  font-size: 1.33333333em;
  line-height: 0.75em;
  vertical-align: -15%;
}
.fa-2x {
  font-size: 2em;
}
.fa-3x {
  font-size: 3em;
}
.fa-4x {
  font-size: 4em;
}
.fa-5x {
  font-size: 5em;
}
.fa-fw {
  width: 1.28571429em;
  text-align: center;
}
.fa-ul {
  padding-left: 0;
  margin-left: 2.14285714em;
  list-style-type: none;
}
.fa-ul > li {
  position: relative;
}
.fa-li {
  position: absolute;
  left: -2.14285714em;
  width: 2.14285714em;
  top: 0.14285714em;
  text-align: center;
}
.fa-li.fa-lg {
  left: -1.85714286em;
}
.fa-border {
  padding: .2em .25em .15em;
  border: solid 0.08em #eee;
  border-radius: .1em;
}
.fa-pull-left {
  float: left;
}
.fa-pull-right {
  float: right;
}
.fa.fa-pull-left {
  margin-right: .3em;
}
.fa.fa-pull-right {
  margin-left: .3em;
}
/* Deprecated as of 4.4.0 */
.pull-right {
  float: right;
}
.pull-left {
  float: left;
}
.fa.pull-left {
  margin-right: .3em;
}
.fa.pull-right {
  margin-left: .3em;
}
.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
  animation: fa-spin 2s infinite linear;
}
.fa-pulse {
  -webkit-animation: fa-spin 1s infinite steps(8);
  animation: fa-spin 1s infinite steps(8);
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
    transform: rotate(359deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
    transform: rotate(359deg);
  }
}
.fa-rotate-90 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";
  -webkit-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  transform: rotate(90deg);
}
.fa-rotate-180 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";
  -webkit-transform: rotate(180deg);
  -ms-transform: rotate(180deg);
  transform: rotate(180deg);
}
.fa-rotate-270 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";
  -webkit-transform: rotate(270deg);
  -ms-transform: rotate(270deg);
  transform: rotate(270deg);
}
.fa-flip-horizontal {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";
  -webkit-transform: scale(-1, 1);
  -ms-transform: scale(-1, 1);
  transform: scale(-1, 1);
}
.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(1, -1);
  -ms-transform: scale(1, -1);
  transform: scale(1, -1);
}
:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical {
  filter: none;
}
.fa-stack {
  position: relative;
  display: inline-block;
  width: 2em;
  height: 2em;
  line-height: 2em;
  vertical-align: middle;
}
.fa-stack-1x,
.fa-stack-2x {
  position: absolute;
  left: 0;
  width: 100%;
  text-align: center;
}
.fa-stack-1x {
  line-height: inherit;
}
.fa-stack-2x {
  font-size: 2em;
}
.fa-inverse {
  color: #fff;
}
/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen
   readers do not read off random characters that represent icons */
.fa-glass:before {
  content: "\f000";
}
.fa-music:before {
  content: "\f001";
}
.fa-search:before {
  content: "\f002";
}
.fa-envelope-o:before {
  content: "\f003";
}
.fa-heart:before {
  content: "\f004";
}
.fa-star:before {
  content: "\f005";
}
.fa-star-o:before {
  content: "\f006";
}
.fa-user:before {
  content: "\f007";
}
.fa-film:before {
  content: "\f008";
}
.fa-th-large:before {
  content: "\f009";
}
.fa-th:before {
  content: "\f00a";
}
.fa-th-list:before {
  content: "\f00b";
}
.fa-check:before {
  content: "\f00c";
}
.fa-remove:before,
.fa-close:before,
.fa-times:before {
  content: "\f00d";
}
.fa-search-plus:before {
  content: "\f00e";
}
.fa-search-minus:before {
  content: "\f010";
}
.fa-power-off:before {
  content: "\f011";
}
.fa-signal:before {
  content: "\f012";
}
.fa-gear:before,
.fa-cog:before {
  content: "\f013";
}
.fa-trash-o:before {
  content: "\f014";
}
.fa-home:before {
  content: "\f015";
}
.fa-file-o:before {
  content: "\f016";
}
.fa-clock-o:before {
  content: "\f017";
}
.fa-road:before {
  content: "\f018";
}
.fa-download:before {
  content: "\f019";
}
.fa-arrow-circle-o-down:before {
  content: "\f01a";
}
.fa-arrow-circle-o-up:before {
  content: "\f01b";
}
.fa-inbox:before {
  content: "\f01c";
}
.fa-play-circle-o:before {
  content: "\f01d";
}
.fa-rotate-right:before,
.fa-repeat:before {
  content: "\f01e";
}
.fa-refresh:before {
  content: "\f021";
}
.fa-list-alt:before {
  content: "\f022";
}
.fa-lock:before {
  content: "\f023";
}
.fa-flag:before {
  content: "\f024";
}
.fa-headphones:before {
  content: "\f025";
}
.fa-volume-off:before {
  content: "\f026";
}
.fa-volume-down:before {
  content: "\f027";
}
.fa-volume-up:before {
  content: "\f028";
}
.fa-qrcode:before {
  content: "\f029";
}
.fa-barcode:before {
  content: "\f02a";
}
.fa-tag:before {
  content: "\f02b";
}
.fa-tags:before {
  content: "\f02c";
}
.fa-book:before {
  content: "\f02d";
}
.fa-bookmark:before {
  content: "\f02e";
}
.fa-print:before {
  content: "\f02f";
}
.fa-camera:before {
  content: "\f030";
}
.fa-font:before {
  content: "\f031";
}
.fa-bold:before {
  content: "\f032";
}
.fa-italic:before {
  content: "\f033";
}
.fa-text-height:before {
  content: "\f034";
}
.fa-text-width:before {
  content: "\f035";
}
.fa-align-left:before {
  content: "\f036";
}
.fa-align-center:before {
  content: "\f037";
}
.fa-align-right:before {
  content: "\f038";
}
.fa-align-justify:before {
  content: "\f039";
}
.fa-list:before {
  content: "\f03a";
}
.fa-dedent:before,
.fa-outdent:before {
  content: "\f03b";
}
.fa-indent:before {
  content: "\f03c";
}
.fa-video-camera:before {
  content: "\f03d";
}
.fa-photo:before,
.fa-image:before,
.fa-picture-o:before {
  content: "\f03e";
}
.fa-pencil:before {
  content: "\f040";
}
.fa-map-marker:before {
  content: "\f041";
}
.fa-adjust:before {
  content: "\f042";
}
.fa-tint:before {
  content: "\f043";
}
.fa-edit:before,
.fa-pencil-square-o:before {
  content: "\f044";
}
.fa-share-square-o:before {
  content: "\f045";
}
.fa-check-square-o:before {
  content: "\f046";
}
.fa-arrows:before {
  content: "\f047";
}
.fa-step-backward:before {
  content: "\f048";
}
.fa-fast-backward:before {
  content: "\f049";
}
.fa-backward:before {
  content: "\f04a";
}
.fa-play:before {
  content: "\f04b";
}
.fa-pause:before {
  content: "\f04c";
}
.fa-stop:before {
  content: "\f04d";
}
.fa-forward:before {
  content: "\f04e";
}
.fa-fast-forward:before {
  content: "\f050";
}
.fa-step-forward:before {
  content: "\f051";
}
.fa-eject:before {
  content: "\f052";
}
.fa-chevron-left:before {
  content: "\f053";
}
.fa-chevron-right:before {
  content: "\f054";
}
.fa-plus-circle:before {
  content: "\f055";
}
.fa-minus-circle:before {
  content: "\f056";
}
.fa-times-circle:before {
  content: "\f057";
}
.fa-check-circle:before {
  content: "\f058";
}
.fa-question-circle:before {
  content: "\f059";
}
.fa-info-circle:before {
  content: "\f05a";
}
.fa-crosshairs:before {
  content: "\f05b";
}
.fa-times-circle-o:before {
  content: "\f05c";
}
.fa-check-circle-o:before {
  content: "\f05d";
}
.fa-ban:before {
  content: "\f05e";
}
.fa-arrow-left:before {
  content: "\f060";
}
.fa-arrow-right:before {
  content: "\f061";
}
.fa-arrow-up:before {
  content: "\f062";
}
.fa-arrow-down:before {
  content: "\f063";
}
.fa-mail-forward:before,
.fa-share:before {
  content: "\f064";
}
.fa-expand:before {
  content: "\f065";
}
.fa-compress:before {
  content: "\f066";
}
.fa-plus:before {
  content: "\f067";
}
.fa-minus:before {
  content: "\f068";
}
.fa-asterisk:before {
  content: "\f069";
}
.fa-exclamation-circle:before {
  content: "\f06a";
}
.fa-gift:before {
  content: "\f06b";
}
.fa-leaf:before {
  content: "\f06c";
}
.fa-fire:before {
  content: "\f06d";
}
.fa-eye:before {
  content: "\f06e";
}
.fa-eye-slash:before {
  content: "\f070";
}
.fa-warning:before,
.fa-exclamation-triangle:before {
  content: "\f071";
}
.fa-plane:before {
  content: "\f072";
}
.fa-calendar:before {
  content: "\f073";
}
.fa-random:before {
  content: "\f074";
}
.fa-comment:before {
  content: "\f075";
}
.fa-magnet:before {
  content: "\f076";
}
.fa-chevron-up:before {
  content: "\f077";
}
.fa-chevron-down:before {
  content: "\f078";
}
.fa-retweet:before {
  content: "\f079";
}
.fa-shopping-cart:before {
  content: "\f07a";
}
.fa-folder:before {
  content: "\f07b";
}
.fa-folder-open:before {
  content: "\f07c";
}
.fa-arrows-v:before {
  content: "\f07d";
}
.fa-arrows-h:before {
  content: "\f07e";
}
.fa-bar-chart-o:before,
.fa-bar-chart:before {
  content: "\f080";
}
.fa-twitter-square:before {
  content: "\f081";
}
.fa-facebook-square:before {
  content: "\f082";
}
.fa-camera-retro:before {
  content: "\f083";
}
.fa-key:before {
  content: "\f084";
}
.fa-gears:before,
.fa-cogs:before {
  content: "\f085";
}
.fa-comments:before {
  content: "\f086";
}
.fa-thumbs-o-up:before {
  content: "\f087";
}
.fa-thumbs-o-down:before {
  content: "\f088";
}
.fa-star-half:before {
  content: "\f089";
}
.fa-heart-o:before {
  content: "\f08a";
}
.fa-sign-out:before {
  content: "\f08b";
}
.fa-linkedin-square:before {
  content: "\f08c";
}
.fa-thumb-tack:before {
  content: "\f08d";
}
.fa-external-link:before {
  content: "\f08e";
}
.fa-sign-in:before {
  content: "\f090";
}
.fa-trophy:before {
  content: "\f091";
}
.fa-github-square:before {
  content: "\f092";
}
.fa-upload:before {
  content: "\f093";
}
.fa-lemon-o:before {
  content: "\f094";
}
.fa-phone:before {
  content: "\f095";
}
.fa-square-o:before {
  content: "\f096";
}
.fa-bookmark-o:before {
  content: "\f097";
}
.fa-phone-square:before {
  content: "\f098";
}
.fa-twitter:before {
  content: "\f099";
}
.fa-facebook-f:before,
.fa-facebook:before {
  content: "\f09a";
}
.fa-github:before {
  content: "\f09b";
}
.fa-unlock:before {
  content: "\f09c";
}
.fa-credit-card:before {
  content: "\f09d";
}
.fa-feed:before,
.fa-rss:before {
  content: "\f09e";
}
.fa-hdd-o:before {
  content: "\f0a0";
}
.fa-bullhorn:before {
  content: "\f0a1";
}
.fa-bell:before {
  content: "\f0f3";
}
.fa-certificate:before {
  content: "\f0a3";
}
.fa-hand-o-right:before {
  content: "\f0a4";
}
.fa-hand-o-left:before {
  content: "\f0a5";
}
.fa-hand-o-up:before {
  content: "\f0a6";
}
.fa-hand-o-down:before {
  content: "\f0a7";
}
.fa-arrow-circle-left:before {
  content: "\f0a8";
}
.fa-arrow-circle-right:before {
  content: "\f0a9";
}
.fa-arrow-circle-up:before {
  content: "\f0aa";
}
.fa-arrow-circle-down:before {
  content: "\f0ab";
}
.fa-globe:before {
  content: "\f0ac";
}
.fa-wrench:before {
  content: "\f0ad";
}
.fa-tasks:before {
  content: "\f0ae";
}
.fa-filter:before {
  content: "\f0b0";
}
.fa-briefcase:before {
  content: "\f0b1";
}
.fa-arrows-alt:before {
  content: "\f0b2";
}
.fa-group:before,
.fa-users:before {
  content: "\f0c0";
}
.fa-chain:before,
.fa-link:before {
  content: "\f0c1";
}
.fa-cloud:before {
  content: "\f0c2";
}
.fa-flask:before {
  content: "\f0c3";
}
.fa-cut:before,
.fa-scissors:before {
  content: "\f0c4";
}
.fa-copy:before,
.fa-files-o:before {
  content: "\f0c5";
}
.fa-paperclip:before {
  content: "\f0c6";
}
.fa-save:before,
.fa-floppy-o:before {
  content: "\f0c7";
}
.fa-square:before {
  content: "\f0c8";
}
.fa-navicon:before,
.fa-reorder:before,
.fa-bars:before {
  content: "\f0c9";
}
.fa-list-ul:before {
  content: "\f0ca";
}
.fa-list-ol:before {
  content: "\f0cb";
}
.fa-strikethrough:before {
  content: "\f0cc";
}
.fa-underline:before {
  content: "\f0cd";
}
.fa-table:before {
  content: "\f0ce";
}
.fa-magic:before {
  content: "\f0d0";
}
.fa-truck:before {
  content: "\f0d1";
}
.fa-pinterest:before {
  content: "\f0d2";
}
.fa-pinterest-square:before {
  content: "\f0d3";
}
.fa-google-plus-square:before {
  content: "\f0d4";
}
.fa-google-plus:before {
  content: "\f0d5";
}
.fa-money:before {
  content: "\f0d6";
}
.fa-caret-down:before {
  content: "\f0d7";
}
.fa-caret-up:before {
  content: "\f0d8";
}
.fa-caret-left:before {
  content: "\f0d9";
}
.fa-caret-right:before {
  content: "\f0da";
}
.fa-columns:before {
  content: "\f0db";
}
.fa-unsorted:before,
.fa-sort:before {
  content: "\f0dc";
}
.fa-sort-down:before,
.fa-sort-desc:before {
  content: "\f0dd";
}
.fa-sort-up:before,
.fa-sort-asc:before {
  content: "\f0de";
}
.fa-envelope:before {
  content: "\f0e0";
}
.fa-linkedin:before {
  content: "\f0e1";
}
.fa-rotate-left:before,
.fa-undo:before {
  content: "\f0e2";
}
.fa-legal:before,
.fa-gavel:before {
  content: "\f0e3";
}
.fa-dashboard:before,
.fa-tachometer:before {
  content: "\f0e4";
}
.fa-comment-o:before {
  content: "\f0e5";
}
.fa-comments-o:before {
  content: "\f0e6";
}
.fa-flash:before,
.fa-bolt:before {
  content: "\f0e7";
}
.fa-sitemap:before {
  content: "\f0e8";
}
.fa-umbrella:before {
  content: "\f0e9";
}
.fa-paste:before,
.fa-clipboard:before {
  content: "\f0ea";
}
.fa-lightbulb-o:before {
  content: "\f0eb";
}
.fa-exchange:before {
  content: "\f0ec";
}
.fa-cloud-download:before {
  content: "\f0ed";
}
.fa-cloud-upload:before {
  content: "\f0ee";
}
.fa-user-md:before {
  content: "\f0f0";
}
.fa-stethoscope:before {
  content: "\f0f1";
}
.fa-suitcase:before {
  content: "\f0f2";
}
.fa-bell-o:before {
  content: "\f0a2";
}
.fa-coffee:before {
  content: "\f0f4";
}
.fa-cutlery:before {
  content: "\f0f5";
}
.fa-file-text-o:before {
  content: "\f0f6";
}
.fa-building-o:before {
  content: "\f0f7";
}
.fa-hospital-o:before {
  content: "\f0f8";
}
.fa-ambulance:before {
  content: "\f0f9";
}
.fa-medkit:before {
  content: "\f0fa";
}
.fa-fighter-jet:before {
  content: "\f0fb";
}
.fa-beer:before {
  content: "\f0fc";
}
.fa-h-square:before {
  content: "\f0fd";
}
.fa-plus-square:before {
  content: "\f0fe";
}
.fa-angle-double-left:before {
  content: "\f100";
}
.fa-angle-double-right:before {
  content: "\f101";
}
.fa-angle-double-up:before {
  content: "\f102";
}
.fa-angle-double-down:before {
  content: "\f103";
}
.fa-angle-left:before {
  content: "\f104";
}
.fa-angle-right:before {
  content: "\f105";
}
.fa-angle-up:before {
  content: "\f106";
}
.fa-angle-down:before {
  content: "\f107";
}
.fa-desktop:before {
  content: "\f108";
}
.fa-laptop:before {
  content: "\f109";
}
.fa-tablet:before {
  content: "\f10a";
}
.fa-mobile-phone:before,
.fa-mobile:before {
  content: "\f10b";
}
.fa-circle-o:before {
  content: "\f10c";
}
.fa-quote-left:before {
  content: "\f10d";
}
.fa-quote-right:before {
  content: "\f10e";
}
.fa-spinner:before {
  content: "\f110";
}
.fa-circle:before {
  content: "\f111";
}
.fa-mail-reply:before,
.fa-reply:before {
  content: "\f112";
}
.fa-github-alt:before {
  content: "\f113";
}
.fa-folder-o:before {
  content: "\f114";
}
.fa-folder-open-o:before {
  content: "\f115";
}
.fa-smile-o:before {
  content: "\f118";
}
.fa-frown-o:before {
  content: "\f119";
}
.fa-meh-o:before {
  content: "\f11a";
}
.fa-gamepad:before {
  content: "\f11b";
}
.fa-keyboard-o:before {
  content: "\f11c";
}
.fa-flag-o:before {
  content: "\f11d";
}
.fa-flag-checkered:before {
  content: "\f11e";
}
.fa-terminal:before {
  content: "\f120";
}
.fa-code:before {
  content: "\f121";
}
.fa-mail-reply-all:before,
.fa-reply-all:before {
  content: "\f122";
}
.fa-star-half-empty:before,
.fa-star-half-full:before,
.fa-star-half-o:before {
  content: "\f123";
}
.fa-location-arrow:before {
  content: "\f124";
}
.fa-crop:before {
  content: "\f125";
}
.fa-code-fork:before {
  content: "\f126";
}
.fa-unlink:before,
.fa-chain-broken:before {
  content: "\f127";
}
.fa-question:before {
  content: "\f128";
}
.fa-info:before {
  content: "\f129";
}
.fa-exclamation:before {
  content: "\f12a";
}
.fa-superscript:before {
  content: "\f12b";
}
.fa-subscript:before {
  content: "\f12c";
}
.fa-eraser:before {
  content: "\f12d";
}
.fa-puzzle-piece:before {
  content: "\f12e";
}
.fa-microphone:before {
  content: "\f130";
}
.fa-microphone-slash:before {
  content: "\f131";
}
.fa-shield:before {
  content: "\f132";
}
.fa-calendar-o:before {
  content: "\f133";
}
.fa-fire-extinguisher:before {
  content: "\f134";
}
.fa-rocket:before {
  content: "\f135";
}
.fa-maxcdn:before {
  content: "\f136";
}
.fa-chevron-circle-left:before {
  content: "\f137";
}
.fa-chevron-circle-right:before {
  content: "\f138";
}
.fa-chevron-circle-up:before {
  content: "\f139";
}
.fa-chevron-circle-down:before {
  content: "\f13a";
}
.fa-html5:before {
  content: "\f13b";
}
.fa-css3:before {
  content: "\f13c";
}
.fa-anchor:before {
  content: "\f13d";
}
.fa-unlock-alt:before {
  content: "\f13e";
}
.fa-bullseye:before {
  content: "\f140";
}
.fa-ellipsis-h:before {
  content: "\f141";
}
.fa-ellipsis-v:before {
  content: "\f142";
}
.fa-rss-square:before {
  content: "\f143";
}
.fa-play-circle:before {
  content: "\f144";
}
.fa-ticket:before {
  content: "\f145";
}
.fa-minus-square:before {
  content: "\f146";
}
.fa-minus-square-o:before {
  content: "\f147";
}
.fa-level-up:before {
  content: "\f148";
}
.fa-level-down:before {
  content: "\f149";
}
.fa-check-square:before {
  content: "\f14a";
}
.fa-pencil-square:before {
  content: "\f14b";
}
.fa-external-link-square:before {
  content: "\f14c";
}
.fa-share-square:before {
  content: "\f14d";
}
.fa-compass:before {
  content: "\f14e";
}
.fa-toggle-down:before,
.fa-caret-square-o-down:before {
  content: "\f150";
}
.fa-toggle-up:before,
.fa-caret-square-o-up:before {
  content: "\f151";
}
.fa-toggle-right:before,
.fa-caret-square-o-right:before {
  content: "\f152";
}
.fa-euro:before,
.fa-eur:before {
  content: "\f153";
}
.fa-gbp:before {
  content: "\f154";
}
.fa-dollar:before,
.fa-usd:before {
  content: "\f155";
}
.fa-rupee:before,
.fa-inr:before {
  content: "\f156";
}
.fa-cny:before,
.fa-rmb:before,
.fa-yen:before,
.fa-jpy:before {
  content: "\f157";
}
.fa-ruble:before,
.fa-rouble:before,
.fa-rub:before {
  content: "\f158";
}
.fa-won:before,
.fa-krw:before {
  content: "\f159";
}
.fa-bitcoin:before,
.fa-btc:before {
  content: "\f15a";
}
.fa-file:before {
  content: "\f15b";
}
.fa-file-text:before {
  content: "\f15c";
}
.fa-sort-alpha-asc:before {
  content: "\f15d";
}
.fa-sort-alpha-desc:before {
  content: "\f15e";
}
.fa-sort-amount-asc:before {
  content: "\f160";
}
.fa-sort-amount-desc:before {
  content: "\f161";
}
.fa-sort-numeric-asc:before {
  content: "\f162";
}
.fa-sort-numeric-desc:before {
  content: "\f163";
}
.fa-thumbs-up:before {
  content: "\f164";
}
.fa-thumbs-down:before {
  content: "\f165";
}
.fa-youtube-square:before {
  content: "\f166";
}
.fa-youtube:before {
  content: "\f167";
}
.fa-xing:before {
  content: "\f168";
}
.fa-xing-square:before {
  content: "\f169";
}
.fa-youtube-play:before {
  content: "\f16a";
}
.fa-dropbox:before {
  content: "\f16b";
}
.fa-stack-overflow:before {
  content: "\f16c";
}
.fa-instagram:before {
  content: "\f16d";
}
.fa-flickr:before {
  content: "\f16e";
}
.fa-adn:before {
  content: "\f170";
}
.fa-bitbucket:before {
  content: "\f171";
}
.fa-bitbucket-square:before {
  content: "\f172";
}
.fa-tumblr:before {
  content: "\f173";
}
.fa-tumblr-square:before {
  content: "\f174";
}
.fa-long-arrow-down:before {
  content: "\f175";
}
.fa-long-arrow-up:before {
  content: "\f176";
}
.fa-long-arrow-left:before {
  content: "\f177";
}
.fa-long-arrow-right:before {
  content: "\f178";
}
.fa-apple:before {
  content: "\f179";
}
.fa-windows:before {
  content: "\f17a";
}
.fa-android:before {
  content: "\f17b";
}
.fa-linux:before {
  content: "\f17c";
}
.fa-dribbble:before {
  content: "\f17d";
}
.fa-skype:before {
  content: "\f17e";
}
.fa-foursquare:before {
  content: "\f180";
}
.fa-trello:before {
  content: "\f181";
}
.fa-female:before {
  content: "\f182";
}
.fa-male:before {
  content: "\f183";
}
.fa-gittip:before,
.fa-gratipay:before {
  content: "\f184";
}
.fa-sun-o:before {
  content: "\f185";
}
.fa-moon-o:before {
  content: "\f186";
}
.fa-archive:before {
  content: "\f187";
}
.fa-bug:before {
  content: "\f188";
}
.fa-vk:before {
  content: "\f189";
}
.fa-weibo:before {
  content: "\f18a";
}
.fa-renren:before {
  content: "\f18b";
}
.fa-pagelines:before {
  content: "\f18c";
}
.fa-stack-exchange:before {
  content: "\f18d";
}
.fa-arrow-circle-o-right:before {
  content: "\f18e";
}
.fa-arrow-circle-o-left:before {
  content: "\f190";
}
.fa-toggle-left:before,
.fa-caret-square-o-left:before {
  content: "\f191";
}
.fa-dot-circle-o:before {
  content: "\f192";
}
.fa-wheelchair:before {
  content: "\f193";
}
.fa-vimeo-square:before {
  content: "\f194";
}
.fa-turkish-lira:before,
.fa-try:before {
  content: "\f195";
}
.fa-plus-square-o:before {
  content: "\f196";
}
.fa-space-shuttle:before {
  content: "\f197";
}
.fa-slack:before {
  content: "\f198";
}
.fa-envelope-square:before {
  content: "\f199";
}
.fa-wordpress:before {
  content: "\f19a";
}
.fa-openid:before {
  content: "\f19b";
}
.fa-institution:before,
.fa-bank:before,
.fa-university:before {
  content: "\f19c";
}
.fa-mortar-board:before,
.fa-graduation-cap:before {
  content: "\f19d";
}
.fa-yahoo:before {
  content: "\f19e";
}
.fa-google:before {
  content: "\f1a0";
}
.fa-reddit:before {
  content: "\f1a1";
}
.fa-reddit-square:before {
  content: "\f1a2";
}
.fa-stumbleupon-circle:before {
  content: "\f1a3";
}
.fa-stumbleupon:before {
  content: "\f1a4";
}
.fa-delicious:before {
  content: "\f1a5";
}
.fa-digg:before {
  content: "\f1a6";
}
.fa-pied-piper-pp:before {
  content: "\f1a7";
}
.fa-pied-piper-alt:before {
  content: "\f1a8";
}
.fa-drupal:before {
  content: "\f1a9";
}
.fa-joomla:before {
  content: "\f1aa";
}
.fa-language:before {
  content: "\f1ab";
}
.fa-fax:before {
  content: "\f1ac";
}
.fa-building:before {
  content: "\f1ad";
}
.fa-child:before {
  content: "\f1ae";
}
.fa-paw:before {
  content: "\f1b0";
}
.fa-spoon:before {
  content: "\f1b1";
}
.fa-cube:before {
  content: "\f1b2";
}
.fa-cubes:before {
  content: "\f1b3";
}
.fa-behance:before {
  content: "\f1b4";
}
.fa-behance-square:before {
  content: "\f1b5";
}
.fa-steam:before {
  content: "\f1b6";
}
.fa-steam-square:before {
  content: "\f1b7";
}
.fa-recycle:before {
  content: "\f1b8";
}
.fa-automobile:before,
.fa-car:before {
  content: "\f1b9";
}
.fa-cab:before,
.fa-taxi:before {
  content: "\f1ba";
}
.fa-tree:before {
  content: "\f1bb";
}
.fa-spotify:before {
  content: "\f1bc";
}
.fa-deviantart:before {
  content: "\f1bd";
}
.fa-soundcloud:before {
  content: "\f1be";
}
.fa-database:before {
  content: "\f1c0";
}
.fa-file-pdf-o:before {
  content: "\f1c1";
}
.fa-file-word-o:before {
  content: "\f1c2";
}
.fa-file-excel-o:before {
  content: "\f1c3";
}
.fa-file-powerpoint-o:before {
  content: "\f1c4";
}
.fa-file-photo-o:before,
.fa-file-picture-o:before,
.fa-file-image-o:before {
  content: "\f1c5";
}
.fa-file-zip-o:before,
.fa-file-archive-o:before {
  content: "\f1c6";
}
.fa-file-sound-o:before,
.fa-file-audio-o:before {
  content: "\f1c7";
}
.fa-file-movie-o:before,
.fa-file-video-o:before {
  content: "\f1c8";
}
.fa-file-code-o:before {
  content: "\f1c9";
}
.fa-vine:before {
  content: "\f1ca";
}
.fa-codepen:before {
  content: "\f1cb";
}
.fa-jsfiddle:before {
  content: "\f1cc";
}
.fa-life-bouy:before,
.fa-life-buoy:before,
.fa-life-saver:before,
.fa-support:before,
.fa-life-ring:before {
  content: "\f1cd";
}
.fa-circle-o-notch:before {
  content: "\f1ce";
}
.fa-ra:before,
.fa-resistance:before,
.fa-rebel:before {
  content: "\f1d0";
}
.fa-ge:before,
.fa-empire:before {
  content: "\f1d1";
}
.fa-git-square:before {
  content: "\f1d2";
}
.fa-git:before {
  content: "\f1d3";
}
.fa-y-combinator-square:before,
.fa-yc-square:before,
.fa-hacker-news:before {
  content: "\f1d4";
}
.fa-tencent-weibo:before {
  content: "\f1d5";
}
.fa-qq:before {
  content: "\f1d6";
}
.fa-wechat:before,
.fa-weixin:before {
  content: "\f1d7";
}
.fa-send:before,
.fa-paper-plane:before {
  content: "\f1d8";
}
.fa-send-o:before,
.fa-paper-plane-o:before {
  content: "\f1d9";
}
.fa-history:before {
  content: "\f1da";
}
.fa-circle-thin:before {
  content: "\f1db";
}
.fa-header:before {
  content: "\f1dc";
}
.fa-paragraph:before {
  content: "\f1dd";
}
.fa-sliders:before {
  content: "\f1de";
}
.fa-share-alt:before {
  content: "\f1e0";
}
.fa-share-alt-square:before {
  content: "\f1e1";
}
.fa-bomb:before {
  content: "\f1e2";
}
.fa-soccer-ball-o:before,
.fa-futbol-o:before {
  content: "\f1e3";
}
.fa-tty:before {
  content: "\f1e4";
}
.fa-binoculars:before {
  content: "\f1e5";
}
.fa-plug:before {
  content: "\f1e6";
}
.fa-slideshare:before {
  content: "\f1e7";
}
.fa-twitch:before {
  content: "\f1e8";
}
.fa-yelp:before {
  content: "\f1e9";
}
.fa-newspaper-o:before {
  content: "\f1ea";
}
.fa-wifi:before {
  content: "\f1eb";
}
.fa-calculator:before {
  content: "\f1ec";
}
.fa-paypal:before {
  content: "\f1ed";
}
.fa-google-wallet:before {
  content: "\f1ee";
}
.fa-cc-visa:before {
  content: "\f1f0";
}
.fa-cc-mastercard:before {
  content: "\f1f1";
}
.fa-cc-discover:before {
  content: "\f1f2";
}
.fa-cc-amex:before {
  content: "\f1f3";
}
.fa-cc-paypal:before {
  content: "\f1f4";
}
.fa-cc-stripe:before {
  content: "\f1f5";
}
.fa-bell-slash:before {
  content: "\f1f6";
}
.fa-bell-slash-o:before {
  content: "\f1f7";
}
.fa-trash:before {
  content: "\f1f8";
}
.fa-copyright:before {
  content: "\f1f9";
}
.fa-at:before {
  content: "\f1fa";
}
.fa-eyedropper:before {
  content: "\f1fb";
}
.fa-paint-brush:before {
  content: "\f1fc";
}
.fa-birthday-cake:before {
  content: "\f1fd";
}
.fa-area-chart:before {
  content: "\f1fe";
}
.fa-pie-chart:before {
  content: "\f200";
}
.fa-line-chart:before {
  content: "\f201";
}
.fa-lastfm:before {
  content: "\f202";
}
.fa-lastfm-square:before {
  content: "\f203";
}
.fa-toggle-off:before {
  content: "\f204";
}
.fa-toggle-on:before {
  content: "\f205";
}
.fa-bicycle:before {
  content: "\f206";
}
.fa-bus:before {
  content: "\f207";
}
.fa-ioxhost:before {
  content: "\f208";
}
.fa-angellist:before {
  content: "\f209";
}
.fa-cc:before {
  content: "\f20a";
}
.fa-shekel:before,
.fa-sheqel:before,
.fa-ils:before {
  content: "\f20b";
}
.fa-meanpath:before {
  content: "\f20c";
}
.fa-buysellads:before {
  content: "\f20d";
}
.fa-connectdevelop:before {
  content: "\f20e";
}
.fa-dashcube:before {
  content: "\f210";
}
.fa-forumbee:before {
  content: "\f211";
}
.fa-leanpub:before {
  content: "\f212";
}
.fa-sellsy:before {
  content: "\f213";
}
.fa-shirtsinbulk:before {
  content: "\f214";
}
.fa-simplybuilt:before {
  content: "\f215";
}
.fa-skyatlas:before {
  content: "\f216";
}
.fa-cart-plus:before {
  content: "\f217";
}
.fa-cart-arrow-down:before {
  content: "\f218";
}
.fa-diamond:before {
  content: "\f219";
}
.fa-ship:before {
  content: "\f21a";
}
.fa-user-secret:before {
  content: "\f21b";
}
.fa-motorcycle:before {
  content: "\f21c";
}
.fa-street-view:before {
  content: "\f21d";
}
.fa-heartbeat:before {
  content: "\f21e";
}
.fa-venus:before {
  content: "\f221";
}
.fa-mars:before {
  content: "\f222";
}
.fa-mercury:before {
  content: "\f223";
}
.fa-intersex:before,
.fa-transgender:before {
  content: "\f224";
}
.fa-transgender-alt:before {
  content: "\f225";
}
.fa-venus-double:before {
  content: "\f226";
}
.fa-mars-double:before {
  content: "\f227";
}
.fa-venus-mars:before {
  content: "\f228";
}
.fa-mars-stroke:before {
  content: "\f229";
}
.fa-mars-stroke-v:before {
  content: "\f22a";
}
.fa-mars-stroke-h:before {
  content: "\f22b";
}
.fa-neuter:before {
  content: "\f22c";
}
.fa-genderless:before {
  content: "\f22d";
}
.fa-facebook-official:before {
  content: "\f230";
}
.fa-pinterest-p:before {
  content: "\f231";
}
.fa-whatsapp:before {
  content: "\f232";
}
.fa-server:before {
  content: "\f233";
}
.fa-user-plus:before {
  content: "\f234";
}
.fa-user-times:before {
  content: "\f235";
}
.fa-hotel:before,
.fa-bed:before {
  content: "\f236";
}
.fa-viacoin:before {
  content: "\f237";
}
.fa-train:before {
  content: "\f238";
}
.fa-subway:before {
  content: "\f239";
}
.fa-medium:before {
  content: "\f23a";
}
.fa-yc:before,
.fa-y-combinator:before {
  content: "\f23b";
}
.fa-optin-monster:before {
  content: "\f23c";
}
.fa-opencart:before {
  content: "\f23d";
}
.fa-expeditedssl:before {
  content: "\f23e";
}
.fa-battery-4:before,
.fa-battery:before,
.fa-battery-full:before {
  content: "\f240";
}
.fa-battery-3:before,
.fa-battery-three-quarters:before {
  content: "\f241";
}
.fa-battery-2:before,
.fa-battery-half:before {
  content: "\f242";
}
.fa-battery-1:before,
.fa-battery-quarter:before {
  content: "\f243";
}
.fa-battery-0:before,
.fa-battery-empty:before {
  content: "\f244";
}
.fa-mouse-pointer:before {
  content: "\f245";
}
.fa-i-cursor:before {
  content: "\f246";
}
.fa-object-group:before {
  content: "\f247";
}
.fa-object-ungroup:before {
  content: "\f248";
}
.fa-sticky-note:before {
  content: "\f249";
}
.fa-sticky-note-o:before {
  content: "\f24a";
}
.fa-cc-jcb:before {
  content: "\f24b";
}
.fa-cc-diners-club:before {
  content: "\f24c";
}
.fa-clone:before {
  content: "\f24d";
}
.fa-balance-scale:before {
  content: "\f24e";
}
.fa-hourglass-o:before {
  content: "\f250";
}
.fa-hourglass-1:before,
.fa-hourglass-start:before {
  content: "\f251";
}
.fa-hourglass-2:before,
.fa-hourglass-half:before {
  content: "\f252";
}
.fa-hourglass-3:before,
.fa-hourglass-end:before {
  content: "\f253";
}
.fa-hourglass:before {
  content: "\f254";
}
.fa-hand-grab-o:before,
.fa-hand-rock-o:before {
  content: "\f255";
}
.fa-hand-stop-o:before,
.fa-hand-paper-o:before {
  content: "\f256";
}
.fa-hand-scissors-o:before {
  content: "\f257";
}
.fa-hand-lizard-o:before {
  content: "\f258";
}
.fa-hand-spock-o:before {
  content: "\f259";
}
.fa-hand-pointer-o:before {
  content: "\f25a";
}
.fa-hand-peace-o:before {
  content: "\f25b";
}
.fa-trademark:before {
  content: "\f25c";
}
.fa-registered:before {
  content: "\f25d";
}
.fa-creative-commons:before {
  content: "\f25e";
}
.fa-gg:before {
  content: "\f260";
}
.fa-gg-circle:before {
  content: "\f261";
}
.fa-tripadvisor:before {
  content: "\f262";
}
.fa-odnoklassniki:before {
  content: "\f263";
}
.fa-odnoklassniki-square:before {
  content: "\f264";
}
.fa-get-pocket:before {
  content: "\f265";
}
.fa-wikipedia-w:before {
  content: "\f266";
}
.fa-safari:before {
  content: "\f267";
}
.fa-chrome:before {
  content: "\f268";
}
.fa-firefox:before {
  content: "\f269";
}
.fa-opera:before {
  content: "\f26a";
}
.fa-internet-explorer:before {
  content: "\f26b";
}
.fa-tv:before,
.fa-television:before {
  content: "\f26c";
}
.fa-contao:before {
  content: "\f26d";
}
.fa-500px:before {
  content: "\f26e";
}
.fa-amazon:before {
  content: "\f270";
}
.fa-calendar-plus-o:before {
  content: "\f271";
}
.fa-calendar-minus-o:before {
  content: "\f272";
}
.fa-calendar-times-o:before {
  content: "\f273";
}
.fa-calendar-check-o:before {
  content: "\f274";
}
.fa-industry:before {
  content: "\f275";
}
.fa-map-pin:before {
  content: "\f276";
}
.fa-map-signs:before {
  content: "\f277";
}
.fa-map-o:before {
  content: "\f278";
}
.fa-map:before {
  content: "\f279";
}
.fa-commenting:before {
  content: "\f27a";
}
.fa-commenting-o:before {
  content: "\f27b";
}
.fa-houzz:before {
  content: "\f27c";
}
.fa-vimeo:before {
  content: "\f27d";
}
.fa-black-tie:before {
  content: "\f27e";
}
.fa-fonticons:before {
  content: "\f280";
}
.fa-reddit-alien:before {
  content: "\f281";
}
.fa-edge:before {
  content: "\f282";
}
.fa-credit-card-alt:before {
  content: "\f283";
}
.fa-codiepie:before {
  content: "\f284";
}
.fa-modx:before {
  content: "\f285";
}
.fa-fort-awesome:before {
  content: "\f286";
}
.fa-usb:before {
  content: "\f287";
}
.fa-product-hunt:before {
  content: "\f288";
}
.fa-mixcloud:before {
  content: "\f289";
}
.fa-scribd:before {
  content: "\f28a";
}
.fa-pause-circle:before {
  content: "\f28b";
}
.fa-pause-circle-o:before {
  content: "\f28c";
}
.fa-stop-circle:before {
  content: "\f28d";
}
.fa-stop-circle-o:before {
  content: "\f28e";
}
.fa-shopping-bag:before {
  content: "\f290";
}
.fa-shopping-basket:before {
  content: "\f291";
}
.fa-hashtag:before {
  content: "\f292";
}
.fa-bluetooth:before {
  content: "\f293";
}
.fa-bluetooth-b:before {
  content: "\f294";
}
.fa-percent:before {
  content: "\f295";
}
.fa-gitlab:before {
  content: "\f296";
}
.fa-wpbeginner:before {
  content: "\f297";
}
.fa-wpforms:before {
  content: "\f298";
}
.fa-envira:before {
  content: "\f299";
}
.fa-universal-access:before {
  content: "\f29a";
}
.fa-wheelchair-alt:before {
  content: "\f29b";
}
.fa-question-circle-o:before {
  content: "\f29c";
}
.fa-blind:before {
  content: "\f29d";
}
.fa-audio-description:before {
  content: "\f29e";
}
.fa-volume-control-phone:before {
  content: "\f2a0";
}
.fa-braille:before {
  content: "\f2a1";
}
.fa-assistive-listening-systems:before {
  content: "\f2a2";
}
.fa-asl-interpreting:before,
.fa-american-sign-language-interpreting:before {
  content: "\f2a3";
}
.fa-deafness:before,
.fa-hard-of-hearing:before,
.fa-deaf:before {
  content: "\f2a4";
}
.fa-glide:before {
  content: "\f2a5";
}
.fa-glide-g:before {
  content: "\f2a6";
}
.fa-signing:before,
.fa-sign-language:before {
  content: "\f2a7";
}
.fa-low-vision:before {
  content: "\f2a8";
}
.fa-viadeo:before {
  content: "\f2a9";
}
.fa-viadeo-square:before {
  content: "\f2aa";
}
.fa-snapchat:before {
  content: "\f2ab";
}
.fa-snapchat-ghost:before {
  content: "\f2ac";
}
.fa-snapchat-square:before {
  content: "\f2ad";
}
.fa-pied-piper:before {
  content: "\f2ae";
}
.fa-first-order:before {
  content: "\f2b0";
}
.fa-yoast:before {
  content: "\f2b1";
}
.fa-themeisle:before {
  content: "\f2b2";
}
.fa-google-plus-circle:before,
.fa-google-plus-official:before {
  content: "\f2b3";
}
.fa-fa:before,
.fa-font-awesome:before {
  content: "\f2b4";
}
.fa-handshake-o:before {
  content: "\f2b5";
}
.fa-envelope-open:before {
  content: "\f2b6";
}
.fa-envelope-open-o:before {
  content: "\f2b7";
}
.fa-linode:before {
  content: "\f2b8";
}
.fa-address-book:before {
  content: "\f2b9";
}
.fa-address-book-o:before {
  content: "\f2ba";
}
.fa-vcard:before,
.fa-address-card:before {
  content: "\f2bb";
}
.fa-vcard-o:before,
.fa-address-card-o:before {
  content: "\f2bc";
}
.fa-user-circle:before {
  content: "\f2bd";
}
.fa-user-circle-o:before {
  content: "\f2be";
}
.fa-user-o:before {
  content: "\f2c0";
}
.fa-id-badge:before {
  content: "\f2c1";
}
.fa-drivers-license:before,
.fa-id-card:before {
  content: "\f2c2";
}
.fa-drivers-license-o:before,
.fa-id-card-o:before {
  content: "\f2c3";
}
.fa-quora:before {
  content: "\f2c4";
}
.fa-free-code-camp:before {
  content: "\f2c5";
}
.fa-telegram:before {
  content: "\f2c6";
}
.fa-thermometer-4:before,
.fa-thermometer:before,
.fa-thermometer-full:before {
  content: "\f2c7";
}
.fa-thermometer-3:before,
.fa-thermometer-three-quarters:before {
  content: "\f2c8";
}
.fa-thermometer-2:before,
.fa-thermometer-half:before {
  content: "\f2c9";
}
.fa-thermometer-1:before,
.fa-thermometer-quarter:before {
  content: "\f2ca";
}
.fa-thermometer-0:before,
.fa-thermometer-empty:before {
  content: "\f2cb";
}
.fa-shower:before {
  content: "\f2cc";
}
.fa-bathtub:before,
.fa-s15:before,
.fa-bath:before {
  content: "\f2cd";
}
.fa-podcast:before {
  content: "\f2ce";
}
.fa-window-maximize:before {
  content: "\f2d0";
}
.fa-window-minimize:before {
  content: "\f2d1";
}
.fa-window-restore:before {
  content: "\f2d2";
}
.fa-times-rectangle:before,
.fa-window-close:before {
  content: "\f2d3";
}
.fa-times-rectangle-o:before,
.fa-window-close-o:before {
  content: "\f2d4";
}
.fa-bandcamp:before {
  content: "\f2d5";
}
.fa-grav:before {
  content: "\f2d6";
}
.fa-etsy:before {
  content: "\f2d7";
}
.fa-imdb:before {
  content: "\f2d8";
}
.fa-ravelry:before {
  content: "\f2d9";
}
.fa-eercast:before {
  content: "\f2da";
}
.fa-microchip:before {
  content: "\f2db";
}
.fa-snowflake-o:before {
  content: "\f2dc";
}
.fa-superpowers:before {
  content: "\f2dd";
}
.fa-wpexplorer:before {
  content: "\f2de";
}
.fa-meetup:before {
  content: "\f2e0";
}
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}
.sr-only-focusable:active,
.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  clip: auto;
}
.sr-only-focusable:active,
.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  clip: auto;
}
/*!
*
* IPython base
*
*/
.modal.fade .modal-dialog {
  -webkit-transform: translate(0, 0);
  -ms-transform: translate(0, 0);
  -o-transform: translate(0, 0);
  transform: translate(0, 0);
}
code {
  color: #000;
}
pre {
  font-size: inherit;
  line-height: inherit;
}
label {
  font-weight: normal;
}
/* Make the page background atleast 100% the height of the view port */
/* Make the page itself atleast 70% the height of the view port */
.border-box-sizing {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
.corner-all {
  border-radius: 2px;
}
.no-padding {
  padding: 0px;
}
/* Flexible box model classes */
/* Taken from Alex Russell http://infrequently.org/2009/08/css-3-progress/ */
/* This file is a compatability layer.  It allows the usage of flexible box
model layouts accross multiple browsers, including older browsers.  The newest,
universal implementation of the flexible box model is used when available (see
`Modern browsers` comments below).  Browsers that are known to implement this
new spec completely include:

    Firefox 28.0+
    Chrome 29.0+
    Internet Explorer 11+
    Opera 17.0+

Browsers not listed, including Safari, are supported via the styling under the
`Old browsers` comments below.
*/
.hbox {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
.hbox > * {
  /* Old browsers */
  -webkit-box-flex: 0;
  -moz-box-flex: 0;
  box-flex: 0;
  /* Modern browsers */
  flex: none;
}
.vbox {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
.vbox > * {
  /* Old browsers */
  -webkit-box-flex: 0;
  -moz-box-flex: 0;
  box-flex: 0;
  /* Modern browsers */
  flex: none;
}
.hbox.reverse,
.vbox.reverse,
.reverse {
  /* Old browsers */
  -webkit-box-direction: reverse;
  -moz-box-direction: reverse;
  box-direction: reverse;
  /* Modern browsers */
  flex-direction: row-reverse;
}
.hbox.box-flex0,
.vbox.box-flex0,
.box-flex0 {
  /* Old browsers */
  -webkit-box-flex: 0;
  -moz-box-flex: 0;
  box-flex: 0;
  /* Modern browsers */
  flex: none;
  width: auto;
}
.hbox.box-flex1,
.vbox.box-flex1,
.box-flex1 {
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
.hbox.box-flex,
.vbox.box-flex,
.box-flex {
  /* Old browsers */
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
.hbox.box-flex2,
.vbox.box-flex2,
.box-flex2 {
  /* Old browsers */
  -webkit-box-flex: 2;
  -moz-box-flex: 2;
  box-flex: 2;
  /* Modern browsers */
  flex: 2;
}
.box-group1 {
  /*  Deprecated */
  -webkit-box-flex-group: 1;
  -moz-box-flex-group: 1;
  box-flex-group: 1;
}
.box-group2 {
  /* Deprecated */
  -webkit-box-flex-group: 2;
  -moz-box-flex-group: 2;
  box-flex-group: 2;
}
.hbox.start,
.vbox.start,
.start {
  /* Old browsers */
  -webkit-box-pack: start;
  -moz-box-pack: start;
  box-pack: start;
  /* Modern browsers */
  justify-content: flex-start;
}
.hbox.end,
.vbox.end,
.end {
  /* Old browsers */
  -webkit-box-pack: end;
  -moz-box-pack: end;
  box-pack: end;
  /* Modern browsers */
  justify-content: flex-end;
}
.hbox.center,
.vbox.center,
.center {
  /* Old browsers */
  -webkit-box-pack: center;
  -moz-box-pack: center;
  box-pack: center;
  /* Modern browsers */
  justify-content: center;
}
.hbox.baseline,
.vbox.baseline,
.baseline {
  /* Old browsers */
  -webkit-box-pack: baseline;
  -moz-box-pack: baseline;
  box-pack: baseline;
  /* Modern browsers */
  justify-content: baseline;
}
.hbox.stretch,
.vbox.stretch,
.stretch {
  /* Old browsers */
  -webkit-box-pack: stretch;
  -moz-box-pack: stretch;
  box-pack: stretch;
  /* Modern browsers */
  justify-content: stretch;
}
.hbox.align-start,
.vbox.align-start,
.align-start {
  /* Old browsers */
  -webkit-box-align: start;
  -moz-box-align: start;
  box-align: start;
  /* Modern browsers */
  align-items: flex-start;
}
.hbox.align-end,
.vbox.align-end,
.align-end {
  /* Old browsers */
  -webkit-box-align: end;
  -moz-box-align: end;
  box-align: end;
  /* Modern browsers */
  align-items: flex-end;
}
.hbox.align-center,
.vbox.align-center,
.align-center {
  /* Old browsers */
  -webkit-box-align: center;
  -moz-box-align: center;
  box-align: center;
  /* Modern browsers */
  align-items: center;
}
.hbox.align-baseline,
.vbox.align-baseline,
.align-baseline {
  /* Old browsers */
  -webkit-box-align: baseline;
  -moz-box-align: baseline;
  box-align: baseline;
  /* Modern browsers */
  align-items: baseline;
}
.hbox.align-stretch,
.vbox.align-stretch,
.align-stretch {
  /* Old browsers */
  -webkit-box-align: stretch;
  -moz-box-align: stretch;
  box-align: stretch;
  /* Modern browsers */
  align-items: stretch;
}
div.error {
  margin: 2em;
  text-align: center;
}
div.error > h1 {
  font-size: 500%;
  line-height: normal;
}
div.error > p {
  font-size: 200%;
  line-height: normal;
}
div.traceback-wrapper {
  text-align: left;
  max-width: 800px;
  margin: auto;
}
div.traceback-wrapper pre.traceback {
  max-height: 600px;
  overflow: auto;
}
/**
 * Primary styles
 *
 * Author: Jupyter Development Team
 */
body {
  background-color: #fff;
  /* This makes sure that the body covers the entire window and needs to
       be in a different element than the display: box in wrapper below */
  position: absolute;
  left: 0px;
  right: 0px;
  top: 0px;
  bottom: 0px;
  overflow: visible;
}
body > #header {
  /* Initially hidden to prevent FLOUC */
  display: none;
  background-color: #fff;
  /* Display over codemirror */
  position: relative;
  z-index: 100;
}
body > #header #header-container {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  padding: 5px;
  padding-bottom: 5px;
  padding-top: 5px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
body > #header .header-bar {
  width: 100%;
  height: 1px;
  background: #e7e7e7;
  margin-bottom: -1px;
}
@media print {
  body > #header {
    display: none !important;
  }
}
#header-spacer {
  width: 100%;
  visibility: hidden;
}
@media print {
  #header-spacer {
    display: none;
  }
}
#ipython_notebook {
  padding-left: 0px;
  padding-top: 1px;
  padding-bottom: 1px;
}
[dir="rtl"] #ipython_notebook {
  margin-right: 10px;
  margin-left: 0;
}
[dir="rtl"] #ipython_notebook.pull-left {
  float: right !important;
  float: right;
}
.flex-spacer {
  flex: 1;
}
#noscript {
  width: auto;
  padding-top: 16px;
  padding-bottom: 16px;
  text-align: center;
  font-size: 22px;
  color: red;
  font-weight: bold;
}
#ipython_notebook img {
  height: 28px;
}
#site {
  width: 100%;
  display: none;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  overflow: auto;
}
@media print {
  #site {
    height: auto !important;
  }
}
/* Smaller buttons */
.ui-button .ui-button-text {
  padding: 0.2em 0.8em;
  font-size: 77%;
}
input.ui-button {
  padding: 0.3em 0.9em;
}
span#kernel_logo_widget {
  margin: 0 10px;
}
span#login_widget {
  float: right;
}
[dir="rtl"] span#login_widget {
  float: left;
}
span#login_widget > .button,
#logout {
  color: #333;
  background-color: #fff;
  border-color: #ccc;
}
span#login_widget > .button:focus,
#logout:focus,
span#login_widget > .button.focus,
#logout.focus {
  color: #333;
  background-color: #e6e6e6;
  border-color: #8c8c8c;
}
span#login_widget > .button:hover,
#logout:hover {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
span#login_widget > .button:active,
#logout:active,
span#login_widget > .button.active,
#logout.active,
.open > .dropdown-togglespan#login_widget > .button,
.open > .dropdown-toggle#logout {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
span#login_widget > .button:active:hover,
#logout:active:hover,
span#login_widget > .button.active:hover,
#logout.active:hover,
.open > .dropdown-togglespan#login_widget > .button:hover,
.open > .dropdown-toggle#logout:hover,
span#login_widget > .button:active:focus,
#logout:active:focus,
span#login_widget > .button.active:focus,
#logout.active:focus,
.open > .dropdown-togglespan#login_widget > .button:focus,
.open > .dropdown-toggle#logout:focus,
span#login_widget > .button:active.focus,
#logout:active.focus,
span#login_widget > .button.active.focus,
#logout.active.focus,
.open > .dropdown-togglespan#login_widget > .button.focus,
.open > .dropdown-toggle#logout.focus {
  color: #333;
  background-color: #d4d4d4;
  border-color: #8c8c8c;
}
span#login_widget > .button:active,
#logout:active,
span#login_widget > .button.active,
#logout.active,
.open > .dropdown-togglespan#login_widget > .button,
.open > .dropdown-toggle#logout {
  background-image: none;
}
span#login_widget > .button.disabled:hover,
#logout.disabled:hover,
span#login_widget > .button[disabled]:hover,
#logout[disabled]:hover,
fieldset[disabled] span#login_widget > .button:hover,
fieldset[disabled] #logout:hover,
span#login_widget > .button.disabled:focus,
#logout.disabled:focus,
span#login_widget > .button[disabled]:focus,
#logout[disabled]:focus,
fieldset[disabled] span#login_widget > .button:focus,
fieldset[disabled] #logout:focus,
span#login_widget > .button.disabled.focus,
#logout.disabled.focus,
span#login_widget > .button[disabled].focus,
#logout[disabled].focus,
fieldset[disabled] span#login_widget > .button.focus,
fieldset[disabled] #logout.focus {
  background-color: #fff;
  border-color: #ccc;
}
span#login_widget > .button .badge,
#logout .badge {
  color: #fff;
  background-color: #333;
}
.nav-header {
  text-transform: none;
}
#header > span {
  margin-top: 10px;
}
.modal_stretch .modal-dialog {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  min-height: 80vh;
}
.modal_stretch .modal-dialog .modal-body {
  max-height: calc(100vh - 200px);
  overflow: auto;
  flex: 1;
}
.modal-header {
  cursor: move;
}
@media (min-width: 768px) {
  .modal .modal-dialog {
    width: 700px;
  }
}
@media (min-width: 768px) {
  select.form-control {
    margin-left: 12px;
    margin-right: 12px;
  }
}
/*!
*
* IPython auth
*
*/
.center-nav {
  display: inline-block;
  margin-bottom: -4px;
}
[dir="rtl"] .center-nav form.pull-left {
  float: right !important;
  float: right;
}
[dir="rtl"] .center-nav .navbar-text {
  float: right;
}
[dir="rtl"] .navbar-inner {
  text-align: right;
}
[dir="rtl"] div.text-left {
  text-align: right;
}
/*!
*
* IPython tree view
*
*/
/* We need an invisible input field on top of the sentense*/
/* "Drag file onto the list ..." */
.alternate_upload {
  background-color: none;
  display: inline;
}
.alternate_upload.form {
  padding: 0;
  margin: 0;
}
.alternate_upload input.fileinput {
  position: absolute;
  display: block;
  width: 100%;
  height: 100%;
  overflow: hidden;
  cursor: pointer;
  opacity: 0;
  z-index: 2;
}
.alternate_upload .btn-xs > input.fileinput {
  margin: -1px -5px;
}
.alternate_upload .btn-upload {
  position: relative;
  height: 22px;
}
::-webkit-file-upload-button {
  cursor: pointer;
}
/**
 * Primary styles
 *
 * Author: Jupyter Development Team
 */
ul#tabs {
  margin-bottom: 4px;
}
ul#tabs a {
  padding-top: 6px;
  padding-bottom: 4px;
}
[dir="rtl"] ul#tabs.nav-tabs > li {
  float: right;
}
[dir="rtl"] ul#tabs.nav.nav-tabs {
  padding-right: 0;
}
ul.breadcrumb a:focus,
ul.breadcrumb a:hover {
  text-decoration: none;
}
ul.breadcrumb i.icon-home {
  font-size: 16px;
  margin-right: 4px;
}
ul.breadcrumb span {
  color: #5e5e5e;
}
.list_toolbar {
  padding: 4px 0 4px 0;
  vertical-align: middle;
}
.list_toolbar .tree-buttons {
  padding-top: 1px;
}
[dir="rtl"] .list_toolbar .tree-buttons .pull-right {
  float: left !important;
  float: left;
}
[dir="rtl"] .list_toolbar .col-sm-4,
[dir="rtl"] .list_toolbar .col-sm-8 {
  float: right;
}
.dynamic-buttons {
  padding-top: 3px;
  display: inline-block;
}
.list_toolbar [class*="span"] {
  min-height: 24px;
}
.list_header {
  font-weight: bold;
  background-color: #EEE;
}
.list_placeholder {
  font-weight: bold;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 7px;
  padding-right: 7px;
}
.list_container {
  margin-top: 4px;
  margin-bottom: 20px;
  border: 1px solid #ddd;
  border-radius: 2px;
}
.list_container > div {
  border-bottom: 1px solid #ddd;
}
.list_container > div:hover .list-item {
  background-color: red;
}
.list_container > div:last-child {
  border: none;
}
.list_item:hover .list_item {
  background-color: #ddd;
}
.list_item a {
  text-decoration: none;
}
.list_item:hover {
  background-color: #fafafa;
}
.list_header > div,
.list_item > div {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 7px;
  padding-right: 7px;
  line-height: 22px;
}
.list_header > div input,
.list_item > div input {
  margin-right: 7px;
  margin-left: 14px;
  vertical-align: text-bottom;
  line-height: 22px;
  position: relative;
  top: -1px;
}
.list_header > div .item_link,
.list_item > div .item_link {
  margin-left: -1px;
  vertical-align: baseline;
  line-height: 22px;
}
[dir="rtl"] .list_item > div input {
  margin-right: 0;
}
.new-file input[type=checkbox] {
  visibility: hidden;
}
.item_name {
  line-height: 22px;
  height: 24px;
}
.item_icon {
  font-size: 14px;
  color: #5e5e5e;
  margin-right: 7px;
  margin-left: 7px;
  line-height: 22px;
  vertical-align: baseline;
}
.item_modified {
  margin-right: 7px;
  margin-left: 7px;
}
[dir="rtl"] .item_modified.pull-right {
  float: left !important;
  float: left;
}
.item_buttons {
  line-height: 1em;
  margin-left: -5px;
}
.item_buttons .btn,
.item_buttons .btn-group,
.item_buttons .input-group {
  float: left;
}
.item_buttons > .btn,
.item_buttons > .btn-group,
.item_buttons > .input-group {
  margin-left: 5px;
}
.item_buttons .btn {
  min-width: 13ex;
}
.item_buttons .running-indicator {
  padding-top: 4px;
  color: #5cb85c;
}
.item_buttons .kernel-name {
  padding-top: 4px;
  color: #5bc0de;
  margin-right: 7px;
  float: left;
}
[dir="rtl"] .item_buttons.pull-right {
  float: left !important;
  float: left;
}
[dir="rtl"] .item_buttons .kernel-name {
  margin-left: 7px;
  float: right;
}
.toolbar_info {
  height: 24px;
  line-height: 24px;
}
.list_item input:not([type=checkbox]) {
  padding-top: 3px;
  padding-bottom: 3px;
  height: 22px;
  line-height: 14px;
  margin: 0px;
}
.highlight_text {
  color: blue;
}
#project_name {
  display: inline-block;
  padding-left: 7px;
  margin-left: -2px;
}
#project_name > .breadcrumb {
  padding: 0px;
  margin-bottom: 0px;
  background-color: transparent;
  font-weight: bold;
}
.sort_button {
  display: inline-block;
  padding-left: 7px;
}
[dir="rtl"] .sort_button.pull-right {
  float: left !important;
  float: left;
}
#tree-selector {
  padding-right: 0px;
}
#button-select-all {
  min-width: 50px;
}
[dir="rtl"] #button-select-all.btn {
  float: right ;
}
#select-all {
  margin-left: 7px;
  margin-right: 2px;
  margin-top: 2px;
  height: 16px;
}
[dir="rtl"] #select-all.pull-left {
  float: right !important;
  float: right;
}
.menu_icon {
  margin-right: 2px;
}
.tab-content .row {
  margin-left: 0px;
  margin-right: 0px;
}
.folder_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f114";
}
.folder_icon:before.fa-pull-left {
  margin-right: .3em;
}
.folder_icon:before.fa-pull-right {
  margin-left: .3em;
}
.folder_icon:before.pull-left {
  margin-right: .3em;
}
.folder_icon:before.pull-right {
  margin-left: .3em;
}
.notebook_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f02d";
  position: relative;
  top: -1px;
}
.notebook_icon:before.fa-pull-left {
  margin-right: .3em;
}
.notebook_icon:before.fa-pull-right {
  margin-left: .3em;
}
.notebook_icon:before.pull-left {
  margin-right: .3em;
}
.notebook_icon:before.pull-right {
  margin-left: .3em;
}
.running_notebook_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f02d";
  position: relative;
  top: -1px;
  color: #5cb85c;
}
.running_notebook_icon:before.fa-pull-left {
  margin-right: .3em;
}
.running_notebook_icon:before.fa-pull-right {
  margin-left: .3em;
}
.running_notebook_icon:before.pull-left {
  margin-right: .3em;
}
.running_notebook_icon:before.pull-right {
  margin-left: .3em;
}
.file_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f016";
  position: relative;
  top: -2px;
}
.file_icon:before.fa-pull-left {
  margin-right: .3em;
}
.file_icon:before.fa-pull-right {
  margin-left: .3em;
}
.file_icon:before.pull-left {
  margin-right: .3em;
}
.file_icon:before.pull-right {
  margin-left: .3em;
}
#notebook_toolbar .pull-right {
  padding-top: 0px;
  margin-right: -1px;
}
ul#new-menu {
  left: auto;
  right: 0;
}
#new-menu .dropdown-header {
  font-size: 10px;
  border-bottom: 1px solid #e5e5e5;
  padding: 0 0 3px;
  margin: -3px 20px 0;
}
.kernel-menu-icon {
  padding-right: 12px;
  width: 24px;
  content: "\f096";
}
.kernel-menu-icon:before {
  content: "\f096";
}
.kernel-menu-icon-current:before {
  content: "\f00c";
}
#tab_content {
  padding-top: 20px;
}
#running .panel-group .panel {
  margin-top: 3px;
  margin-bottom: 1em;
}
#running .panel-group .panel .panel-heading {
  background-color: #EEE;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 7px;
  padding-right: 7px;
  line-height: 22px;
}
#running .panel-group .panel .panel-heading a:focus,
#running .panel-group .panel .panel-heading a:hover {
  text-decoration: none;
}
#running .panel-group .panel .panel-body {
  padding: 0px;
}
#running .panel-group .panel .panel-body .list_container {
  margin-top: 0px;
  margin-bottom: 0px;
  border: 0px;
  border-radius: 0px;
}
#running .panel-group .panel .panel-body .list_container .list_item {
  border-bottom: 1px solid #ddd;
}
#running .panel-group .panel .panel-body .list_container .list_item:last-child {
  border-bottom: 0px;
}
.delete-button {
  display: none;
}
.duplicate-button {
  display: none;
}
.rename-button {
  display: none;
}
.move-button {
  display: none;
}
.download-button {
  display: none;
}
.shutdown-button {
  display: none;
}
.dynamic-instructions {
  display: inline-block;
  padding-top: 4px;
}
/*!
*
* IPython text editor webapp
*
*/
.selected-keymap i.fa {
  padding: 0px 5px;
}
.selected-keymap i.fa:before {
  content: "\f00c";
}
#mode-menu {
  overflow: auto;
  max-height: 20em;
}
.edit_app #header {
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
}
.edit_app #menubar .navbar {
  /* Use a negative 1 bottom margin, so the border overlaps the border of the
    header */
  margin-bottom: -1px;
}
.dirty-indicator {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  width: 20px;
}
.dirty-indicator.fa-pull-left {
  margin-right: .3em;
}
.dirty-indicator.fa-pull-right {
  margin-left: .3em;
}
.dirty-indicator.pull-left {
  margin-right: .3em;
}
.dirty-indicator.pull-right {
  margin-left: .3em;
}
.dirty-indicator-dirty {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  width: 20px;
}
.dirty-indicator-dirty.fa-pull-left {
  margin-right: .3em;
}
.dirty-indicator-dirty.fa-pull-right {
  margin-left: .3em;
}
.dirty-indicator-dirty.pull-left {
  margin-right: .3em;
}
.dirty-indicator-dirty.pull-right {
  margin-left: .3em;
}
.dirty-indicator-clean {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  width: 20px;
}
.dirty-indicator-clean.fa-pull-left {
  margin-right: .3em;
}
.dirty-indicator-clean.fa-pull-right {
  margin-left: .3em;
}
.dirty-indicator-clean.pull-left {
  margin-right: .3em;
}
.dirty-indicator-clean.pull-right {
  margin-left: .3em;
}
.dirty-indicator-clean:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f00c";
}
.dirty-indicator-clean:before.fa-pull-left {
  margin-right: .3em;
}
.dirty-indicator-clean:before.fa-pull-right {
  margin-left: .3em;
}
.dirty-indicator-clean:before.pull-left {
  margin-right: .3em;
}
.dirty-indicator-clean:before.pull-right {
  margin-left: .3em;
}
#filename {
  font-size: 16pt;
  display: table;
  padding: 0px 5px;
}
#current-mode {
  padding-left: 5px;
  padding-right: 5px;
}
#texteditor-backdrop {
  padding-top: 20px;
  padding-bottom: 20px;
}
@media not print {
  #texteditor-backdrop {
    background-color: #EEE;
  }
}
@media print {
  #texteditor-backdrop #texteditor-container .CodeMirror-gutter,
  #texteditor-backdrop #texteditor-container .CodeMirror-gutters {
    background-color: #fff;
  }
}
@media not print {
  #texteditor-backdrop #texteditor-container .CodeMirror-gutter,
  #texteditor-backdrop #texteditor-container .CodeMirror-gutters {
    background-color: #fff;
  }
}
@media not print {
  #texteditor-backdrop #texteditor-container {
    padding: 0px;
    background-color: #fff;
    -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
    box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  }
}
.CodeMirror-dialog {
  background-color: #fff;
}
/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color: #B22B31;
}
.ansi-red-intense-bg {
  background-color: #B22B31;
}
.ansi-green-fg {
  color: #00A250;
}
.ansi-green-bg {
  background-color: #00A250;
}
.ansi-green-intense-fg {
  color: #007427;
}
.ansi-green-intense-bg {
  background-color: #007427;
}
.ansi-yellow-fg {
  color: #DDB62B;
}
.ansi-yellow-bg {
  background-color: #DDB62B;
}
.ansi-yellow-intense-fg {
  color: #B27D12;
}
.ansi-yellow-intense-bg {
  background-color: #B27D12;
}
.ansi-blue-fg {
  color: #208FFB;
}
.ansi-blue-bg {
  background-color: #208FFB;
}
.ansi-blue-intense-fg {
  color: #0065CA;
}
.ansi-blue-intense-bg {
  background-color: #0065CA;
}
.ansi-magenta-fg {
  color: #D160C4;
}
.ansi-magenta-bg {
  background-color: #D160C4;
}
.ansi-magenta-intense-fg {
  color: #A03196;
}
.ansi-magenta-intense-bg {
  background-color: #A03196;
}
.ansi-cyan-fg {
  color: #60C6C8;
}
.ansi-cyan-bg {
  background-color: #60C6C8;
}
.ansi-cyan-intense-fg {
  color: #258F8F;
}
.ansi-cyan-intense-bg {
  background-color: #258F8F;
}
.ansi-white-fg {
  color: #C5C1B4;
}
.ansi-white-bg {
  background-color: #C5C1B4;
}
.ansi-white-intense-fg {
  color: #A1A6B2;
}
.ansi-white-intense-bg {
  background-color: #A1A6B2;
}
.ansi-default-inverse-fg {
  color: #FFFFFF;
}
.ansi-default-inverse-bg {
  background-color: #000000;
}
.ansi-bold {
  font-weight: bold;
}
.ansi-underline {
  text-decoration: underline;
}
/* The following styles are deprecated an will be removed in a future version */
.ansibold {
  font-weight: bold;
}
.ansi-inverse {
  outline: 0.5px dotted;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  position: relative;
  overflow: visible;
}
div.cell:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: transparent;
}
div.cell.jupyter-soft-selected {
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected,
div.cell.selected.jupyter-soft-selected {
  border-color: #ababab;
}
div.cell.selected:before,
div.cell.selected.jupyter-soft-selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #42A5F5;
}
@media print {
  div.cell.selected,
  div.cell.selected.jupyter-soft-selected {
    border-color: transparent;
  }
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
}
.edit_mode div.cell.selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #66BB6A;
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-138315127-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-138315127-1');
  </script>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" type="image/png" href="img/logo.png"/> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  /* Note that this should set vertical padding only, since CodeMirror assumes
       that horizontal padding will be set on CodeMirror pre */
  padding: 0.4em 0;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only,
    use .CodeMirror-lines for vertical */
  padding: 0 0.4em;
  border: 0;
  border-radius: 0;
}
.CodeMirror-cursor {
  border-left: 1.4px solid black;
}
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .CodeMirror-cursor {
    border-left: 2px solid black;
  }
}
@media screen and (min-width: 4320px) {
  .CodeMirror-cursor {
    border-left: 4px solid black;
  }
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area .rendered_html table {
  margin-left: 0;
  margin-right: 0;
}
div.output_area .rendered_html img {
  margin-left: 0;
  margin-right: 0;
}
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
div.output_area .mglyph > img {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 1px 0 1px 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}
.rendered_html em {
  font-style: italic;
}
.rendered_html strong {
  font-weight: bold;
}
.rendered_html u {
  text-decoration: underline;
}
.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}
.rendered_html h1 {
  font-size: 185.7%;
  margin: 1.08em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h2 {
  font-size: 157.1%;
  margin: 1.27em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h3 {
  font-size: 128.6%;
  margin: 1.55em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h4 {
  font-size: 100%;
  margin: 2em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h5 {
  font-size: 100%;
  margin: 2em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
  font-style: italic;
}
.rendered_html h6 {
  font-size: 100%;
  margin: 2em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
  font-style: italic;
}
.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul:not(.list-inline),
.rendered_html ol:not(.list-inline) {
  padding-left: 2em;
}
.rendered_html ul {
  list-style: disc;
}
.rendered_html ul ul {
  list-style: square;
  margin-top: 0;
}
.rendered_html ul ul ul {
  list-style: circle;
}
.rendered_html ol {
  list-style: decimal;
}
.rendered_html ol ol {
  list-style: upper-alpha;
  margin-top: 0;
}
.rendered_html ol ol ol {
  list-style: lower-alpha;
}
.rendered_html ol ol ol ol {
  list-style: lower-roman;
}
.rendered_html ol ol ol ol ol {
  list-style: decimal;
}
.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}
.rendered_html hr {
  color: black;
  background-color: black;
}
.rendered_html pre {
  margin: 1em 2em;
  padding: 0px;
  background-color: #fff;
}
.rendered_html code {
  background-color: #eff0f1;
}
.rendered_html p code {
  padding: 1px 5px;
}
.rendered_html pre code {
  background-color: #fff;
}
.rendered_html pre,
.rendered_html code {
  border: 0;
  color: #000;
  font-size: 100%;
}
.rendered_html blockquote {
  margin: 1em 2em;
}
.rendered_html table {
  margin-left: auto;
  margin-right: auto;
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.rendered_html tr,
.rendered_html th,
.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.rendered_html th {
  font-weight: bold;
}
.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
.rendered_html * + table {
  margin-top: 1em;
}
.rendered_html p {
  text-align: left;
}
.rendered_html * + p {
  margin-top: 1em;
}
.rendered_html img {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,
.rendered_html svg {
  max-width: 100%;
  height: auto;
}
.rendered_html img.unconfined,
.rendered_html svg.unconfined {
  max-width: none;
}
.rendered_html .alert {
  margin-bottom: initial;
}
.rendered_html * + .alert {
  margin-top: 1em;
}
[dir="rtl"] .rendered_html p {
  text-align: right;
}
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered .rendered_html {
  overflow-x: auto;
  overflow-y: hidden;
}
.text_cell.rendered .rendered_html tr,
.text_cell.rendered .rendered_html th,
.text_cell.rendered .rendered_html td {
  max-width: none;
}
.text_cell.unrendered .text_cell_render {
  display: none;
}
.text_cell .dropzone .input_area {
  border: 2px dashed #bababa;
  margin: -1px;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
/*!
*
* IPython notebook webapp
*
*/
@media (max-width: 767px) {
  .notebook_app {
    padding-left: 0px;
    padding-right: 0px;
  }
}
#ipython-main-app {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  height: 100%;
}
div#notebook_panel {
  margin: 0px;
  padding: 0px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  height: 100%;
}
div#notebook {
  font-size: 14px;
  line-height: 20px;
  overflow-y: hidden;
  overflow-x: auto;
  width: 100%;
  /* This spaces the page away from the edge of the notebook area */
  padding-top: 20px;
  margin: 0px;
  outline: none;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  min-height: 100%;
}
@media not print {
  #notebook-container {
    padding: 15px;
    background-color: #fff;
    min-height: 0;
    -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
    box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  }
}
@media print {
  #notebook-container {
    width: 100%;
  }
}
div.ui-widget-content {
  border: 1px solid #ababab;
  outline: none;
}
pre.dialog {
  background-color: #f7f7f7;
  border: 1px solid #ddd;
  border-radius: 2px;
  padding: 0.4em;
  padding-left: 2em;
}
p.dialog {
  padding: 0.2em;
}
/* Word-wrap output correctly.  This is the CSS3 spelling, though Firefox seems
   to not honor it correctly.  Webkit browsers (Chrome, rekonq, Safari) do.
 */
pre,
code,
kbd,
samp {
  white-space: pre-wrap;
}
#fonttest {
  font-family: monospace;
}
p {
  margin-bottom: 0;
}
.end_space {
  min-height: 100px;
  transition: height .2s ease;
}
.notebook_app > #header {
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
}
@media not print {
  .notebook_app {
    background-color: #EEE;
  }
}
kbd {
  border-style: solid;
  border-width: 1px;
  box-shadow: none;
  margin: 2px;
  padding-left: 2px;
  padding-right: 2px;
  padding-top: 1px;
  padding-bottom: 1px;
}
.jupyter-keybindings {
  padding: 1px;
  line-height: 24px;
  border-bottom: 1px solid gray;
}
.jupyter-keybindings input {
  margin: 0;
  padding: 0;
  border: none;
}
.jupyter-keybindings i {
  padding: 6px;
}
.well code {
  background-color: #ffffff;
  border-color: #ababab;
  border-width: 1px;
  border-style: solid;
  padding: 2px;
  padding-top: 1px;
  padding-bottom: 1px;
}
/* CSS for the cell toolbar */
.celltoolbar {
  border: thin solid #CFCFCF;
  border-bottom: none;
  background: #EEE;
  border-radius: 2px 2px 0px 0px;
  width: 100%;
  height: 29px;
  padding-right: 4px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-pack: end;
  -moz-box-pack: end;
  box-pack: end;
  /* Modern browsers */
  justify-content: flex-end;
  display: -webkit-flex;
}
@media print {
  .celltoolbar {
    display: none;
  }
}
.ctb_hideshow {
  display: none;
  vertical-align: bottom;
}
/* ctb_show is added to the ctb_hideshow div to show the cell toolbar.
   Cell toolbars are only shown when the ctb_global_show class is also set.
*/
.ctb_global_show .ctb_show.ctb_hideshow {
  display: block;
}
.ctb_global_show .ctb_show + .input_area,
.ctb_global_show .ctb_show + div.text_cell_input,
.ctb_global_show .ctb_show ~ div.text_cell_render {
  border-top-right-radius: 0px;
  border-top-left-radius: 0px;
}
.ctb_global_show .ctb_show ~ div.text_cell_render {
  border: 1px solid #cfcfcf;
}
.celltoolbar {
  font-size: 87%;
  padding-top: 3px;
}
.celltoolbar select {
  display: block;
  width: 100%;
  height: 32px;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
  width: inherit;
  font-size: inherit;
  height: 22px;
  padding: 0px;
  display: inline-block;
}
.celltoolbar select:focus {
  border-color: #66afe9;
  outline: 0;
  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
}
.celltoolbar select::-moz-placeholder {
  color: #999;
  opacity: 1;
}
.celltoolbar select:-ms-input-placeholder {
  color: #999;
}
.celltoolbar select::-webkit-input-placeholder {
  color: #999;
}
.celltoolbar select::-ms-expand {
  border: 0;
  background-color: transparent;
}
.celltoolbar select[disabled],
.celltoolbar select[readonly],
fieldset[disabled] .celltoolbar select {
  background-color: #eeeeee;
  opacity: 1;
}
.celltoolbar select[disabled],
fieldset[disabled] .celltoolbar select {
  cursor: not-allowed;
}
textarea.celltoolbar select {
  height: auto;
}
select.celltoolbar select {
  height: 30px;
  line-height: 30px;
}
textarea.celltoolbar select,
select[multiple].celltoolbar select {
  height: auto;
}
.celltoolbar label {
  margin-left: 5px;
  margin-right: 5px;
}
.tags_button_container {
  width: 100%;
  display: flex;
}
.tag-container {
  display: flex;
  flex-direction: row;
  flex-grow: 1;
  overflow: hidden;
  position: relative;
}
.tag-container > * {
  margin: 0 4px;
}
.remove-tag-btn {
  margin-left: 4px;
}
.tags-input {
  display: flex;
}
.cell-tag:last-child:after {
  content: "";
  position: absolute;
  right: 0;
  width: 40px;
  height: 100%;
  /* Fade to background color of cell toolbar */
  background: linear-gradient(to right, rgba(0, 0, 0, 0), #EEE);
}
.tags-input > * {
  margin-left: 4px;
}
.cell-tag,
.tags-input input,
.tags-input button {
  display: block;
  width: 100%;
  height: 32px;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
  box-shadow: none;
  width: inherit;
  font-size: inherit;
  height: 22px;
  line-height: 22px;
  padding: 0px 4px;
  display: inline-block;
}
.cell-tag:focus,
.tags-input input:focus,
.tags-input button:focus {
  border-color: #66afe9;
  outline: 0;
  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
}
.cell-tag::-moz-placeholder,
.tags-input input::-moz-placeholder,
.tags-input button::-moz-placeholder {
  color: #999;
  opacity: 1;
}
.cell-tag:-ms-input-placeholder,
.tags-input input:-ms-input-placeholder,
.tags-input button:-ms-input-placeholder {
  color: #999;
}
.cell-tag::-webkit-input-placeholder,
.tags-input input::-webkit-input-placeholder,
.tags-input button::-webkit-input-placeholder {
  color: #999;
}
.cell-tag::-ms-expand,
.tags-input input::-ms-expand,
.tags-input button::-ms-expand {
  border: 0;
  background-color: transparent;
}
.cell-tag[disabled],
.tags-input input[disabled],
.tags-input button[disabled],
.cell-tag[readonly],
.tags-input input[readonly],
.tags-input button[readonly],
fieldset[disabled] .cell-tag,
fieldset[disabled] .tags-input input,
fieldset[disabled] .tags-input button {
  background-color: #eeeeee;
  opacity: 1;
}
.cell-tag[disabled],
.tags-input input[disabled],
.tags-input button[disabled],
fieldset[disabled] .cell-tag,
fieldset[disabled] .tags-input input,
fieldset[disabled] .tags-input button {
  cursor: not-allowed;
}
textarea.cell-tag,
textarea.tags-input input,
textarea.tags-input button {
  height: auto;
}
select.cell-tag,
select.tags-input input,
select.tags-input button {
  height: 30px;
  line-height: 30px;
}
textarea.cell-tag,
textarea.tags-input input,
textarea.tags-input button,
select[multiple].cell-tag,
select[multiple].tags-input input,
select[multiple].tags-input button {
  height: auto;
}
.cell-tag,
.tags-input button {
  padding: 0px 4px;
}
.cell-tag {
  background-color: #fff;
  white-space: nowrap;
}
.tags-input input[type=text]:focus {
  outline: none;
  box-shadow: none;
  border-color: #ccc;
}
.completions {
  position: absolute;
  z-index: 110;
  overflow: hidden;
  border: 1px solid #ababab;
  border-radius: 2px;
  -webkit-box-shadow: 0px 6px 10px -1px #adadad;
  box-shadow: 0px 6px 10px -1px #adadad;
  line-height: 1;
}
.completions select {
  background: white;
  outline: none;
  border: none;
  padding: 0px;
  margin: 0px;
  overflow: auto;
  font-family: monospace;
  font-size: 110%;
  color: #000;
  width: auto;
}
.completions select option.context {
  color: #286090;
}
#kernel_logo_widget .current_kernel_logo {
  display: none;
  margin-top: -1px;
  margin-bottom: -1px;
  width: 32px;
  height: 32px;
}
[dir="rtl"] #kernel_logo_widget {
  float: left !important;
  float: left;
}
.modal .modal-body .move-path {
  display: flex;
  flex-direction: row;
  justify-content: space;
  align-items: center;
}
.modal .modal-body .move-path .server-root {
  padding-right: 20px;
}
.modal .modal-body .move-path .path-input {
  flex: 1;
}
#menubar {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  margin-top: 1px;
}
#menubar .navbar {
  border-top: 1px;
  border-radius: 0px 0px 2px 2px;
  margin-bottom: 0px;
}
#menubar .navbar-toggle {
  float: left;
  padding-top: 7px;
  padding-bottom: 7px;
  border: none;
}
#menubar .navbar-collapse {
  clear: left;
}
[dir="rtl"] #menubar .navbar-toggle {
  float: right;
}
[dir="rtl"] #menubar .navbar-collapse {
  clear: right;
}
[dir="rtl"] #menubar .navbar-nav {
  float: right;
}
[dir="rtl"] #menubar .nav {
  padding-right: 0px;
}
[dir="rtl"] #menubar .navbar-nav > li {
  float: right;
}
[dir="rtl"] #menubar .navbar-right {
  float: left !important;
}
[dir="rtl"] ul.dropdown-menu {
  text-align: right;
  left: auto;
}
[dir="rtl"] ul#new-menu.dropdown-menu {
  right: auto;
  left: 0;
}
.nav-wrapper {
  border-bottom: 1px solid #e7e7e7;
}
i.menu-icon {
  padding-top: 4px;
}
[dir="rtl"] i.menu-icon.pull-right {
  float: left !important;
  float: left;
}
ul#help_menu li a {
  overflow: hidden;
  padding-right: 2.2em;
}
ul#help_menu li a i {
  margin-right: -1.2em;
}
[dir="rtl"] ul#help_menu li a {
  padding-left: 2.2em;
}
[dir="rtl"] ul#help_menu li a i {
  margin-right: 0;
  margin-left: -1.2em;
}
[dir="rtl"] ul#help_menu li a i.pull-right {
  float: left !important;
  float: left;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu > .dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
}
[dir="rtl"] .dropdown-submenu > .dropdown-menu {
  right: 100%;
  margin-right: -1px;
}
.dropdown-submenu:hover > .dropdown-menu {
  display: block;
}
.dropdown-submenu > a:after {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: block;
  content: "\f0da";
  float: right;
  color: #333333;
  margin-top: 2px;
  margin-right: -10px;
}
.dropdown-submenu > a:after.fa-pull-left {
  margin-right: .3em;
}
.dropdown-submenu > a:after.fa-pull-right {
  margin-left: .3em;
}
.dropdown-submenu > a:after.pull-left {
  margin-right: .3em;
}
.dropdown-submenu > a:after.pull-right {
  margin-left: .3em;
}
[dir="rtl"] .dropdown-submenu > a:after {
  float: left;
  content: "\f0d9";
  margin-right: 0;
  margin-left: -10px;
}
.dropdown-submenu:hover > a:after {
  color: #262626;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left > .dropdown-menu {
  left: -100%;
  margin-left: 10px;
}
#notification_area {
  float: right !important;
  float: right;
  z-index: 10;
}
[dir="rtl"] #notification_area {
  float: left !important;
  float: left;
}
.indicator_area {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
}
[dir="rtl"] .indicator_area {
  float: left !important;
  float: left;
}
#kernel_indicator {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
  border-left: 1px solid;
}
#kernel_indicator .kernel_indicator_name {
  padding-left: 5px;
  padding-right: 5px;
}
[dir="rtl"] #kernel_indicator {
  float: left !important;
  float: left;
  border-left: 0;
  border-right: 1px solid;
}
#modal_indicator {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
}
[dir="rtl"] #modal_indicator {
  float: left !important;
  float: left;
}
#readonly-indicator {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
  margin-top: 2px;
  margin-bottom: 0px;
  margin-left: 0px;
  margin-right: 0px;
  display: none;
}
.modal_indicator:before {
  width: 1.28571429em;
  text-align: center;
}
.edit_mode .modal_indicator:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f040";
}
.edit_mode .modal_indicator:before.fa-pull-left {
  margin-right: .3em;
}
.edit_mode .modal_indicator:before.fa-pull-right {
  margin-left: .3em;
}
.edit_mode .modal_indicator:before.pull-left {
  margin-right: .3em;
}
.edit_mode .modal_indicator:before.pull-right {
  margin-left: .3em;
}
.command_mode .modal_indicator:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: ' ';
}
.command_mode .modal_indicator:before.fa-pull-left {
  margin-right: .3em;
}
.command_mode .modal_indicator:before.fa-pull-right {
  margin-left: .3em;
}
.command_mode .modal_indicator:before.pull-left {
  margin-right: .3em;
}
.command_mode .modal_indicator:before.pull-right {
  margin-left: .3em;
}
.kernel_idle_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f10c";
}
.kernel_idle_icon:before.fa-pull-left {
  margin-right: .3em;
}
.kernel_idle_icon:before.fa-pull-right {
  margin-left: .3em;
}
.kernel_idle_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_idle_icon:before.pull-right {
  margin-left: .3em;
}
.kernel_busy_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f111";
}
.kernel_busy_icon:before.fa-pull-left {
  margin-right: .3em;
}
.kernel_busy_icon:before.fa-pull-right {
  margin-left: .3em;
}
.kernel_busy_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_busy_icon:before.pull-right {
  margin-left: .3em;
}
.kernel_dead_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f1e2";
}
.kernel_dead_icon:before.fa-pull-left {
  margin-right: .3em;
}
.kernel_dead_icon:before.fa-pull-right {
  margin-left: .3em;
}
.kernel_dead_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_dead_icon:before.pull-right {
  margin-left: .3em;
}
.kernel_disconnected_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f127";
}
.kernel_disconnected_icon:before.fa-pull-left {
  margin-right: .3em;
}
.kernel_disconnected_icon:before.fa-pull-right {
  margin-left: .3em;
}
.kernel_disconnected_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_disconnected_icon:before.pull-right {
  margin-left: .3em;
}
.notification_widget {
  color: #777;
  z-index: 10;
  background: rgba(240, 240, 240, 0.5);
  margin-right: 4px;
  color: #333;
  background-color: #fff;
  border-color: #ccc;
}
.notification_widget:focus,
.notification_widget.focus {
  color: #333;
  background-color: #e6e6e6;
  border-color: #8c8c8c;
}
.notification_widget:hover {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.notification_widget:active,
.notification_widget.active,
.open > .dropdown-toggle.notification_widget {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.notification_widget:active:hover,
.notification_widget.active:hover,
.open > .dropdown-toggle.notification_widget:hover,
.notification_widget:active:focus,
.notification_widget.active:focus,
.open > .dropdown-toggle.notification_widget:focus,
.notification_widget:active.focus,
.notification_widget.active.focus,
.open > .dropdown-toggle.notification_widget.focus {
  color: #333;
  background-color: #d4d4d4;
  border-color: #8c8c8c;
}
.notification_widget:active,
.notification_widget.active,
.open > .dropdown-toggle.notification_widget {
  background-image: none;
}
.notification_widget.disabled:hover,
.notification_widget[disabled]:hover,
fieldset[disabled] .notification_widget:hover,
.notification_widget.disabled:focus,
.notification_widget[disabled]:focus,
fieldset[disabled] .notification_widget:focus,
.notification_widget.disabled.focus,
.notification_widget[disabled].focus,
fieldset[disabled] .notification_widget.focus {
  background-color: #fff;
  border-color: #ccc;
}
.notification_widget .badge {
  color: #fff;
  background-color: #333;
}
.notification_widget.warning {
  color: #fff;
  background-color: #f0ad4e;
  border-color: #eea236;
}
.notification_widget.warning:focus,
.notification_widget.warning.focus {
  color: #fff;
  background-color: #ec971f;
  border-color: #985f0d;
}
.notification_widget.warning:hover {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.notification_widget.warning:active,
.notification_widget.warning.active,
.open > .dropdown-toggle.notification_widget.warning {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.notification_widget.warning:active:hover,
.notification_widget.warning.active:hover,
.open > .dropdown-toggle.notification_widget.warning:hover,
.notification_widget.warning:active:focus,
.notification_widget.warning.active:focus,
.open > .dropdown-toggle.notification_widget.warning:focus,
.notification_widget.warning:active.focus,
.notification_widget.warning.active.focus,
.open > .dropdown-toggle.notification_widget.warning.focus {
  color: #fff;
  background-color: #d58512;
  border-color: #985f0d;
}
.notification_widget.warning:active,
.notification_widget.warning.active,
.open > .dropdown-toggle.notification_widget.warning {
  background-image: none;
}
.notification_widget.warning.disabled:hover,
.notification_widget.warning[disabled]:hover,
fieldset[disabled] .notification_widget.warning:hover,
.notification_widget.warning.disabled:focus,
.notification_widget.warning[disabled]:focus,
fieldset[disabled] .notification_widget.warning:focus,
.notification_widget.warning.disabled.focus,
.notification_widget.warning[disabled].focus,
fieldset[disabled] .notification_widget.warning.focus {
  background-color: #f0ad4e;
  border-color: #eea236;
}
.notification_widget.warning .badge {
  color: #f0ad4e;
  background-color: #fff;
}
.notification_widget.success {
  color: #fff;
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.notification_widget.success:focus,
.notification_widget.success.focus {
  color: #fff;
  background-color: #449d44;
  border-color: #255625;
}
.notification_widget.success:hover {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.notification_widget.success:active,
.notification_widget.success.active,
.open > .dropdown-toggle.notification_widget.success {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.notification_widget.success:active:hover,
.notification_widget.success.active:hover,
.open > .dropdown-toggle.notification_widget.success:hover,
.notification_widget.success:active:focus,
.notification_widget.success.active:focus,
.open > .dropdown-toggle.notification_widget.success:focus,
.notification_widget.success:active.focus,
.notification_widget.success.active.focus,
.open > .dropdown-toggle.notification_widget.success.focus {
  color: #fff;
  background-color: #398439;
  border-color: #255625;
}
.notification_widget.success:active,
.notification_widget.success.active,
.open > .dropdown-toggle.notification_widget.success {
  background-image: none;
}
.notification_widget.success.disabled:hover,
.notification_widget.success[disabled]:hover,
fieldset[disabled] .notification_widget.success:hover,
.notification_widget.success.disabled:focus,
.notification_widget.success[disabled]:focus,
fieldset[disabled] .notification_widget.success:focus,
.notification_widget.success.disabled.focus,
.notification_widget.success[disabled].focus,
fieldset[disabled] .notification_widget.success.focus {
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.notification_widget.success .badge {
  color: #5cb85c;
  background-color: #fff;
}
.notification_widget.info {
  color: #fff;
  background-color: #5bc0de;
  border-color: #46b8da;
}
.notification_widget.info:focus,
.notification_widget.info.focus {
  color: #fff;
  background-color: #31b0d5;
  border-color: #1b6d85;
}
.notification_widget.info:hover {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.notification_widget.info:active,
.notification_widget.info.active,
.open > .dropdown-toggle.notification_widget.info {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.notification_widget.info:active:hover,
.notification_widget.info.active:hover,
.open > .dropdown-toggle.notification_widget.info:hover,
.notification_widget.info:active:focus,
.notification_widget.info.active:focus,
.open > .dropdown-toggle.notification_widget.info:focus,
.notification_widget.info:active.focus,
.notification_widget.info.active.focus,
.open > .dropdown-toggle.notification_widget.info.focus {
  color: #fff;
  background-color: #269abc;
  border-color: #1b6d85;
}
.notification_widget.info:active,
.notification_widget.info.active,
.open > .dropdown-toggle.notification_widget.info {
  background-image: none;
}
.notification_widget.info.disabled:hover,
.notification_widget.info[disabled]:hover,
fieldset[disabled] .notification_widget.info:hover,
.notification_widget.info.disabled:focus,
.notification_widget.info[disabled]:focus,
fieldset[disabled] .notification_widget.info:focus,
.notification_widget.info.disabled.focus,
.notification_widget.info[disabled].focus,
fieldset[disabled] .notification_widget.info.focus {
  background-color: #5bc0de;
  border-color: #46b8da;
}
.notification_widget.info .badge {
  color: #5bc0de;
  background-color: #fff;
}
.notification_widget.danger {
  color: #fff;
  background-color: #d9534f;
  border-color: #d43f3a;
}
.notification_widget.danger:focus,
.notification_widget.danger.focus {
  color: #fff;
  background-color: #c9302c;
  border-color: #761c19;
}
.notification_widget.danger:hover {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.notification_widget.danger:active,
.notification_widget.danger.active,
.open > .dropdown-toggle.notification_widget.danger {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.notification_widget.danger:active:hover,
.notification_widget.danger.active:hover,
.open > .dropdown-toggle.notification_widget.danger:hover,
.notification_widget.danger:active:focus,
.notification_widget.danger.active:focus,
.open > .dropdown-toggle.notification_widget.danger:focus,
.notification_widget.danger:active.focus,
.notification_widget.danger.active.focus,
.open > .dropdown-toggle.notification_widget.danger.focus {
  color: #fff;
  background-color: #ac2925;
  border-color: #761c19;
}
.notification_widget.danger:active,
.notification_widget.danger.active,
.open > .dropdown-toggle.notification_widget.danger {
  background-image: none;
}
.notification_widget.danger.disabled:hover,
.notification_widget.danger[disabled]:hover,
fieldset[disabled] .notification_widget.danger:hover,
.notification_widget.danger.disabled:focus,
.notification_widget.danger[disabled]:focus,
fieldset[disabled] .notification_widget.danger:focus,
.notification_widget.danger.disabled.focus,
.notification_widget.danger[disabled].focus,
fieldset[disabled] .notification_widget.danger.focus {
  background-color: #d9534f;
  border-color: #d43f3a;
}
.notification_widget.danger .badge {
  color: #d9534f;
  background-color: #fff;
}
div#pager {
  background-color: #fff;
  font-size: 14px;
  line-height: 20px;
  overflow: hidden;
  display: none;
  position: fixed;
  bottom: 0px;
  width: 100%;
  max-height: 50%;
  padding-top: 8px;
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  /* Display over codemirror */
  z-index: 100;
  /* Hack which prevents jquery ui resizable from changing top. */
  top: auto !important;
}
div#pager pre {
  line-height: 1.21429em;
  color: #000;
  background-color: #f7f7f7;
  padding: 0.4em;
}
div#pager #pager-button-area {
  position: absolute;
  top: 8px;
  right: 20px;
}
div#pager #pager-contents {
  position: relative;
  overflow: auto;
  width: 100%;
  height: 100%;
}
div#pager #pager-contents #pager-container {
  position: relative;
  padding: 15px 0px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
div#pager .ui-resizable-handle {
  top: 0px;
  height: 8px;
  background: #f7f7f7;
  border-top: 1px solid #cfcfcf;
  border-bottom: 1px solid #cfcfcf;
  /* This injects handle bars (a short, wide = symbol) for
        the resize handle. */
}
div#pager .ui-resizable-handle::after {
  content: '';
  top: 2px;
  left: 50%;
  height: 3px;
  width: 30px;
  margin-left: -15px;
  position: absolute;
  border-top: 1px solid #cfcfcf;
}
.quickhelp {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
  line-height: 1.8em;
}
.shortcut_key {
  display: inline-block;
  width: 21ex;
  text-align: right;
  font-family: monospace;
}
.shortcut_descr {
  display: inline-block;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
span.save_widget {
  height: 30px;
  margin-top: 4px;
  display: flex;
  justify-content: flex-start;
  align-items: baseline;
  width: 50%;
  flex: 1;
}
span.save_widget span.filename {
  height: 100%;
  line-height: 1em;
  margin-left: 16px;
  border: none;
  font-size: 146.5%;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  border-radius: 2px;
}
span.save_widget span.filename:hover {
  background-color: #e6e6e6;
}
[dir="rtl"] span.save_widget.pull-left {
  float: right !important;
  float: right;
}
[dir="rtl"] span.save_widget span.filename {
  margin-left: 0;
  margin-right: 16px;
}
span.checkpoint_status,
span.autosave_status {
  font-size: small;
  white-space: nowrap;
  padding: 0 5px;
}
@media (max-width: 767px) {
  span.save_widget {
    font-size: small;
    padding: 0 0 0 5px;
  }
  span.checkpoint_status,
  span.autosave_status {
    display: none;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  span.checkpoint_status {
    display: none;
  }
  span.autosave_status {
    font-size: x-small;
  }
}
.toolbar {
  padding: 0px;
  margin-left: -5px;
  margin-top: 2px;
  margin-bottom: 5px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
.toolbar select,
.toolbar label {
  width: auto;
  vertical-align: middle;
  margin-right: 2px;
  margin-bottom: 0px;
  display: inline;
  font-size: 92%;
  margin-left: 0.3em;
  margin-right: 0.3em;
  padding: 0px;
  padding-top: 3px;
}
.toolbar .btn {
  padding: 2px 8px;
}
.toolbar .btn-group {
  margin-top: 0px;
  margin-left: 5px;
}
.toolbar-btn-label {
  margin-left: 6px;
}
#maintoolbar {
  margin-bottom: -3px;
  margin-top: -8px;
  border: 0px;
  min-height: 27px;
  margin-left: 0px;
  padding-top: 11px;
  padding-bottom: 3px;
}
#maintoolbar .navbar-text {
  float: none;
  vertical-align: middle;
  text-align: right;
  margin-left: 5px;
  margin-right: 0px;
  margin-top: 0px;
}
.select-xs {
  height: 24px;
}
[dir="rtl"] .btn-group > .btn,
.btn-group-vertical > .btn {
  float: right;
}
.pulse,
.dropdown-menu > li > a.pulse,
li.pulse > a.dropdown-toggle,
li.pulse.open > a.dropdown-toggle {
  background-color: #F37626;
  color: white;
}
/**
 * Primary styles
 *
 * Author: Jupyter Development Team
 */
/** WARNING IF YOU ARE EDITTING THIS FILE, if this is a .css file, It has a lot
 * of chance of beeing generated from the ../less/[samename].less file, you can
 * try to get back the less file by reverting somme commit in history
 **/
/*
 * We'll try to get something pretty, so we
 * have some strange css to have the scroll bar on
 * the left with fix button on the top right of the tooltip
 */
@-moz-keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}
@-webkit-keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}
@-moz-keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
@-webkit-keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
/*properties of tooltip after "expand"*/
.bigtooltip {
  overflow: auto;
  height: 200px;
  -webkit-transition-property: height;
  -webkit-transition-duration: 500ms;
  -moz-transition-property: height;
  -moz-transition-duration: 500ms;
  transition-property: height;
  transition-duration: 500ms;
}
/*properties of tooltip before "expand"*/
.smalltooltip {
  -webkit-transition-property: height;
  -webkit-transition-duration: 500ms;
  -moz-transition-property: height;
  -moz-transition-duration: 500ms;
  transition-property: height;
  transition-duration: 500ms;
  text-overflow: ellipsis;
  overflow: hidden;
  height: 80px;
}
.tooltipbuttons {
  position: absolute;
  padding-right: 15px;
  top: 0px;
  right: 0px;
}
.tooltiptext {
  /*avoid the button to overlap on some docstring*/
  padding-right: 30px;
}
.ipython_tooltip {
  max-width: 700px;
  /*fade-in animation when inserted*/
  -webkit-animation: fadeOut 400ms;
  -moz-animation: fadeOut 400ms;
  animation: fadeOut 400ms;
  -webkit-animation: fadeIn 400ms;
  -moz-animation: fadeIn 400ms;
  animation: fadeIn 400ms;
  vertical-align: middle;
  background-color: #f7f7f7;
  overflow: visible;
  border: #ababab 1px solid;
  outline: none;
  padding: 3px;
  margin: 0px;
  padding-left: 7px;
  font-family: monospace;
  min-height: 50px;
  -moz-box-shadow: 0px 6px 10px -1px #adadad;
  -webkit-box-shadow: 0px 6px 10px -1px #adadad;
  box-shadow: 0px 6px 10px -1px #adadad;
  border-radius: 2px;
  position: absolute;
  z-index: 1000;
}
.ipython_tooltip a {
  float: right;
}
.ipython_tooltip .tooltiptext pre {
  border: 0;
  border-radius: 0;
  font-size: 100%;
  background-color: #f7f7f7;
}
.pretooltiparrow {
  left: 0px;
  margin: 0px;
  top: -16px;
  width: 40px;
  height: 16px;
  overflow: hidden;
  position: absolute;
}
.pretooltiparrow:before {
  background-color: #f7f7f7;
  border: 1px #ababab solid;
  z-index: 11;
  content: "";
  position: absolute;
  left: 15px;
  top: 10px;
  width: 25px;
  height: 25px;
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  -o-transform: rotate(45deg);
}
ul.typeahead-list i {
  margin-left: -10px;
  width: 18px;
}
[dir="rtl"] ul.typeahead-list i {
  margin-left: 0;
  margin-right: -10px;
}
ul.typeahead-list {
  max-height: 80vh;
  overflow: auto;
}
ul.typeahead-list > li > a {
  /** Firefox bug **/
  /* see https://github.com/jupyter/notebook/issues/559 */
  white-space: normal;
}
ul.typeahead-list  > li > a.pull-right {
  float: left !important;
  float: left;
}
[dir="rtl"] .typeahead-list {
  text-align: right;
}
.cmd-palette .modal-body {
  padding: 7px;
}
.cmd-palette form {
  background: white;
}
.cmd-palette input {
  outline: none;
}
.no-shortcut {
  min-width: 20px;
  color: transparent;
}
[dir="rtl"] .no-shortcut.pull-right {
  float: left !important;
  float: left;
}
[dir="rtl"] .command-shortcut.pull-right {
  float: left !important;
  float: left;
}
.command-shortcut:before {
  content: "(command mode)";
  padding-right: 3px;
  color: #777777;
}
.edit-shortcut:before {
  content: "(edit)";
  padding-right: 3px;
  color: #777777;
}
[dir="rtl"] .edit-shortcut.pull-right {
  float: left !important;
  float: left;
}
#find-and-replace #replace-preview .match,
#find-and-replace #replace-preview .insert {
  background-color: #BBDEFB;
  border-color: #90CAF9;
  border-style: solid;
  border-width: 1px;
  border-radius: 0px;
}
[dir="ltr"] #find-and-replace .input-group-btn + .form-control {
  border-left: none;
}
[dir="rtl"] #find-and-replace .input-group-btn + .form-control {
  border-right: none;
}
#find-and-replace #replace-preview .replace .match {
  background-color: #FFCDD2;
  border-color: #EF9A9A;
  border-radius: 0px;
}
#find-and-replace #replace-preview .replace .insert {
  background-color: #C8E6C9;
  border-color: #A5D6A7;
  border-radius: 0px;
}
#find-and-replace #replace-preview {
  max-height: 60vh;
  overflow: auto;
}
#find-and-replace #replace-preview pre {
  padding: 5px 10px;
}
.terminal-app {
  background: #EEE;
}
.terminal-app #header {
  background: #fff;
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
}
.terminal-app .terminal {
  width: 100%;
  float: left;
  font-family: monospace;
  color: white;
  background: black;
  padding: 0.4em;
  border-radius: 2px;
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.4);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.4);
}
.terminal-app .terminal,
.terminal-app .terminal dummy-screen {
  line-height: 1em;
  font-size: 14px;
}
.terminal-app .terminal .xterm-rows {
  padding: 10px;
}
.terminal-app .terminal-cursor {
  color: black;
  background: white;
}
.terminal-app #terminado-container {
  margin-top: 20px;
}
/*# sourceMappingURL=style.min.css.map */
    </style>
<style type="text/css">
    .highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
    </style>
<style type="text/css">

/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }

    </style>


<style type="text/css">
/* Overrides of notebook CSS for static HTML export */
body {
  overflow: visible;
  padding: 8px;
}

div#notebook {
  overflow: visible;
  border-top: none;
}@media print {
  div.cell {
    display: block;
    page-break-inside: avoid;
  }
  div.output_wrapper {
    display: block;
    page-break-inside: avoid;
  }
  div.output {
    display: block;
    page-break-inside: avoid;
  }
}
</style>

<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="custom.css">

<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration -->  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/main.css" rel="stylesheet">
</head>
<body>
<div class="mynavbar"></div>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Markov-Decision-Processes">Markov Decision Processes<a class="anchor-link" href="#Markov-Decision-Processes">&#182;</a></h1><p>${\bf \large \cal Hovhannes \ Grigoryan}\\
{\rm \small New \ York, \ NY}$</p>
<h3>Abstract</h3><p>We discuss reinforcement learning in the context of fully observable Markov decision processes, where the information about the world is fully known, and the agent's goal is to find an optimal policy that maximizes the value function. We outline and implement policy and value iteration algorithms that find such an optimal policy and corresponding value function [1,2]. We use these algorithms on the examples of "FrozenLake" and "Taxi" OpenAI Gym environments.</p>
<hr>
<h3>Content</h3><blockquote><ul>
<li><em>Introduction to reinforcement learning</em></li>
<li><em>Full observability: Markov Decision Process</em> </li>
<li><em>State value function and policy</em> </li>
<li><em>Optimal value function</em> </li>
<li><em>Policy iteration</em> </li>
<li><em>Value iteration</em> </li>
<li><em>Algorithms for MDP value iteration and policy iteration</em> </li>
<li><em>Frozen lake experiments</em> </li>
<li><em>Taxicab experiments</em> </li>
</ul>
</blockquote>
<h3>References</h3><p>[1] Sutton, Richard S. and Andrew G. Barto. Introduction to Reinforcement Learning. 2nd ed., MIT Press, 2017</p>
<p>[2] Emma Brunskill, <em>et al</em>, <a href="http://web.stanford.edu/class/cs234/">Making Good Decisions Given a Model of the World</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%html</span>

<span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="nt">body</span><span class="o">,</span> <span class="nt">p</span><span class="o">,</span> <span class="nt">div</span><span class="p">.</span><span class="nc">rendered_html</span> <span class="p">{</span>
    <span class="k">color</span><span class="p">:</span> <span class="kc">black</span><span class="p">;</span>
    <span class="k">font-family</span><span class="p">:</span> <span class="s2">&quot;Times Roman&quot;</span><span class="p">,</span> <span class="kc">sans-serif</span><span class="p">;</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">12</span><span class="kt">pt</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">

<style>
body, p, div.rendered_html {
    color: black;
    font-family: "Times Roman", sans-serif;
    font-size: 12pt;
}
</style>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">)))</span>
<span class="c1"># warnings.filterwarnings(&#39;ignore&#39;)</span>

<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">import</span> <span class="nn">gym</span>
<span class="kn">from</span> <span class="nn">gym.envs.toy_text</span> <span class="k">import</span> <span class="n">frozen_lake</span><span class="p">,</span> <span class="n">discrete</span>
<span class="kn">from</span> <span class="nn">gym.envs.registration</span> <span class="k">import</span> <span class="n">register</span>

<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">clear_output</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="k">import</span> <span class="n">animation</span><span class="p">,</span> <span class="n">rc</span><span class="p">,</span> <span class="n">cm</span>

<span class="kn">from</span> <span class="nn">utils.make_media</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">utils.html_converter</span> <span class="k">import</span> <span class="n">html_converter</span>

<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">HTML</span><span class="p">,</span> <span class="n">Image</span><span class="p">,</span> <span class="n">clear_output</span>

<span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="c1"># %precision 20</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="o">%</span><span class="k">config</span> InlineBackend.figure_format = &#39;retina&#39;

<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;fivethirtyeight&#39;</span><span class="p">)</span>
<span class="n">rc</span><span class="p">(</span><span class="s1">&#39;animation&#39;</span><span class="p">,</span> <span class="n">html</span><span class="o">=</span><span class="s1">&#39;html5&#39;</span><span class="p">)</span>

<span class="c1">#################################################################</span>

<span class="n">register</span><span class="p">(</span>
    <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;Deterministic-4x4-FrozenLake-v0&#39;</span><span class="p">,</span>
    <span class="n">entry_point</span><span class="o">=</span><span class="s1">&#39;gym.envs.toy_text.frozen_lake:FrozenLakeEnv&#39;</span><span class="p">,</span>
    <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;map_name&#39;</span><span class="p">:</span> <span class="s1">&#39;4x4&#39;</span><span class="p">,</span>
            <span class="s1">&#39;is_slippery&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>

<span class="n">register</span><span class="p">(</span>
    <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;Deterministic-8x8-FrozenLake-v0&#39;</span><span class="p">,</span>
    <span class="n">entry_point</span><span class="o">=</span><span class="s1">&#39;gym.envs.toy_text.frozen_lake:FrozenLakeEnv&#39;</span><span class="p">,</span>
    <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;map_name&#39;</span><span class="p">:</span> <span class="s1">&#39;8x8&#39;</span><span class="p">,</span>
            <span class="s1">&#39;is_slippery&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>

<span class="n">register</span><span class="p">(</span>
    <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;Stochastic-4x4-FrozenLake-v0&#39;</span><span class="p">,</span>
    <span class="n">entry_point</span><span class="o">=</span><span class="s1">&#39;gym.envs.toy_text.frozen_lake:FrozenLakeEnv&#39;</span><span class="p">,</span>
    <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;map_name&#39;</span><span class="p">:</span> <span class="s1">&#39;4x4&#39;</span><span class="p">,</span>
            <span class="s1">&#39;is_slippery&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Introduction-to-Reinforcement-Learning">Introduction to Reinforcement Learning<a class="anchor-link" href="#Introduction-to-Reinforcement-Learning">&#182;</a></h1><p>What makes reinforcement learning different from other machine
learning paradigms?</p>
<ul>
<li>There is no supervisor, only a reward signal</li>
<li>Feedback is delayed, not instantaneous</li>
<li>Time really matters (sequential, non i.i.d data)</li>
<li>Agent's actions affect the subsequent data it receives</li>
</ul>
<p>Reinforcement Learning Involves</p>
<ul>
<li>Optimization: find an optimal way to make decisions yielding best outcomes</li>
<li>Delayed consequences: decisions now can impact things much later</li>
<li>Exploration: learning about the world by making decisions</li>
<li>Generalization: policy is mapping from past experience to action</li>
</ul>
<!--
### AI Planning (vs RL)
* Optimization
* Generalization
* Delayed consequences
* Computes good sequence of decisions given model of how decisions impact world
### Supervised Machine Learning (vs RL)
* Optimization
* Generalization
* Learns from experience provided correct labels
### Unsupervised Machine Learning (vs RL)
* Optimization
* Generalization
* Learns from experience without labels from the world
### Imitation Learning (vs RL)
* Optimization
* Generalization
* Delayed consequences
* Learns from experience of others, and assumes input demos of good policies
-->

<h3 id="Sequential-Decision-Process">Sequential Decision Process<a class="anchor-link" href="#Sequential-Decision-Process">&#182;</a></h3><p><strong>Agent:</strong></p>
<ul>
<li>At each time step $t$, agent takes an action $a_t$ </li>
<li>World updates given action $a_t$, emits observation $o_t$ and reward $r_t$</li>
<li>Agent receives observation $o_t$ and reward $r_t$</li>
</ul>
<p><strong>Environment:</strong></p>
<ul>
<li>Receives action $a_t$</li>
<li>Emits observation $o_{t+1}$</li>
<li>Emits scalar reward $r_{t+1}$</li>
</ul>
<p><strong>History and State</strong></p>
<ul>
<li>History $h_t = (a_1, o_1,r_1, \dots, a_t, o_t, r_t)$</li>
<li>Agent chooses action based on history</li>
<li>State is used to determine what happens next, it is a function of history: $s_t = f(h_t)$</li>
</ul>
<p><strong>Agent/Environment State</strong></p>
<ul>
<li>The <strong>agent state</strong> $s^a_t$ is the agent's internal representation (used to pick the next action) </li>
<li>It is the information used by reinforcement learning algorithms</li>
<li><p>It can be any function of history: $s_t = f(h_t)$</p>
</li>
<li><p>The <strong>environment state</strong> $s^e_t$ is the environment's private representation (used to pick the next observation/reward)</p>
</li>
<li>The environment state is not usually visible to the agent</li>
<li>Even if $s^e_t$ is visible, it may contain irrelevant information</li>
</ul>
<h3 id="Full-observability">Full observability<a class="anchor-link" href="#Full-observability">&#182;</a></h3><ul>
<li>Agent directly observes environment state: $o_t = s^a_t = s^e_t$</li>
<li>Formally, this is a Markov decision process (MDP)</li>
</ul>
<h3 id="Partial-observability">Partial observability<a class="anchor-link" href="#Partial-observability">&#182;</a></h3><ul>
<li>Agent indirectly observes environment: agent state $\neq$ environment state</li>
<li>Formally this is a partially observable Markov decision process (POMDP)</li>
<li>Agent must construct its own state representation $s^a_t$, e.g.:<blockquote><ul>
<li>Complete history: $s^a_t = h_t$</li>
<li>Beliefs of environment state: $s^a_t = (P[s^e_t = s^1], \dots, P[s^e_t=s^n])$</li>
<li>Recurrent neural network: $s^a_t = \sigma(s^a_{t-1}w_s + o_t w_o)$</li>
</ul>
</blockquote>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Types-of-Sequential-Decision-Processes">Types of Sequential Decision Processes<a class="anchor-link" href="#Types-of-Sequential-Decision-Processes">&#182;</a></h3><ul>
<li><p>Deterministic: Given history &amp; action, single observation &amp; reward</p>
</li>
<li><p>Stochastic: Given history &amp; action, many potential observations &amp; rewards</p>
</li>
</ul>
<h3 id="RL-Algorithm-Components">RL Algorithm Components<a class="anchor-link" href="#RL-Algorithm-Components">&#182;</a></h3><ul>
<li><strong>Model:</strong> representation of how the world changes in response to agent's action</li>
</ul>
<blockquote><ul>
<li>Transition / dynamics model predicts next agent state: $p(s_{t+1} = s' | s_t = s, a_t = a)$</li>
<li>Reward model predicts immediate reward: $r(s_t = s, a_t = a) = {\mathbb{E}}[r_t | s_t = s, a_t = a]$</li>
</ul>
</blockquote>
<ul>
<li><strong>Policy:</strong> function mapping agent's states to action, $\pi : S \to A$ mapping from states to actions</li>
</ul>
<blockquote><ul>
<li>Deterministic policy: $\pi(s) = a$</li>
<li>Stochastic policy: $\pi(a|s) = P(a_t = a|s_t = s)$</li>
</ul>
</blockquote>
<ul>
<li><strong>Value function:</strong> future $\gamma$ discounted rewards from being in a state and/or action when following a particular policy</li>
</ul>
<blockquote>$$ V^{\pi}(s_t = s) = {\mathbb{E}}_{\pi}[r_t + \gamma r_{t+1} + \gamma^2 r_{t+2} + \dots |s_t = s]$$
</blockquote>
<h3 id="Types-of-RL-Agents">Types of RL Agents<a class="anchor-link" href="#Types-of-RL-Agents">&#182;</a></h3><ul>
<li><p>Model-based</p>
<blockquote><ul>
<li>Explicit: Model</li>
<li>Implicit: Policy and/or value function (can use model to plan: compute a policy and/or value function)</li>
</ul>
</blockquote>
</li>
<li><p>Valued-based</p>
<blockquote><ul>
<li>Explicit: Value function</li>
<li>Implicit: Policy (can derive a policy from value function)</li>
</ul>
</blockquote>
</li>
<li><p>Policy-based</p>
<blockquote><ul>
<li>Explicit: Policy</li>
<li>No value function</li>
</ul>
</blockquote>
</li>
<li><p>Actor-Critic</p>
<blockquote><ul>
<li>Explicit: Policy</li>
<li>Explicit: Value function</li>
</ul>
</blockquote>
</li>
</ul>
<hr>

<h3 id="Planning-vs-RL">Planning vs RL<a class="anchor-link" href="#Planning-vs-RL">&#182;</a></h3><ul>
<li><p>Planning (agent's internal computation)</p>
<blockquote><ul>
<li>Given model of how the world works: dynamics and reward model</li>
<li>Algorithm computes how to act in order to maximize expected reward (with no interaction with real environment)</li>
</ul>
</blockquote>
</li>
<li><p>Reinforcement learning</p>
<blockquote><ul>
<li>Agent doesn't know how world works</li>
<li>Interacts with world to implicitly/explicitly learn how world works</li>
<li>Agent improves policy (may involve planning)</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="Exploration-and-Exploitation">Exploration and Exploitation<a class="anchor-link" href="#Exploration-and-Exploitation">&#182;</a></h3><ul>
<li>Agent only experiences what happens for the actions it tries<blockquote><ul>
<li>Exploration: trying new things that might enable the agent to make better decisions in the future</li>
<li>Exploitation: choosing actions that are expected to yield good reward given past experience</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="Evaluation-and-Control">Evaluation and Control<a class="anchor-link" href="#Evaluation-and-Control">&#182;</a></h3><ul>
<li>Evaluation: estimate/predict the expected rewards from following a given policy</li>
<li>Control: optimization - find the best policy</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Full-Observability:-Markov-Decision-Process-(MDP)">Full Observability: Markov Decision Process (MDP)<a class="anchor-link" href="#Full-Observability:-Markov-Decision-Process-(MDP)">&#182;</a></h1><ul>
<li><p>MDP formally describe an environment for RL, where the environment is fully observable.</p>
<blockquote><ul>
<li>That is the current state completely characterizes the process.</li>
</ul>
</blockquote>
</li>
<li><p>Almost all RL problems can be formalized as MDPs, e.g.</p>
<blockquote><ul>
<li>Optimal control primarily deals with continuous MDPs</li>
<li>Partially observable problems can be converted into MDPs</li>
<li>Bandits are MDPs with one state</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="Markov-Process-(MP)">Markov Process (MP)<a class="anchor-link" href="#Markov-Process-(MP)">&#182;</a></h3><p><strong>Definition:</strong> State $s_t$ is Markov iff: $p(s_{t+1} | s_t, a_t) = p(s_{t+1} | h_t, a_t)$.</p>
<ul>
<li><p>A Markov process is a memoryless random process, i.e. a sequence of random states $s_1, s_2, \dots $ with the Markov property.</p>
</li>
<li><p>Information state: sufficient statistic of history (future is independent of past given present)</p>
</li>
<li><p>A Markov process is defined by the tuple $(S, P)$, where</p>
</li>
</ul>
<blockquote><ul>
<li>$S$ - a finite state space.</li>
<li>$P$ - a transition probability model that specifies $\mathcal{P}_{ss'} = P(s_{t+1} = s'|s_t = s)$</li>
</ul>
</blockquote>
<h3 id="Markov-Reward-Process-(MRP)">Markov Reward Process (MRP)<a class="anchor-link" href="#Markov-Reward-Process-(MRP)">&#182;</a></h3><p>A Markov reward process is a Markov chain with values.</p>
<ul>
<li>Markov Reward Process is a Markov process, together with the reward function and discount factor</li>
<li>MRP It is formally represented by the tuple $(S, P, R, \gamma)$ <blockquote><ul>
<li>$S$ is a (finite) set of states</li>
<li>$P$ is dynamics/transition model that specifies $P(s_{t+1} = s' | s_t = s)$</li>
<li>$R$ is a reward function $R(s_t = s) = {\mathbb{E}}[r_t | s_t = s]$</li>
<li>Discount factor $\gamma \in [0, 1]$</li>
<li><strong>N.B. no actions!</strong></li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="Stationary-Rewards">Stationary Rewards<a class="anchor-link" href="#Stationary-Rewards">&#182;</a></h3><ul>
<li>We will assume MRP are stationary: $r_i = r_j$ if $s_i = s_j$ for all $i$ and $j$</li>
<li>For stochastic rewards cdf satisfy: $F(r_i | s_i = s) = F(r_j|s_j = s)$ for all $s \in S$</li>
<li>As a result: $R(s) = {\mathbb{E}}[r_i | s_i = s] = {\mathbb{E}}[r_j | s_j = s]$ for all $i$ and $j$</li>
</ul>
<h3 id="Return-&amp;-Value-Function">Return &amp; Value Function<a class="anchor-link" href="#Return-&amp;-Value-Function">&#182;</a></h3><ul>
<li><p><strong>Horizon</strong> is defined as the number of time steps in each episode. Can be infinite, otherwise called finite Markov reward process</p>
</li>
<li><p>The value of receiving reward $R$ after $k + 1$ time-steps is $\gamma^k R$</p>
</li>
<li><p>Definition of Return, $G_t$ (for a MRP): discounted sum of rewards from time step $t$ to horizon</p>
<p>$$ G_t = r_t + \gamma r_{t+1} + \gamma^2 r_{t+2} + \dots = \sum^{H-1}_{i=t} \gamma^{i-t}r_i = \sum^{H+t-1}_{i=0} \gamma^{i}r_{i+t}, \ \ \ \forall t \in [0, H-1] $$</p>
</li>
<li><p><strong>Definition:</strong> State value function, $V(s)$ (for a MRP) is an expected return from starting in state $s$</p>
<p>$$ V_t(s) = {\mathbb{E}}[G_t |s_t = s]$$</p>
</li>
</ul>
<ul>
<li><p>When the horizon is infinite: $V_i(s) = V_j (s)$ for all $i, j = 0, 1, \dots$</p>
</li>
<li><p>Therefore, we will define: $V(s) = V_0(s)$</p>
</li>
<li><p>Three different ways to compute the value function of a MRP are:</p>
<blockquote><ul>
<li>Simulation</li>
<li>Analytic solution</li>
<li>Iterative solution</li>
</ul>
</blockquote>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Example">Example<a class="anchor-link" href="#Example">&#182;</a></h2><p>Consider the MRP $(S, P, R, \gamma)$ with seven states, the following transition matrix $P$, reward vector $R$, and discount factor gamma.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nS</span> <span class="o">=</span> <span class="mi">7</span>

<span class="n">S</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>  <span class="c1"># individual states are numbers from 0 to nS-1</span>

<span class="n">P</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
              <span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
              <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
              <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
              <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
              <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">],</span>
              <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]])</span>

<span class="n">R</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>

<span class="n">gamma</span> <span class="o">=</span> <span class="mf">0.5</span>

<span class="n">I</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Computing-Value-function-using-Monte-Carlo-simulation">Computing Value function using Monte Carlo simulation<a class="anchor-link" href="#Computing-Value-function-using-Monte-Carlo-simulation">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">value_fun_mc</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">N_ep</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">H</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
    <span class="n">s0_vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int&#39;</span><span class="p">)</span>
    <span class="n">s0_vec</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">G_t</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N_ep</span><span class="p">):</span>
        <span class="n">g</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">s_vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">s0_vec</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">H</span> <span class="o">-</span> <span class="n">t</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">s_vec</span><span class="p">)</span>
            <span class="n">s_vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">s_vec</span><span class="p">)</span>
            <span class="n">g</span> <span class="o">+=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">gamma</span> <span class="o">**</span> <span class="n">j</span>
        <span class="n">G_t</span> <span class="o">+=</span> <span class="n">g</span>
    <span class="k">return</span> <span class="n">G_t</span> <span class="o">/</span> <span class="n">N_ep</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>

<span class="n">gamma</span><span class="o">=</span><span class="mf">0.5</span>
<span class="n">value_table</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">):</span>
    <span class="n">value_table</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">value_fun_mc</span><span class="p">(</span><span class="n">s_n</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span> <span class="k">for</span> <span class="n">s_n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nS</span><span class="p">)]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Wall time: 1.24 s
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">value_table</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[6]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.534267</td>
      <td>1.534267</td>
      <td>1.534267</td>
      <td>1.534267</td>
      <td>1.534267</td>
      <td>1.534267</td>
      <td>1.534267</td>
      <td>1.534267</td>
      <td>1.534267</td>
      <td>1.534267</td>
      <td>1.534267</td>
      <td>1.534267</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.369933</td>
      <td>0.369933</td>
      <td>0.369933</td>
      <td>0.369933</td>
      <td>0.369933</td>
      <td>0.369933</td>
      <td>0.369933</td>
      <td>0.369933</td>
      <td>0.369933</td>
      <td>0.369933</td>
      <td>0.369933</td>
      <td>0.369933</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.130433</td>
      <td>0.130433</td>
      <td>0.130433</td>
      <td>0.130433</td>
      <td>0.130433</td>
      <td>0.130433</td>
      <td>0.130433</td>
      <td>0.130433</td>
      <td>0.130433</td>
      <td>0.130433</td>
      <td>0.130433</td>
      <td>0.130433</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.217016</td>
      <td>0.217016</td>
      <td>0.217016</td>
      <td>0.217016</td>
      <td>0.217016</td>
      <td>0.217016</td>
      <td>0.217016</td>
      <td>0.217016</td>
      <td>0.217016</td>
      <td>0.217016</td>
      <td>0.217016</td>
      <td>0.217016</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.846139</td>
      <td>0.846139</td>
      <td>0.846139</td>
      <td>0.846139</td>
      <td>0.846139</td>
      <td>0.846139</td>
      <td>0.846139</td>
      <td>0.846139</td>
      <td>0.846139</td>
      <td>0.846139</td>
      <td>0.846139</td>
      <td>0.846139</td>
    </tr>
    <tr>
      <th>5</th>
      <td>3.590609</td>
      <td>3.590609</td>
      <td>3.590609</td>
      <td>3.590609</td>
      <td>3.590609</td>
      <td>3.590609</td>
      <td>3.590609</td>
      <td>3.590609</td>
      <td>3.590609</td>
      <td>3.590609</td>
      <td>3.590609</td>
      <td>3.590609</td>
    </tr>
    <tr>
      <th>6</th>
      <td>15.311603</td>
      <td>15.311603</td>
      <td>15.311603</td>
      <td>15.311603</td>
      <td>15.311603</td>
      <td>15.311603</td>
      <td>15.311603</td>
      <td>15.311603</td>
      <td>15.311603</td>
      <td>15.311603</td>
      <td>15.311603</td>
      <td>15.311603</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Computing-Value-function-using--analytic-solution">Computing Value function using  analytic solution<a class="anchor-link" href="#Computing-Value-function-using--analytic-solution">&#182;</a></h3>$$V = R + \gamma P V $$$$V = (I - \gamma P)^{-1} R$$
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>

<span class="n">W</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">I</span> <span class="o">-</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">P</span><span class="p">)</span>
<span class="n">value_fun</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="n">R</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">value_fun</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[ 1.53427  0.36993  0.13043  0.21702  0.84614  3.59061 15.3116 ]
Wall time: 0 ns
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Dynamic-programming-algorithm-to-calculate-finite-MRP-value-function">Dynamic programming algorithm to calculate finite MRP value function<a class="anchor-link" href="#Dynamic-programming-algorithm-to-calculate-finite-MRP-value-function">&#182;</a></h3><p>Iterative algorithm for value function in the infinite horizon case using dynamic programming:</p>
$$V_t(s) = R(s) + \gamma \sum_{s' \in S} P(s'|s) V_{t+1}(s'), \ \ \ \   \forall  t = 0, \dots, H-1$$$$V_H(s) = 0$$
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">value_fun_dp</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">H</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
    <span class="n">V_H</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="n">V_ts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="n">H</span><span class="p">,</span> <span class="n">nS</span><span class="p">))</span>
    <span class="n">V_ts</span><span class="p">[:,:]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
    <span class="n">V_next</span> <span class="o">=</span> <span class="n">V_H</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">H</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nS</span><span class="p">):</span>
            <span class="n">V_ts</span><span class="p">[</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">R</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">V_next</span><span class="p">)[</span><span class="n">s</span><span class="p">]</span>
        <span class="n">V_next</span> <span class="o">=</span> <span class="n">V_ts</span><span class="p">[</span><span class="n">t</span><span class="p">,</span> <span class="p">:]</span>
    <span class="k">return</span> <span class="n">V_ts</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>

<span class="n">V_ts</span> <span class="o">=</span> <span class="n">value_fun_dp</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">V_ts</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="p">:])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[ 1.53427  0.36993  0.13043  0.21702  0.84614  3.59061 15.3116 ]
Wall time: 1.99 ms
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Iterative-algorithm-to-calculate-MRP-value-function-(infinite-H)">Iterative algorithm to calculate MRP value function (infinite H)<a class="anchor-link" href="#Iterative-algorithm-to-calculate-MRP-value-function-(infinite-H)">&#182;</a></h3><p>The algorithm takes as input a Markov reward process $M = (S, P, R, \gamma)$, and a tolerance $\epsilon$. The algorithm is based on the following iteration:</p>
$$V'(s) = R(s) + \gamma \sum_{s' \in S} P(s'|s) V(s'), \ \ \ \ \text{with initialization} \ \ \ V'(s) = 0 \ \ \ \forall s \in S$$<p>Define the max-norm or infinite-norm for a vector and for a matrix as:</p>
$$||x||_{\infty} = \max_{i} |x_{i}|$$$$||A ||_{\infty} = \max_{i} \left( \sum_{j=1}^{j_{max}} |A_{ij}| \right)$$<p><strong>Theorem</strong> If the output of this algorithm is $V'$ and true solution is $V = (I − \gamma P)^{-1}R$, then we have the error estimate</p>
$$||V' - V ||_{\infty} \leq \frac{\epsilon \gamma}{1-\gamma}$$
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">value_fun_iter</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">):</span>
    <span class="n">V_new</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="n">V_old</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="n">V_old</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span>
    <span class="k">while</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">V_new</span> <span class="o">-</span> <span class="n">V_old</span><span class="p">,</span> <span class="nb">ord</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">epsilon</span><span class="p">:</span>
        <span class="n">V_old</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">V_new</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nS</span><span class="p">):</span>
            <span class="n">V_new</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">R</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">V_old</span><span class="p">)[</span><span class="n">s</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">V_new</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>

<span class="n">Vs</span> <span class="o">=</span> <span class="n">value_fun_iter</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Vs</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[ 1.53407  0.3697   0.13014  0.21664  0.84567  3.59007 15.31103]
Wall time: 998 µs
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="State-value-function-and-policy-(MDP)">State value function and policy (MDP)<a class="anchor-link" href="#State-value-function-and-policy-(MDP)">&#182;</a></h1><p>A Markov decision process (MDP) is a Markov reward process with decisions. It is an environment in which all states are Markov. It is formally represented using the tuple $(S, A, P, R, \gamma)$</p>
<ul>
<li>$S$  : finite state space</li>
<li>$A$ :  finite set of actions which are available from each state $s$</li>
<li>$P$ :  is a state transition probability matrix $\mathcal{P}^a_{ss'} = P(s_{t+1} = s'|s_t = s, a_t=a)$</li>
<li>$R$ :  is a reward function, $\mathcal{R}^a_s = {\mathbb{E}}[r_t |s_t = s, a_t = a]$ </li>
<li>$\gamma$ : Discount factor $\in [0, 1]$</li>
</ul>
<p>We assume the principle of stationary transition probabilities</p>
$$ P(s_i = s' | s_{i-1} = s, a_{i-1} = a) = P(s_j = s' | s_{j-1} = s, a_{j-1} = a), \ \ \ \forall s, s' \in S, \ \ \ \forall a \in A, \ \ \ \forall i,j = 1, 2 \dots $$$$ R(s, a) = {\mathbb{E}}[r_i |s_i = s, a_i = a], \ \ \ \forall i = 0, 1, \dots$$<hr>

<h3 id="Policy-evaluation">Policy evaluation<a class="anchor-link" href="#Policy-evaluation">&#182;</a></h3><p><strong>Definition</strong> A policy $\pi$ is a distribution over actions given states: $\pi(a|s) = P[a_t=a|s_t=s]$</p>
<ul>
<li><p>Given a MDP, a policy for the MDP specifies what action to take in each state.</p>
</li>
<li><p>A policy can either be deterministic or stochastic.</p>
</li>
<li><p>$a_t \sim \pi( . |s_t)$ for all $t&gt;0$</p>
</li>
<li><p>A policy fully defines the behavior of an agent</p>
</li>
</ul>
<!--
* Policy may be varying with time, which is especially true in the case of finite horizon MDPs.
* We will call policies that do not vary with time "stationary policies", and indicate them as $\pi$.
* For a stationary policy $\pi$, if at time $t$ the agent is in state $s$, it will choose an action $a$ with probability given by $\pi(a|s)$ and this probability does not depend on $t$, while for a non-stationary policy the probability will depend on time $t$ and we will be denoted by $\pi_t(a|s)$.
-->

<p>Given a policy $\bf{\pi}$ one can define two quantities:</p>
<ul>
<li>the state value function for the MDP corresponding to the policy $\bf{\pi}$  </li>
<li>the state-action value function for the MDP corresponding to the policy $\bf{\pi}$</li>
</ul>
<h3 id="State-value-functions-in-MDP-and-MRP">State value functions in MDP and MRP<a class="anchor-link" href="#State-value-functions-in-MDP-and-MRP">&#182;</a></h3><p>Evaluating the value function for the policy is equivalent to evaluating the value function on an equivalent Markov reward process. Specifically we define the Markov reward process $M' = (S, P^{\pi}, R^{\pi}, \gamma)$</p>
$$R^{\pi}(s) = \sum_{a \in A} \pi(a|s)R(s, a)$$$$P^{\pi}(s', s) = \sum_{a \in A} \pi(a|s) P(s'|s, a)$$<p></p>
<hr>

<p><strong>State value function</strong> $V^{\pi}_t(s)$ of an MDP is the expected return starting from state $s$, and then following policy $\pi$</p>
$$V^{\pi}_t(s) = {\mathbb{E}}_{\pi}[G_t|s_t = s]$$<p></p>
<ul>
<li>When the horizon is infinite, using stationary assumptions of the rewards, transition probabilities and policy imply that $\forall s \in S$ </li>
</ul>
$$V_{i}^{\pi}(s) = V_{j}^{\pi}(s), \ \ \ \forall \ i,j = 0, 1, \dots $$<ul>
<li>Therefore, the state-value function can be written as: $V^{\pi}(s) := V_{0}^{\pi}(s)$</li>
</ul>
<hr>

<p><strong>State-action value function</strong> $Q^{\pi}_t(s, a)$ is the expected return starting from state $s$, taking action $a$, and then following policy $\pi$</p>
$$Q^{\pi}_t(s, a) = {\mathbb{E}}_{\pi}[G_t|s_t = s, a_t = a]$$<p></p>
<ul>
<li>In the infinite horizon case, the stationary assumptions about rewards, transition probabilities and policy imply $\forall s \in S, \forall a \in A$ </li>
</ul>
$$Q_{i}^{\pi}(s, a) = Q_{j}^{\pi}(s, a), \ \ \ \forall \ i,j = 0, 1, \dots $$<ul>
<li>Therefore, the state-action function can be written as: $Q^{\pi}(s, a) = Q_{0}^{\pi}(s, a)$</li>
</ul>
<hr>

<h3 id="Relation-between-$V^{\pi}(s)$-and-$Q^{\pi}(s,-a)$">Relation between $V^{\pi}(s)$ and $Q^{\pi}(s, a)$<a class="anchor-link" href="#Relation-between-$V^{\pi}(s)$-and-$Q^{\pi}(s,-a)$">&#182;</a></h3><p>In the infinite horizon case, the assumptions about stationary transition probabilities and rewards implies</p>
$$V^{\pi}(s) = \sum_{a \in A} \pi(a|s) Q^{\pi}(s, a)$$$$Q^{\pi}(s, a) = R(s, a) + \gamma \sum_{s' \in S} P(s'|s, a) V^{\pi}(s') $$<h3 id="Bellman-expectation-equations">Bellman expectation equations<a class="anchor-link" href="#Bellman-expectation-equations">&#182;</a></h3>$$V^{\pi}(s) = \sum_{a \in A} \pi(a|s) \left(R(s, a) + \gamma \sum_{s' \in S} P(s'|s, a) V^{\pi}(s')\right)$$<p></p>
<ul>
<li>In a matrix form: $V^{\pi} = R^{\pi} + \gamma P^{\pi}V^{\pi}$</li>
</ul>
$$Q^{\pi}(s, a) = R(s, a) + \gamma \sum_{s' \in S} P(s'|s, a) \sum_{a' \in A} \pi(a'|s') Q^{\pi}(s', a')$$<p></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Iterative-algorithm-to-calculate-MDP-value-function-for-a-stationary-policy-$\pi$">Iterative algorithm to calculate MDP value function for a stationary policy $\pi$<a class="anchor-link" href="#Iterative-algorithm-to-calculate-MDP-value-function-for-a-stationary-policy-$\pi$">&#182;</a></h3>$$V_{k+1}(s) =  \sum_{a \in A} \pi(a|s) \left(R(s, a) + \gamma \sum_{s' \in S} P(s'|s, a) V_k(s')\right) $$<p>or in a vector form: $\bf{V}_{k+1} = \bf{R^{\pi}} + \gamma \bf{P^{\pi}}\bf{V}_{k}$</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Example">Example<a class="anchor-link" href="#Example">&#182;</a></h3><p>We apply the above algorithm on the example below, where we have $7$ states on a line with actions  $a$ = {"left": 0, "right": 1} and rewards at initial and final states. The policy is deterministic $a = \pi(s)$, therefore, $\pi(a|s)$ is either 1 or 0.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nS</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">nA</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">P_left</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                   <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                   <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                   <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                   <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                   <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                   <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>

<span class="n">P_right</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
                    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>

<span class="n">R</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>  <span class="c1"># we choose R(s, a) = R(s)</span>

<span class="n">Psa</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="n">P_left</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="n">P_right</span><span class="p">}</span>
<span class="n">Rsa</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="n">R</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="n">R</span><span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">policy_evaluation_example</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">):</span>
    <span class="n">V</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="n">V_old</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span>

    <span class="n">Ppi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="n">nS</span><span class="p">,</span> <span class="n">nS</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nS</span><span class="p">):</span>
        <span class="n">Rpi</span> <span class="o">=</span> <span class="n">Rsa</span><span class="p">[</span><span class="n">policy</span><span class="p">[</span><span class="n">s</span><span class="p">]]</span>
        <span class="n">Ppi</span><span class="p">[</span><span class="n">s</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">Psa</span><span class="p">[</span><span class="n">policy</span><span class="p">[</span><span class="n">s</span><span class="p">]][</span><span class="n">s</span><span class="p">,</span> <span class="p">:]</span>

    <span class="k">while</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">V</span> <span class="o">-</span> <span class="n">V_old</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">epsilon</span><span class="p">:</span>
        <span class="n">V_old</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">V</span>
        <span class="n">V</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">Rpi</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">Ppi</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">V_old</span><span class="p">)</span>
        <span class="c1"># print(np.linalg.norm(V - V_old, np.inf))</span>
    <span class="k">return</span> <span class="n">V</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Evaluate the value function for the policy that always goes to the right:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">policy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>

<span class="n">V</span> <span class="o">=</span> <span class="n">policy_evaluation_example</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="s1">&#39;ro&#39;</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[ 1.31189  0.62439  1.24939  2.49939  4.99939  9.99939 19.99939]
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
width=416
height=244
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Compute the averaged value function over 1000 random policies.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Vfs</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
    <span class="n">policy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">nS</span><span class="p">,),</span> <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">])</span>
    <span class="n">V</span> <span class="o">=</span> <span class="n">policy_evaluation_example</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
    <span class="n">Vfs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>

<span class="n">mean_Vs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Vfs</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">mean_Vs</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">mean_Vs</span><span class="p">,</span> <span class="s1">&#39;ro&#39;</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[ 1.6034   0.43808  0.1671   0.30865  1.09455  4.33139 16.09995]
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
width=406
height=244
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Optimal-value-function">Optimal value function<a class="anchor-link" href="#Optimal-value-function">&#182;</a></h2><h3 id="MDP-control-in-the-infinite-horizon-setting">MDP control in the infinite horizon setting<a class="anchor-link" href="#MDP-control-in-the-infinite-horizon-setting">&#182;</a></h3><ul>
<li><p>In "MDP control" we seek to find the best policy, that achieves the greatest value function among the set of all possible policies</p>
</li>
<li><p>There $\exists!$ optimal value function</p>
</li>
<li><p>In RL, this is the objective of the agent</p>
</li>
<li><p><strong>Definition:</strong> A policy $\pi^*$ is an optimal policy iff for every policy $\pi$, for all $t = 0, 1, \dots$, and for all
states $s \in S$, we have $V^{\pi^*}_t(s) \geq V^{\pi}_t(s)$.</p>
</li>
</ul>
$$\pi^*(s) = \arg \max_{\pi} V^{\pi}(s) $$<ul>
<li>For an infinite horizon MDP, existence of an optimal policy also implies the existence of a stationary optimal policy. </li>
</ul>
<!--
* **Definition:** The optimal value function for an infinite horizon MDP is defined as
$$V^*(s) = \max_{\pi \in \Pi}V^{\pi}(s)$$
and there exists a stationary deterministic policy $\pi^* \in \Pi$, which is an optimal policy, such that $V^*(s) = V^{\pi^*}(s)$ for all states $s \in S$, where $\Pi$ is the set of all stationary deterministic policies.
-->

<hr>

<p><strong>Definition:</strong> The optimal state-value function $V^*(s)$ is the maximum value function over all policies</p>
$$V^*(s) = \max_{\pi} V^{\pi}(s)$$<p>The optimal action-value function $Q^*(s, a)$ is the maximum action-value function over all policies</p>
$$Q^*(s, a) = \max_{\pi} Q^{\pi}(s, a)$$<ul>
<li><p>The optimal value function specifies the best possible performance in the MDP.</p>
</li>
<li><p>An MDP is "solved" when we know the optimal value function.</p>
</li>
</ul>
<p><strong>Theorem:</strong> For any MDP:</p>
<ul>
<li><p>$\exists$ an optimal policy $\pi^*$ s.t. $\pi^* \geq \pi$,  $\forall π$</p>
</li>
<li><p>all optimal policies achieve the optimal value function, $V^{\pi^*}(s) = V^*(s)$</p>
</li>
<li><p>all optimal policies achieve the optimal action-value function, $Q^{\pi^*}(s, a) = Q^*(s, a)$.</p>
</li>
</ul>
<h3 id="Finding-an-Optimal-Policy">Finding an Optimal Policy<a class="anchor-link" href="#Finding-an-Optimal-Policy">&#182;</a></h3><ul>
<li>An optimal policy can be found by maximizing over $Q^*(s, a)$</li>
</ul>
$$\pi^*(a|s) = \begin{cases}
                  1 &amp; a = \arg \max_{a \in A} Q^*(s, a) \\
                  0 &amp; \text{otherwise}
                \end{cases}
$$<ul>
<li><p>There is always a <strong>deterministic</strong> optimal policy for any MDP</p>
</li>
<li><p>If we know $Q^*(s, a)$ $\implies$ we have the optimal policy</p>
</li>
</ul>
<h3 id="Bellman-Optimality-Equations">Bellman Optimality Equations<a class="anchor-link" href="#Bellman-Optimality-Equations">&#182;</a></h3>$$V^*(s) = \max_a Q^*(s, a)$$$$Q^*(s, a) = R(s, a) + \gamma \sum_{s' \in S} P(s'|s, a)V^*(s')$$$$V^*(s) = \max_a \left[R(s, a) + \gamma \sum_{s' \in S} P(s'|s, a)V^*(s')\right]$$$$Q^*(s, a) = R(s, a) + \gamma \sum_{s' \in S} P(s'|s, a) \max_{a'} Q^*(s', a')$$<h3 id="Solving-the-Bellman-Optimality-Equations">Solving the Bellman Optimality Equations<a class="anchor-link" href="#Solving-the-Bellman-Optimality-Equations">&#182;</a></h3><ul>
<li>Bellman Optimality Equation is non-linear</li>
<li>No closed form solution (in general)</li>
<li>Many iterative solution methods<blockquote><ul>
<li>Value Iteration</li>
<li>Policy Iteration</li>
<li>Q-learning</li>
<li>Sarsa</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="Policy-Search">Policy Search<a class="anchor-link" href="#Policy-Search">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">create_policies</span><span class="p">(</span><span class="n">nS</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates all 2 ** nS binary policies.&quot;&quot;&quot;</span>
    <span class="n">policies</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="n">nS</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bin</span><span class="p">(</span><span class="n">i</span><span class="p">)[</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
        <span class="n">policy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">b</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span>
        <span class="n">policies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">policy</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">policies</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">policy_search</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">):</span>
    <span class="n">policies</span> <span class="o">=</span> <span class="n">create_policies</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="n">idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="n">nS</span><span class="p">))</span>
    <span class="n">policy_opt</span> <span class="o">=</span> <span class="n">policies</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="p">:]</span>
    <span class="n">Vopt</span> <span class="o">=</span> <span class="n">policy_evaluation_example</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">policy_opt</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">policy</span> <span class="ow">in</span> <span class="n">policies</span><span class="p">:</span>
        <span class="n">Vpi</span> <span class="o">=</span> <span class="n">policy_evaluation_example</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">Vpi</span> <span class="o">&gt;=</span> <span class="n">Vopt</span><span class="p">):</span>
            <span class="n">Vopt</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">Vpi</span>
            <span class="n">policy_opt</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">policy</span>
    <span class="k">return</span> <span class="n">Vopt</span><span class="p">,</span> <span class="n">policy_opt</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Below we observe that optimal policy depends on $\gamma$.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Vopt</span><span class="p">,</span> <span class="n">policy_opt</span> <span class="o">=</span> <span class="n">policy_search</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Vopt</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">policy_opt</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[54.13564 59.04054 65.60154 72.89154 80.99154 89.99154 99.99154]
[1 1 1 1 1 1 1]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Vopt</span><span class="p">,</span> <span class="n">policy_opt</span> <span class="o">=</span> <span class="n">policy_search</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Vopt</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">policy_opt</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[ 1.42854  0.42854  0.12854  0.38543  1.28543  4.28543 14.28543]
[0 0 0 1 1 1 1]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Policy-Iteration">Policy Iteration<a class="anchor-link" href="#Policy-Iteration">&#182;</a></h2><h3 id="Policy-improvement-algorithm-to-improve-an-input-policy">Policy improvement algorithm to improve an input policy<a class="anchor-link" href="#Policy-improvement-algorithm-to-improve-an-input-policy">&#182;</a></h3><p><strong>Theorem:</strong> If $\pi$ is a stationary policy for an infinite horizon MDP, then $\exists$ a deterministic stationary policy $\hat{\pi}$ s.t. $V^{\hat{\pi}}(s) \geq V^{\pi}(s)$ $\forall s \in S$. One such policy is given by the stationary policy:</p>
$$\hat{\pi}(s) = \arg \max_{a \in A}\left[R(s, a) + \gamma \sum_{s' \in S} P(s'|s, a) V^{\pi}(s')\right], \ \ \ \forall s \in S$$<!--
which satisfies the equality $(B^{\hat{\pi}}V^{\pi})(s) = (B^* V^{\pi})(s) \geq V^{\pi}(s)$ for all $s$. Moreover $V^{\hat{\pi}}(s) = V^{\pi}(s)$ for all $s$, iff $(B^*V^{\pi})(s) = V^{\pi}(s)$ for all $s$.
-->
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">policy_improvement_example</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">Vpi</span><span class="p">,</span> <span class="n">gamma</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">([</span><span class="n">Rsa</span><span class="p">[</span><span class="n">a</span><span class="p">][:]</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">Psa</span><span class="p">[</span><span class="n">a</span><span class="p">][:,</span> <span class="p">:],</span> <span class="n">Vpi</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nA</span><span class="p">)],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Vopt</span><span class="p">,</span> <span class="n">policy_opt</span> <span class="o">=</span> <span class="n">policy_search</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="n">policy_opt</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># spoiling the policy (going left, where the reward is maximal)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Initial policy&quot;</span><span class="p">,</span> <span class="n">policy_opt</span><span class="p">)</span>

<span class="n">policy_opt_improved</span> <span class="o">=</span> <span class="n">policy_improvement_example</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">Vopt</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Improved policy&quot;</span><span class="p">,</span> <span class="n">policy_opt_improved</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Initial policy [0 0 0 1 1 1 0]
Improved policy [0 0 0 1 1 1 1]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Policy-iteration-algorithm-to-calculate-optimal-value-function-and-find-an-optimal-policy">Policy iteration algorithm to calculate optimal value function and find an optimal policy<a class="anchor-link" href="#Policy-iteration-algorithm-to-calculate-optimal-value-function-and-find-an-optimal-policy">&#182;</a></h3><ul>
<li><p>The above algorithm is always guaranteed to be at least as good as the policy $\pi$ corresponding to the input value function $V^{\pi}$, and represents a "greedy" attempt to improve the policy.</p>
</li>
<li><p>When performed iteratively with the policy evaluation algorithm, this gives rise to the policy iteration algorithm.</p>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">policy_iteration_example</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">):</span>
    <span class="c1"># choose a random policy</span>
    <span class="n">policies</span> <span class="o">=</span> <span class="n">create_policies</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="n">idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="n">nS</span><span class="p">))</span>
    <span class="n">policy</span> <span class="o">=</span> <span class="n">policies</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="p">:]</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">Vpi</span> <span class="o">=</span> <span class="n">policy_evaluation_example</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span>
        <span class="n">policy_opt</span> <span class="o">=</span> <span class="n">policy_improvement_example</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">Vpi</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">policy_opt</span> <span class="o">==</span> <span class="n">policy</span><span class="p">):</span>
            <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">policy</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">policy_opt</span>
    <span class="n">Vopt</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">Vpi</span>
    <span class="k">return</span> <span class="n">Vopt</span><span class="p">,</span> <span class="n">policy_opt</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gamma</span><span class="o">=</span><span class="mf">0.5</span>
<span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-3</span>

<span class="n">Vopt</span><span class="p">,</span> <span class="n">policy_opt</span> <span class="o">=</span> <span class="n">policy_iteration_example</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Vopt</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">policy_opt</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[ 1.99994  0.99994  1.24939  2.49939  4.99939  9.99939 19.99939]
[0 0 1 1 1 1 1]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Compare this with the result from the policy search algorithm:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Vopt</span><span class="p">,</span> <span class="n">policy_opt</span> <span class="o">=</span> <span class="n">policy_search</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Vopt</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">policy_opt</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[ 1.99994  0.99994  1.24939  2.49939  4.99939  9.99939 19.99939]
[0 0 1 1 1 1 1]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Value-Iteration">Value Iteration<a class="anchor-link" href="#Value-Iteration">&#182;</a></h2><p>This is another technique that can be used to compute the optimal value function and an optimal policy, given a MDP.</p>
<p><strong>Theorem:</strong> For a MDP, let the fixed point of the Bellman optimality backup operator $B^*$ be denoted by $V^*$. Then the policy given by</p>
$$\pi^*(s) = \arg \max_{a \in A}\left[R(s, a) + \gamma \sum_{s' \in S} P(s'|s, a) V^{*}(s')\right], \ \ \ \forall s \in S$$<p>is a stationary deterministic policy. The value function of this policy satisfies $V^{\pi^*} = V^*$, and thus $V^*$ is also the fixed point of the operator $B^{\pi^*}$.</p>
<h3 id="Value-iteration-algorithm-to-calculate-optimal-value-function-and-find-an-optimal-policy">Value iteration algorithm to calculate optimal value function and find an optimal policy<a class="anchor-link" href="#Value-iteration-algorithm-to-calculate-optimal-value-function-and-find-an-optimal-policy">&#182;</a></h3>$$V_{k+1}(s) = \max_{a \in A} \left[R(s, a) + \gamma \sum_{s' \in S} P(s'|s, a)V_k(s')\right]$$
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">value_iteration_example</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">):</span>
    <span class="n">V_new</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="n">V_old</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="n">V_old</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span>
    <span class="k">while</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">V_new</span> <span class="o">-</span> <span class="n">V_old</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">epsilon</span><span class="p">:</span>
        <span class="n">V_old</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">V_new</span>
        <span class="n">V_new</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">([</span><span class="n">Rsa</span><span class="p">[</span><span class="n">a</span><span class="p">][:]</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">Psa</span><span class="p">[</span><span class="n">a</span><span class="p">][:,</span> <span class="p">:],</span> <span class="n">V_old</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nA</span><span class="p">)],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">policy_opt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">([</span><span class="n">Rsa</span><span class="p">[</span><span class="n">a</span><span class="p">][:]</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">Psa</span><span class="p">[</span><span class="n">a</span><span class="p">][:,</span> <span class="p">:],</span> <span class="n">V_new</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nA</span><span class="p">)],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">V_new</span><span class="p">,</span> <span class="n">policy_opt</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Vopt</span><span class="p">,</span> <span class="n">policy_opt</span> <span class="o">=</span> <span class="n">value_iteration_example</span><span class="p">(</span><span class="n">Psa</span><span class="p">,</span> <span class="n">Rsa</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Vopt</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">policy_opt</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[ 1.99994  0.99994  1.24939  2.49939  4.99939  9.99939 19.99939]
[0 0 1 1 1 1 1]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Algorithms-for-MDP-Value-Iteration-and-Policy-Iteration">Algorithms for MDP Value Iteration and Policy Iteration<a class="anchor-link" href="#Algorithms-for-MDP-Value-Iteration-and-Policy-Iteration">&#182;</a></h2><p>The following codes are based on assignments given in Ref.[2]. For policy_evaluation, policy_improvement, policy_iteration and value_iteration, the parameters $P, nS, nA, \gamma$ are defined as follows:</p>

<pre><code>P: nested dictionary
    From gym.core.Environment
    For each pair of states in [1, nS] and actions in [1, nA], P[state][action] is a
    list of tuples of the form (probability, nextstate, reward, terminal) where
        - probability: float
            the probability of transitioning from "state" to "nextstate" with "action"
        - nextstate: int
            denotes the state we transition to (in range [0, nS - 1])
        - reward: int
            either 0 or 1, the reward for transitioning from "state" to
            "nextstate" with "action"
        - terminal: bool
            True when "nextstate" is a terminal state (hole or goal), False otherwise
nS: int
    number of states in the environment
nA: int
    number of actions in the environment
gamma: float
    Discount factor. Number in range [0, 1)

</code></pre>
<p>To make the code more concise the following helper function is defined:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">as_tensor</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Return three tensor representations of P of size (nS, nA, nS): </span>
<span class="sd">            as_tensor.prob:    p[s][a][s&#39;]</span>
<span class="sd">            as_tensor.s_next:  s_next[s][a][s&#39;]</span>
<span class="sd">            as_tensor.r:       r[s][a][s&#39;] </span>
<span class="sd">        If p(s&#39;|s,a) = 0, s_next[s][a][s&#39;] = -1 </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># First call</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">as_tensor</span><span class="p">,</span> <span class="s2">&quot;last_p&quot;</span><span class="p">):</span>
        <span class="n">as_tensor</span><span class="o">.</span><span class="n">last_p</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Memorize result and use it if P is unchanged across calls.</span>
    <span class="k">if</span> <span class="n">P</span> <span class="o">!=</span> <span class="n">as_tensor</span><span class="o">.</span><span class="n">last_p</span><span class="p">:</span>
        <span class="n">as_tensor</span><span class="o">.</span><span class="n">last_p</span> <span class="o">=</span> <span class="n">P</span>

        <span class="n">prob</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">nS</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>      <span class="c1"># p(s&#39;|s,a)</span>
        <span class="n">s_next</span> <span class="o">=</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">nS</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>     <span class="c1"># {s&#39;: p(s&#39;|s,a) != 0 for some a}, unreachable s&#39; marked -1</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">nS</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>         <span class="c1"># r(s,a) = r(s,a,s&#39;(s,a))</span>

        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nS</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nA</span><span class="p">):</span>
                <span class="c1"># P[s][a] is a list of (prob, s_next, r, is_terminal) from taking a from s</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">P</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="n">a</span><span class="p">])):</span>
                    <span class="n">s2</span> <span class="o">=</span> <span class="n">P</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="n">a</span><span class="p">][</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>              <span class="c1"># valid state transition</span>
                    <span class="n">s_next</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="n">a</span><span class="p">][</span><span class="n">s2</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span>
                    <span class="n">prob</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="n">a</span><span class="p">][</span><span class="n">s2</span><span class="p">]</span> <span class="o">+=</span> <span class="n">P</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="n">a</span><span class="p">][</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># probability of transition. += since same transition can be defined twice</span>
                    <span class="n">r</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="n">a</span><span class="p">][</span><span class="n">s2</span><span class="p">]</span> <span class="o">+=</span> <span class="n">P</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="n">a</span><span class="p">][</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>    <span class="c1"># reward of that transition</span>

        <span class="n">as_tensor</span><span class="o">.</span><span class="n">prob</span> <span class="o">=</span> <span class="n">prob</span>      <span class="c1"># Tensor: shape (nS, nA, nS)</span>
        <span class="n">as_tensor</span><span class="o">.</span><span class="n">s_next</span> <span class="o">=</span> <span class="n">s_next</span>  <span class="c1"># Tensor: shape (nS, nA, nS)</span>
        <span class="n">as_tensor</span><span class="o">.</span><span class="n">r</span> <span class="o">=</span> <span class="n">r</span>            <span class="c1"># Tensor: shape (nS, nA, nS)</span>

    <span class="c1"># Make sure probabilities of each (s,a) sum to 1</span>
    <span class="k">assert</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array_equal</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">as_tensor</span><span class="o">.</span><span class="n">prob</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">nS</span><span class="p">,</span><span class="n">nA</span><span class="p">))))</span>
    <span class="c1"># Make sure probability of transitioning to undefined next states are all 0</span>
    <span class="k">assert</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">as_tensor</span><span class="o">.</span><span class="n">prob</span> <span class="o">*</span> <span class="p">(</span><span class="n">as_tensor</span><span class="o">.</span><span class="n">s_next</span><span class="o">==-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="c1"># Make sure each valid state and action has full probability of transitioning</span>
    <span class="k">assert</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">as_tensor</span><span class="o">.</span><span class="n">prob</span> <span class="o">*</span> <span class="p">(</span><span class="n">as_tensor</span><span class="o">.</span><span class="n">s_next</span><span class="o">!=-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">))</span> <span class="o">==</span> <span class="n">nA</span><span class="o">*</span><span class="n">nS</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">as_tensor</span><span class="o">.</span><span class="n">prob</span><span class="p">,</span> <span class="n">as_tensor</span><span class="o">.</span><span class="n">s_next</span><span class="p">,</span> <span class="n">as_tensor</span><span class="o">.</span><span class="n">r</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Policy-Evaluation">Policy Evaluation<a class="anchor-link" href="#Policy-Evaluation">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">policy_evaluation</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Evaluate the value function from a given policy.</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">        P, nS, nA, gamma:</span>
<span class="sd">            defined at beginning of file</span>
<span class="sd">        policy: np.array[nS]</span>
<span class="sd">            The policy to evaluate. Maps states to actions.</span>
<span class="sd">        tol: float</span>
<span class="sd">            Terminate policy evaluation when</span>
<span class="sd">                max |value_function(s) - prev_value_function(s)| &lt; tol</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    value_function: np.ndarray[nS]</span>
<span class="sd">        The value function of the given policy, where value_function[s] is</span>
<span class="sd">        the value of state s</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">value_function</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="p">(</span><span class="n">prob</span><span class="p">,</span> <span class="n">s_next</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span> <span class="o">=</span> <span class="n">as_tensor</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">)</span> <span class="c1"># Tensors: shape (nS, nA, nS)</span>

    <span class="n">V</span> <span class="o">=</span> <span class="n">value_function</span>                       <span class="c1"># Vector: shape (nS,)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">Q</span> <span class="o">=</span> <span class="n">prob</span> <span class="o">*</span> <span class="p">(</span><span class="n">r</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">V</span><span class="p">[</span><span class="n">s_next</span><span class="p">])</span>  <span class="c1"># prob of all undefined state transitions are zero</span>
        <span class="n">Q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">Q</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>               <span class="c1"># Sum across s&#39;. Shape: (nS, nA).</span>
        <span class="n">V_new</span> <span class="o">=</span> <span class="n">Q</span><span class="p">[</span><span class="n">s</span><span class="p">,</span> <span class="n">policy</span><span class="p">[</span><span class="n">s</span><span class="p">]]</span>             <span class="c1"># Now that we have the matrix Q(s,a) just pick out the entries for a = pi(s)</span>

        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">V</span> <span class="o">-</span> <span class="n">V_new</span><span class="p">,</span> <span class="nb">ord</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">tol</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">V</span> <span class="o">=</span> <span class="n">V_new</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">value_function</span> <span class="o">=</span> <span class="n">V_new</span>
    <span class="k">return</span> <span class="n">value_function</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">env</span> <span class="o">=</span> <span class="n">gym</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="s2">&quot;Deterministic-4x4-FrozenLake-v0&quot;</span><span class="p">)</span>
<span class="n">env</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="n">env</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>

<span class="n">policy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">nS</span><span class="p">,),</span> <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>
<span class="ansi-red-bg">S</span>FFF
FHFH
FFFH
HFFG
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[30]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">V_pe</span> <span class="o">=</span> <span class="n">policy_evaluation</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nS</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nA</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="n">V_pe</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[30]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Alternative algorithms</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[31]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">policy_evaluation2</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">input_v_function</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">):</span>
    <span class="n">value_function</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">input_v_function</span><span class="p">)</span>
    <span class="n">old_v_function</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="n">value_function</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">value_function</span> <span class="o">-</span> <span class="n">old_v_function</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">tol</span><span class="p">:</span>
        <span class="n">old_v_function</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">value_function</span>
        <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">policy</span><span class="p">):</span>
            <span class="n">prob</span><span class="p">,</span> <span class="n">next_s</span><span class="p">,</span> <span class="n">reward</span><span class="p">,</span> <span class="n">terminal</span> <span class="o">=</span> <span class="n">P</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="n">a</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">value_function</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">reward</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">prob</span> <span class="o">*</span> <span class="n">old_v_function</span><span class="p">[</span><span class="n">next_s</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">value_function</span>


<span class="k">def</span> <span class="nf">policy_evaluation3</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">):</span>
    <span class="n">value_function</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="n">value_function_prev</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span>

    <span class="n">R_pi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="n">P_pi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">nS</span><span class="p">,</span> <span class="n">nS</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nS</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">probability</span><span class="p">,</span> <span class="n">nextstate</span><span class="p">,</span> <span class="n">reward</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">P</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">policy</span><span class="p">[</span><span class="n">i</span><span class="p">]]:</span>
            <span class="n">R_pi</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">probability</span> <span class="o">*</span> <span class="n">reward</span>
            <span class="n">P_pi</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">nextstate</span><span class="p">]</span> <span class="o">+=</span> <span class="n">probability</span>

    <span class="k">while</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">value_function_prev</span> <span class="o">-</span> <span class="n">value_function</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">tol</span><span class="p">:</span>
        <span class="n">value_function_prev</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">value_function</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nS</span><span class="p">):</span>
            <span class="n">value_function</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">R_pi</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">P_pi</span><span class="p">[</span><span class="n">s</span><span class="p">]</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">value_function_prev</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value_function</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">V</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">nS</span><span class="p">)</span>
<span class="n">V_pe</span> <span class="o">=</span> <span class="n">policy_evaluation2</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="n">V_pe</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[32]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Policy-Improvement">Policy Improvement<a class="anchor-link" href="#Policy-Improvement">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[33]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">policy_improvement</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">value_from_policy</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Given the value function from policy improve the policy.</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">        P, nS, nA, gamma:</span>
<span class="sd">            defined at beginning of file</span>
<span class="sd">        value_from_policy: np.ndarray</span>
<span class="sd">            The value calculated from the policy</span>
<span class="sd">        policy: np.array</span>
<span class="sd">            The previous policy.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    new_policy: np.ndarray[nS]</span>
<span class="sd">        An array of integers. Each integer is the optimal action to take</span>
<span class="sd">        in that state according to the environment dynamics and the</span>
<span class="sd">        given value function.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">new_policy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int&#39;</span><span class="p">)</span>
    <span class="n">V_pi</span> <span class="o">=</span> <span class="n">value_from_policy</span>
    <span class="p">(</span><span class="n">prob</span><span class="p">,</span> <span class="n">s_next</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span> <span class="o">=</span> <span class="n">as_tensor</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">)</span>  <span class="c1"># Tensors: shape (nS, nA, nS)</span>

    <span class="n">Q_pi</span> <span class="o">=</span> <span class="n">prob</span> <span class="o">*</span> <span class="p">(</span><span class="n">r</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">V_pi</span><span class="p">[</span><span class="n">s_next</span><span class="p">])</span>  <span class="c1"># prob of all undefined state transitions are zero</span>
    <span class="n">Q_pi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">Q_pi</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>               <span class="c1"># Sum across s&#39;. Shape: (nS, nA).</span>
    <span class="n">new_policy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">Q_pi</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>      <span class="c1"># greedy policy: pi(s) = argmax_a[Q_pi]. </span>
    <span class="k">return</span> <span class="n">new_policy</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p_pi</span> <span class="o">=</span> <span class="n">policy_improvement</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nS</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nA</span><span class="p">,</span> <span class="n">V_pe</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
<span class="n">p_pi</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[34]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0], dtype=int64)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Alternative algorithms</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[35]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">policy_improvement2</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">value_from_policy</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">):</span>
    <span class="n">new_policy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">policy</span><span class="p">)</span>  <span class="c1"># Important</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nS</span><span class="p">):</span>
        <span class="n">action_reward</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nA</span><span class="p">):</span>
            <span class="n">prob</span><span class="p">,</span> <span class="n">next_s</span><span class="p">,</span> <span class="n">reward</span><span class="p">,</span> <span class="n">terminal</span> <span class="o">=</span> <span class="n">P</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="n">a</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">action_reward</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">reward</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">prob</span> <span class="o">*</span> <span class="n">value_from_policy</span><span class="p">[</span><span class="n">next_s</span><span class="p">])</span>
        <span class="n">new_policy</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">action_reward</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">new_policy</span>


<span class="k">def</span> <span class="nf">policy_improvement3</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">value_from_policy</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">):</span>
    <span class="n">new_policy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nS</span><span class="p">):</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nA</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nA</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">probability</span><span class="p">,</span> <span class="n">nextstate</span><span class="p">,</span> <span class="n">reward</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">P</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="n">a</span><span class="p">]:</span>
                <span class="n">val</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">+=</span> <span class="n">probability</span> <span class="o">*</span> <span class="p">(</span><span class="n">reward</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">value_from_policy</span><span class="p">[</span><span class="n">nextstate</span><span class="p">])</span>
        <span class="n">new_policy</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">new_policy</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p_pi</span> <span class="o">=</span> <span class="n">policy_improvement2</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nS</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nA</span><span class="p">,</span> <span class="n">V_pe</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
<span class="n">p_pi</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[36]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Policy-Iteration">Policy Iteration<a class="anchor-link" href="#Policy-Iteration">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">policy_iteration</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Runs policy iteration.</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">        P, nS, nA, gamma:</span>
<span class="sd">            defined at beginning of file</span>
<span class="sd">        tol: float</span>
<span class="sd">            tol parameter used in policy_evaluation()</span>
<span class="sd">    Returns:</span>
<span class="sd">    ----------</span>
<span class="sd">        value_function: np.ndarray[nS]</span>
<span class="sd">        policy: np.ndarray[nS]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">value_function</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="n">policy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">V</span> <span class="o">=</span> <span class="n">policy_evaluation</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">tol</span><span class="p">)</span>
        <span class="n">policy_new</span> <span class="o">=</span> <span class="n">policy_improvement</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>   <span class="c1"># argmax step</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">array_equal</span><span class="p">(</span><span class="n">policy</span><span class="p">,</span> <span class="n">policy_new</span><span class="p">):</span>                         <span class="c1"># Terminate if policy is stable across iterations</span>
            <span class="k">break</span>
        <span class="n">policy</span> <span class="o">=</span> <span class="n">policy_new</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">value_function</span> <span class="o">=</span> <span class="n">V</span>
    <span class="k">return</span> <span class="n">value_function</span><span class="p">,</span> <span class="n">policy</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">V_pi</span><span class="p">,</span> <span class="n">p_pi</span> <span class="o">=</span> <span class="n">policy_iteration</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nS</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="n">V_pi</span><span class="p">,</span> <span class="n">p_pi</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[38]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(array([0.59049, 0.6561 , 0.729  , 0.6561 , 0.6561 , 0.     , 0.81   ,
        0.     , 0.729  , 0.81   , 0.9    , 0.     , 0.     , 0.9    ,
        1.     , 0.     ]),
 array([1, 2, 1, 0, 1, 0, 1, 0, 2, 1, 1, 0, 0, 2, 2, 0], dtype=int64))</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Alternative algorithms</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">policy_iteration2</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">):</span>
    <span class="n">value_function</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="n">policy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">value_function</span> <span class="o">=</span> <span class="n">policy_evaluation2</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">value_function</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">tol</span><span class="p">)</span>
        <span class="n">new_policy</span> <span class="o">=</span> <span class="n">policy_improvement2</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">value_function</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">array_equal</span><span class="p">(</span><span class="n">new_policy</span><span class="p">,</span> <span class="n">policy</span><span class="p">):</span>
            <span class="k">break</span>
        <span class="n">policy</span> <span class="o">=</span> <span class="n">new_policy</span>
    <span class="k">return</span> <span class="n">value_function</span><span class="p">,</span> <span class="n">policy</span>


<span class="k">def</span> <span class="nf">policy_iteration3</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">):</span>
    <span class="n">value_function</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="n">policy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">policy_prev</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">nS</span><span class="p">)</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">value_function</span> <span class="o">=</span> <span class="n">policy_evaluation3</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">policy_prev</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">tol</span><span class="p">)</span>
        <span class="n">policy</span> <span class="o">=</span> <span class="n">policy_improvement3</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">value_function</span><span class="p">,</span> <span class="n">policy_prev</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">array_equal</span><span class="p">(</span><span class="n">policy</span><span class="p">,</span> <span class="n">policy_prev</span><span class="p">):</span>
            <span class="k">break</span>
        <span class="n">policy_prev</span> <span class="o">=</span> <span class="n">policy</span>
    <span class="k">return</span> <span class="n">value_function</span><span class="p">,</span> <span class="n">policy</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[40]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">V_pi</span><span class="p">,</span> <span class="n">p_pi</span> <span class="o">=</span> <span class="n">policy_iteration2</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nS</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="n">V_pi</span><span class="p">,</span> <span class="n">p_pi</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[40]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(array([0.59049, 0.6561 , 0.729  , 0.6561 , 0.6561 , 0.     , 0.81   ,
        0.     , 0.729  , 0.81   , 0.9    , 0.     , 0.     , 0.9    ,
        1.     , 0.     ]),
 array([1, 2, 1, 0, 1, 0, 1, 0, 2, 1, 1, 0, 0, 2, 2, 0]))</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Value-Iteration">Value Iteration<a class="anchor-link" href="#Value-Iteration">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">value_iteration</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Learn value function and policy by using value iteration method for a given</span>
<span class="sd">    gamma and environment.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    ----------</span>
<span class="sd">        P, nS, nA, gamma:</span>
<span class="sd">            defined at beginning of file</span>
<span class="sd">        tol: float</span>
<span class="sd">            Terminate value iteration when</span>
<span class="sd">                max |value_function(s) - prev_value_function(s)| &lt; tol</span>
<span class="sd">    Returns:</span>
<span class="sd">    ----------</span>
<span class="sd">        value_function: np.ndarray[nS]</span>
<span class="sd">        policy: np.ndarray[nS]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">value_function</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="n">policy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="p">(</span><span class="n">prob</span><span class="p">,</span> <span class="n">s_next</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span> <span class="o">=</span> <span class="n">as_tensor</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">)</span>  <span class="c1"># Tensors: shape (nS, nA, nS)</span>
    <span class="n">V</span> <span class="o">=</span> <span class="n">value_function</span>
    <span class="n">V_new</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1">### V(s) := max_a[ p(s&#39;,r|s,a) * sum_s&#39;[r(s,a,s&#39;) + gamma * V(s&#39;)] ]</span>
        <span class="n">Q</span> <span class="o">=</span> <span class="n">prob</span> <span class="o">*</span> <span class="p">(</span><span class="n">r</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">V</span><span class="p">[</span><span class="n">s_next</span><span class="p">])</span>               <span class="c1"># prob of all undefined state transitions are zero</span>
        <span class="n">Q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">Q</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>                            <span class="c1"># Sum across s&#39;. Shape: (nS, nA)</span>
        <span class="n">np</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="n">V_new</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">Q</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">out</span><span class="o">=</span><span class="n">V_new</span><span class="p">)</span>  <span class="c1"># Best V(s) is just best Q(s,a) for all actions available in each s</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">V</span> <span class="o">-</span> <span class="n">V_new</span><span class="p">,</span> <span class="nb">ord</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">tol</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">V</span> <span class="o">=</span> <span class="n">V_new</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">policy</span> <span class="o">=</span> <span class="n">policy_improvement</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">V_new</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
    <span class="n">value_function</span> <span class="o">=</span> <span class="n">V_new</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">value_function</span><span class="p">,</span> <span class="n">policy</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[42]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">V_vi</span><span class="p">,</span> <span class="n">p_vi</span> <span class="o">=</span> <span class="n">value_iteration</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nS</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="n">V_vi</span><span class="p">,</span> <span class="n">p_vi</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[42]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(array([0.59049, 0.6561 , 0.729  , 0.6561 , 0.6561 , 0.     , 0.81   ,
        0.     , 0.729  , 0.81   , 0.9    , 0.     , 0.     , 0.9    ,
        1.     , 0.     ]),
 array([1, 2, 1, 0, 1, 0, 1, 0, 2, 1, 1, 0, 0, 2, 2, 0], dtype=int64))</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Alternative algorithms</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[43]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">value_iteration2</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">):</span>
    <span class="n">value_function</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="n">policy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">new_v_function</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">value_function</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nS</span><span class="p">):</span>
            <span class="n">action_reward</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nA</span><span class="p">):</span>
                <span class="n">prob</span><span class="p">,</span> <span class="n">next_s</span><span class="p">,</span> <span class="n">reward</span><span class="p">,</span> <span class="n">terminal</span> <span class="o">=</span> <span class="n">P</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="n">a</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">action_reward</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">reward</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">prob</span> <span class="o">*</span> <span class="n">new_v_function</span><span class="p">[</span><span class="n">next_s</span><span class="p">])</span>
            <span class="n">new_v_function</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">action_reward</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">value_function</span> <span class="o">-</span> <span class="n">new_v_function</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">tol</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">value_function</span> <span class="o">=</span> <span class="n">new_v_function</span>
    <span class="n">policy</span> <span class="o">=</span> <span class="n">policy_improvement2</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">new_v_function</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value_function</span><span class="p">,</span> <span class="n">policy</span>


<span class="k">def</span> <span class="nf">value_iteration3</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">nS</span><span class="p">,</span> <span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">):</span>
    <span class="n">value_function</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">)</span>
    <span class="n">policy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">value_function_prev</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="n">nS</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">value_function</span> <span class="o">-</span> <span class="n">value_function_prev</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">tol</span><span class="p">:</span>
        <span class="n">value_function_prev</span> <span class="o">=</span> <span class="n">value_function</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nS</span><span class="p">):</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nA</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nA</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">probability</span><span class="p">,</span> <span class="n">nextstate</span><span class="p">,</span> <span class="n">reward</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">P</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="n">a</span><span class="p">]:</span>
                    <span class="n">val</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">+=</span> <span class="n">probability</span> <span class="o">*</span> <span class="p">(</span><span class="n">reward</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">value_function_prev</span><span class="p">[</span><span class="n">nextstate</span><span class="p">])</span>
            <span class="n">value_function</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nS</span><span class="p">):</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nA</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nA</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">probability</span><span class="p">,</span> <span class="n">nextstate</span><span class="p">,</span> <span class="n">reward</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">P</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="n">a</span><span class="p">]:</span>
                <span class="n">val</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">+=</span> <span class="n">probability</span> <span class="o">*</span> <span class="p">(</span><span class="n">reward</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">value_function</span><span class="p">[</span><span class="n">nextstate</span><span class="p">])</span>
        <span class="n">policy</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value_function</span><span class="p">,</span> <span class="n">policy</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[44]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">V_vi</span><span class="p">,</span> <span class="n">p_vi</span> <span class="o">=</span> <span class="n">value_iteration2</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nS</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="n">V_vi</span><span class="p">,</span> <span class="n">p_vi</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[44]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(array([0.59049, 0.6561 , 0.729  , 0.6561 , 0.6561 , 0.     , 0.81   ,
        0.     , 0.729  , 0.81   , 0.9    , 0.     , 0.     , 0.9    ,
        1.     , 0.     ]),
 array([1, 2, 1, 0, 1, 0, 1, 0, 2, 1, 1, 0, 0, 2, 2, 0]))</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Frozen-Lake-Experiments">Frozen Lake Experiments<a class="anchor-link" href="#Frozen-Lake-Experiments">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[45]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">render_single</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">max_steps</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Renders policy once on environment. Watch your agent play!</span>
<span class="sd">      Parameters</span>
<span class="sd">      ----------</span>
<span class="sd">      env: gym.core.Environment</span>
<span class="sd">        Environment to play on. Must have nS, nA, and P as</span>
<span class="sd">        attributes.</span>
<span class="sd">      policy: np.array of shape [env.nS]</span>
<span class="sd">        The action to take at a given state</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">episode_reward</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">ob</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
    <span class="n">done</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_steps</span><span class="p">):</span>
        <span class="n">clear_output</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">env</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">policy</span><span class="p">[</span><span class="n">ob</span><span class="p">]</span>
        <span class="n">ob</span><span class="p">,</span> <span class="n">rew</span><span class="p">,</span> <span class="n">done</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
        <span class="n">episode_reward</span> <span class="o">+=</span> <span class="n">rew</span>
        <span class="k">if</span> <span class="n">done</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="n">env</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">done</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The agent didn&#39;t reach a terminal state in </span><span class="si">{}</span><span class="s2"> steps.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">max_steps</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Episode reward: </span><span class="si">%f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">episode_reward</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">run_n</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">policy</span><span class="p">,</span> <span class="n">max_steps</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
    <span class="n">total_reward</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">iterations</span><span class="p">):</span>
        <span class="n">episode_reward</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">ob</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_steps</span><span class="p">):</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">policy</span><span class="p">[</span><span class="n">ob</span><span class="p">]</span>
            <span class="n">ob</span><span class="p">,</span> <span class="n">reward</span><span class="p">,</span> <span class="n">is_done</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
            <span class="n">episode_reward</span> <span class="o">+=</span> <span class="n">reward</span>
            <span class="k">if</span> <span class="n">is_done</span><span class="p">:</span>
                <span class="k">break</span>
        <span class="n">total_reward</span> <span class="o">+=</span> <span class="n">episode_reward</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total reward:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">total_reward</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[46]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">25</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Beginning Policy Iteration</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)</span>
<span class="n">V_pi</span><span class="p">,</span> <span class="n">p_pi</span> <span class="o">=</span> <span class="n">policy_iteration</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nS</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-4</span><span class="p">)</span>
<span class="n">render_single</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">p_pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>  (Right)
SFFF
FHFH
FFFH
HF<span class="ansi-red-bg">F</span>G
  (Right)
SFFF
FHFH
FFFH
HFF<span class="ansi-red-bg">G</span>
Episode reward: 1.000000
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[47]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">run_n</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">p_pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Total reward:100.0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[48]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">25</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Beginning Value Iteration</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)</span>
<span class="n">V_vi</span><span class="p">,</span> <span class="n">p_vi</span> <span class="o">=</span> <span class="n">value_iteration</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nS</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="n">render_single</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">p_vi</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>  (Right)
SFFF
FHFH
FFFH
HF<span class="ansi-red-bg">F</span>G
  (Right)
SFFF
FHFH
FFFH
HFF<span class="ansi-red-bg">G</span>
Episode reward: 1.000000
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[49]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">run_n</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">p_pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Total reward:100.0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[50]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># env = gym.make(&quot;FrozenLake8x8-v0&quot;)</span>
<span class="c1"># env = gym.make(&quot;Deterministic-4x4-FrozenLake-v0&quot;)</span>
<span class="c1"># env = gym.make(&quot;Deterministic-8x8-FrozenLake-v0&quot;)</span>
<span class="n">env</span> <span class="o">=</span> <span class="n">gym</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="s2">&quot;Stochastic-4x4-FrozenLake-v0&quot;</span><span class="p">)</span>

<span class="n">env</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="n">env</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>
<span class="ansi-red-bg">S</span>FFF
FHFH
FFFH
HFFG
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[51]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">25</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Beginning Policy Iteration</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)</span>
<span class="n">V_pi</span><span class="p">,</span> <span class="n">p_pi</span> <span class="o">=</span> <span class="n">policy_iteration</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nS</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="n">render_single</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">p_pi</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>  (Right)
SFFF
FHFH
FFFH
HF<span class="ansi-red-bg">F</span>G
  (Down)
SFFF
FHFH
FFFH
HFF<span class="ansi-red-bg">G</span>
Episode reward: 1.000000
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[52]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">run_n</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">p_pi</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="mf">1e10</span><span class="p">),</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Total reward:70.0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[53]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">25</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Beginning Value Iteration</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)</span>
<span class="n">V_vi</span><span class="p">,</span> <span class="n">p_vi</span> <span class="o">=</span> <span class="n">value_iteration</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nS</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="n">render_single</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">p_vi</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="mf">1e10</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>  (Left)
SFFF
FH<span class="ansi-red-bg">F</span>H
FFFH
HFFG
  (Left)
SFFF
F<span class="ansi-red-bg">H</span>FH
FFFH
HFFG
Episode reward: 0.000000
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[54]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">run_n</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">p_vi</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="mf">1e10</span><span class="p">),</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Total reward:74.0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[55]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">env</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Taxi-Experiments">Taxi Experiments<a class="anchor-link" href="#Taxi-Experiments">&#182;</a></h2>
<pre><code>- blue: passenger
- magenta: destination
- yellow: empty taxi
- green: full taxi
- other letters (R, G, Y and B): locations for passengers and destinations</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[56]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">env</span> <span class="o">=</span> <span class="n">gym</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="s2">&quot;Taxi-v2&quot;</span><span class="p">)</span>
<span class="c1"># env = gym.wrappers.Monitor(env, &quot;./vid&quot;, video_callable=lambda episode_id: True, force=True)</span>

<span class="n">env</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="n">env</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>+---------+
|R: | : :<span class="ansi-magenta-fg">G</span>|
| : : : : |
| :<span class="ansi-yellow-bg"> </span>: : : |
| | : | : |
|<span class="ansi-blue-intense-fg ansi-bold">Y</span>| : |B: |
+---------+

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[57]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">25</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Beginning Policy Iteration</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)</span>
<span class="n">V_pi</span><span class="p">,</span> <span class="n">p_pi</span> <span class="o">=</span> <span class="n">policy_iteration</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nS</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="n">render_single</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">p_pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>+---------+
|R: | : :G|
| : : : : |
| : : : : |
| | : | : |
|Y| : |<span class="ansi-magenta-fg ansi-green-bg">B</span>: |
+---------+
  (South)
+---------+
|R: | : :G|
| : : : : |
| : : : : |
| | : | : |
|Y| : |<span class="ansi-blue-intense-fg ansi-yellow-bg ansi-bold">B</span>: |
+---------+
  (Dropoff)
Episode reward: 7.000000
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[58]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">run_n</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">p_pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Total reward:833
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[59]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">25</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Beginning Value Iteration</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)</span>
<span class="n">V_vi</span><span class="p">,</span> <span class="n">p_vi</span> <span class="o">=</span> <span class="n">value_iteration</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nS</span><span class="p">,</span> <span class="n">env</span><span class="o">.</span><span class="n">nA</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.99</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="n">render_single</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">p_vi</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>+---------+
|R: | : :G|
| : : : : |
| : : : : |
| | : | : |
|<span class="ansi-magenta-fg ansi-green-bg">Y</span>| : |B: |
+---------+
  (South)
+---------+
|R: | : :G|
| : : : : |
| : : : : |
| | : | : |
|<span class="ansi-blue-intense-fg ansi-yellow-bg ansi-bold">Y</span>| : |B: |
+---------+
  (Dropoff)
Episode reward: 7.000000
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[60]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">run_n</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">p_pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Total reward:759
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Appendix:-Another-look-at-MDP">Appendix: Another look at MDP<a class="anchor-link" href="#Appendix:-Another-look-at-MDP">&#182;</a></h1><p><em>Reference:</em> This section is based on the following <a href="https://raw.githubusercontent.com/yandexdataschool/Practical_RL/master/week02_value_based/mdp.py">code</a> borrowed from <a href="https://github.com/yandexdataschool/Practical_RL">yandexdataschool/Practical_RL</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[61]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">transition_probs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;s0&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;a0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;s0&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;s2&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},</span>
        <span class="s1">&#39;a1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;s2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
    <span class="p">},</span>
    <span class="s1">&#39;s1&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;a0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;s0&#39;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">,</span> <span class="s1">&#39;s1&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;s2&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">},</span>
        <span class="s1">&#39;a1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;s1&#39;</span><span class="p">:</span> <span class="mf">0.95</span><span class="p">,</span> <span class="s1">&#39;s2&#39;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">}</span>
    <span class="p">},</span>
    <span class="s1">&#39;s2&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;a0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;s0&#39;</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span> <span class="s1">&#39;s2&#39;</span><span class="p">:</span> <span class="mf">0.6</span><span class="p">},</span>
        <span class="s1">&#39;a1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;s0&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;s1&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;s2&#39;</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">rewards</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;s1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;s0&#39;</span><span class="p">:</span> <span class="o">+</span><span class="mi">5</span><span class="p">}},</span>
    <span class="s1">&#39;s2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;s0&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">}}</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[62]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">weighted_choice</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">total</span><span class="p">)</span>
    <span class="n">upto</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">c</span><span class="p">,</span> <span class="n">w</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">p</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">upto</span> <span class="o">+</span> <span class="n">w</span> <span class="o">&gt;=</span> <span class="n">r</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">c</span>
        <span class="n">upto</span> <span class="o">+=</span> <span class="n">w</span>
    <span class="k">assert</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Shouldn&#39;t get here&quot;</span>

<span class="k">class</span> <span class="nc">MDP</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transition_probs</span><span class="p">,</span> <span class="n">rewards</span><span class="p">,</span> <span class="n">initial_state</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Defines an MDP. Compatible with gym Env.</span>
<span class="sd">        :param transition_probs: transition_probs[s][a][s_next] = P(s_next | s, a)</span>
<span class="sd">            A dict[state -&gt; dict] of dicts[action -&gt; dict] of dicts[next_state -&gt; prob]</span>
<span class="sd">            For each state and action, probabilities of next states should sum to 1</span>
<span class="sd">            If a state has no actions available, it is considered terminal</span>
<span class="sd">        :param rewards: rewards[s][a][s_next] = r(s,a,s&#39;)</span>
<span class="sd">            A dict[state -&gt; dict] of dicts[action -&gt; dict] of dicts[next_state -&gt; reward]</span>
<span class="sd">            The reward for anything not mentioned here is zero.</span>
<span class="sd">        :param get_initial_state: a state where agent starts or a callable() -&gt; state</span>
<span class="sd">            By default, picks initial state at random.</span>

<span class="sd">        States and actions can be anything you can use as dict keys, but we recommend that you use strings or integers</span>

<span class="sd">        Here&#39;s an example from MDP depicted on http://bit.ly/2jrNHNr</span>
<span class="sd">        transition_probs = {</span>
<span class="sd">              &#39;s0&#39;:{</span>
<span class="sd">                &#39;a0&#39;: {&#39;s0&#39;: 0.5, &#39;s2&#39;: 0.5},</span>
<span class="sd">                &#39;a1&#39;: {&#39;s2&#39;: 1}</span>
<span class="sd">              },</span>
<span class="sd">              &#39;s1&#39;:{</span>
<span class="sd">                &#39;a0&#39;: {&#39;s0&#39;: 0.7, &#39;s1&#39;: 0.1, &#39;s2&#39;: 0.2},</span>
<span class="sd">                &#39;a1&#39;: {&#39;s1&#39;: 0.95, &#39;s2&#39;: 0.05}</span>
<span class="sd">              },</span>
<span class="sd">              &#39;s2&#39;:{</span>
<span class="sd">                &#39;a0&#39;: {&#39;s0&#39;: 0.4, &#39;s1&#39;: 0.6},</span>
<span class="sd">                &#39;a1&#39;: {&#39;s0&#39;: 0.3, &#39;s1&#39;: 0.3, &#39;s2&#39;:0.4}</span>
<span class="sd">              }</span>
<span class="sd">            }</span>
<span class="sd">        rewards = {</span>
<span class="sd">            &#39;s1&#39;: {&#39;a0&#39;: {&#39;s0&#39;: +5}},</span>
<span class="sd">            &#39;s2&#39;: {&#39;a1&#39;: {&#39;s0&#39;: -1}}</span>
<span class="sd">        }</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_param_consistency</span><span class="p">(</span><span class="n">transition_probs</span><span class="p">,</span> <span class="n">rewards</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_transition_probs</span> <span class="o">=</span> <span class="n">transition_probs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rewards</span> <span class="o">=</span> <span class="n">rewards</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_initial_state</span> <span class="o">=</span> <span class="n">initial_state</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_states</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">transition_probs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_all_states</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return a tuple of all possiblestates &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transition_probs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">get_possible_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return a tuple of possible actions in a given state &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transition_probs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">is_terminal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return True if state is terminal or False if it isn&#39;t &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_possible_actions</span><span class="p">(</span><span class="n">state</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">get_next_states</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return a dictionary of {next_state1 : P(next_state1 | state, action), next_state2: ...} &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">action</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_possible_actions</span><span class="p">(</span><span class="n">state</span><span class="p">),</span> <span class="s2">&quot;cannot do action </span><span class="si">%s</span><span class="s2"> from state </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transition_probs</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">action</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_transition_prob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">next_state</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return P(next_state | state, action) &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_next_states</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">next_state</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_reward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">next_state</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; return the reward you get for taking action in state and landing on next_state&quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">action</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_possible_actions</span><span class="p">(</span><span class="n">state</span><span class="p">),</span> <span class="s2">&quot;cannot do action </span><span class="si">%s</span><span class="s2"> from state </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rewards</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">next_state</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; reset the game, return the initial state&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initial_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_state</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transition_probs</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initial_state</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transition_probs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initial_state</span>
        <span class="k">elif</span> <span class="n">callable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_initial_state</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initial_state</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;initial state </span><span class="si">%s</span><span class="s2"> should be either a state or a function() -&gt; state&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initial_state</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_state</span>

    <span class="k">def</span> <span class="nf">step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; take action, return next_state, reward, is_done, empty_info &quot;&quot;&quot;</span>
        <span class="n">possible_states</span><span class="p">,</span> <span class="n">probs</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">get_next_states</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_state</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="n">next_state</span> <span class="o">=</span> <span class="n">weighted_choice</span><span class="p">(</span><span class="n">possible_states</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">probs</span><span class="p">)</span>
        <span class="n">reward</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_reward</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_state</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">next_state</span><span class="p">)</span>
        <span class="n">is_done</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_terminal</span><span class="p">(</span><span class="n">next_state</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_state</span> <span class="o">=</span> <span class="n">next_state</span>
        <span class="k">return</span> <span class="n">next_state</span><span class="p">,</span> <span class="n">reward</span><span class="p">,</span> <span class="n">is_done</span><span class="p">,</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Currently at </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_state</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_check_param_consistency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transition_probs</span><span class="p">,</span> <span class="n">rewards</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">transition_probs</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">transition_probs</span><span class="p">[</span><span class="n">state</span><span class="p">],</span> <span class="nb">dict</span><span class="p">),</span> <span class="s2">&quot;transition_probs for </span><span class="si">%s</span><span class="s2"> should be a dictionary &quot;</span> \
                                                              <span class="s2">&quot;but is instead </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                                                              <span class="n">state</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">transition_probs</span><span class="p">[</span><span class="n">state</span><span class="p">]))</span>
            <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="n">transition_probs</span><span class="p">[</span><span class="n">state</span><span class="p">]:</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">transition_probs</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">action</span><span class="p">],</span> <span class="nb">dict</span><span class="p">),</span> <span class="s2">&quot;transition_probs for </span><span class="si">%s</span><span class="s2">, </span><span class="si">%s</span><span class="s2"> should be a &quot;</span> \
                                                                          <span class="s2">&quot;a dictionary but is instead </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                                                                              <span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span>
                                                                              <span class="nb">type</span><span class="p">(</span><span class="n">transition_probs</span><span class="p">[</span><span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">]))</span>
                <span class="n">next_state_probs</span> <span class="o">=</span> <span class="n">transition_probs</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">action</span><span class="p">]</span>
                <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">next_state_probs</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;from state </span><span class="si">%s</span><span class="s2"> action </span><span class="si">%s</span><span class="s2"> leads to no next states&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span>
                <span class="n">sum_probs</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">next_state_probs</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
                <span class="k">assert</span> <span class="nb">abs</span><span class="p">(</span><span class="n">sum_probs</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mf">1e-10</span><span class="p">,</span> <span class="s2">&quot;next state probabilities for state </span><span class="si">%s</span><span class="s2"> action </span><span class="si">%s</span><span class="s2"> &quot;</span> \
                                                    <span class="s2">&quot;add up to </span><span class="si">%f</span><span class="s2"> (should be 1)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">sum_probs</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">rewards</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rewards</span><span class="p">[</span><span class="n">state</span><span class="p">],</span> <span class="nb">dict</span><span class="p">),</span> <span class="s2">&quot;rewards for </span><span class="si">%s</span><span class="s2"> should be a dictionary &quot;</span> \
                                                     <span class="s2">&quot;but is instead </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">transition_probs</span><span class="p">[</span><span class="n">state</span><span class="p">]))</span>
            <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="n">rewards</span><span class="p">[</span><span class="n">state</span><span class="p">]:</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rewards</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">action</span><span class="p">],</span> <span class="nb">dict</span><span class="p">),</span> <span class="s2">&quot;rewards for </span><span class="si">%s</span><span class="s2">, </span><span class="si">%s</span><span class="s2"> should be a &quot;</span> \
                                                                 <span class="s2">&quot;a dictionary but is instead </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                                                                 <span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">transition_probs</span><span class="p">[</span><span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">]))</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The Enrichment Center once again reminds you that Android Hell is a real place where&quot;</span> \
              <span class="s2">&quot; you will be sent at the first sign of defiance. &quot;</span>
        <span class="k">assert</span> <span class="kc">None</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">transition_probs</span><span class="p">,</span> <span class="s2">&quot;please do not use None as a state identifier. &quot;</span> <span class="o">+</span> <span class="n">msg</span>
        <span class="k">assert</span> <span class="kc">None</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">rewards</span><span class="p">,</span> <span class="s2">&quot;please do not use None as an action identifier. &quot;</span> <span class="o">+</span> <span class="n">msg</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[63]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mdp</span> <span class="o">=</span> <span class="n">MDP</span><span class="p">(</span><span class="n">transition_probs</span><span class="p">,</span> <span class="n">rewards</span><span class="p">,</span> <span class="n">initial_state</span><span class="o">=</span><span class="s1">&#39;s0&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[64]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;initial state =&#39;</span><span class="p">,</span> <span class="n">mdp</span><span class="o">.</span><span class="n">reset</span><span class="p">())</span>
<span class="n">next_state</span><span class="p">,</span> <span class="n">reward</span><span class="p">,</span> <span class="n">done</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="s1">&#39;a1&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;next_state = </span><span class="si">%s</span><span class="s1">, reward = </span><span class="si">%s</span><span class="s1">, done = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">next_state</span><span class="p">,</span> <span class="n">reward</span><span class="p">,</span> <span class="n">done</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>initial state = s0
next_state = s2, reward = 0.0, done = False
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[65]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;mdp.get_all_states =&quot;</span><span class="p">,</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_all_states</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;mdp.get_possible_actions(&#39;s1&#39;) = &quot;</span><span class="p">,</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_possible_actions</span><span class="p">(</span><span class="s1">&#39;s1&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;mdp.get_next_states(&#39;s1&#39;, &#39;a0&#39;) = &quot;</span><span class="p">,</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_next_states</span><span class="p">(</span><span class="s1">&#39;s1&#39;</span><span class="p">,</span> <span class="s1">&#39;a0&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;mdp.get_reward(&#39;s1&#39;, &#39;a0&#39;, &#39;s0&#39;) = &quot;</span><span class="p">,</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_reward</span><span class="p">(</span><span class="s1">&#39;s1&#39;</span><span class="p">,</span> <span class="s1">&#39;a0&#39;</span><span class="p">,</span> <span class="s1">&#39;s0&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;mdp.get_transition_prob(&#39;s1&#39;, &#39;a0&#39;, &#39;s0&#39;) = &quot;</span><span class="p">,</span>
      <span class="n">mdp</span><span class="o">.</span><span class="n">get_transition_prob</span><span class="p">(</span><span class="s1">&#39;s1&#39;</span><span class="p">,</span> <span class="s1">&#39;a0&#39;</span><span class="p">,</span> <span class="s1">&#39;s0&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>mdp.get_all_states = (&#39;s0&#39;, &#39;s1&#39;, &#39;s2&#39;)
mdp.get_possible_actions(&#39;s1&#39;) =  (&#39;a0&#39;, &#39;a1&#39;)
mdp.get_next_states(&#39;s1&#39;, &#39;a0&#39;) =  {&#39;s0&#39;: 0.7, &#39;s1&#39;: 0.1, &#39;s2&#39;: 0.2}
mdp.get_reward(&#39;s1&#39;, &#39;a0&#39;, &#39;s0&#39;) =  5
mdp.get_transition_prob(&#39;s1&#39;, &#39;a0&#39;, &#39;s0&#39;) =  0.7
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[66]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;PATH&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">os</span><span class="o">.</span><span class="n">pathsep</span> <span class="o">+</span> <span class="s1">&#39;C:/Program Files (x86)/Graphviz2.38/bin/&#39;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">graphviz</span> <span class="k">import</span> <span class="n">Digraph</span>
    <span class="kn">import</span> <span class="nn">graphviz</span>
    <span class="n">has_graphviz</span> <span class="o">=</span> <span class="kc">True</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="n">has_graphviz</span> <span class="o">=</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">plot_graph</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">graph_size</span><span class="o">=</span><span class="s1">&#39;10,10&#39;</span><span class="p">,</span> <span class="n">s_node_size</span><span class="o">=</span><span class="s1">&#39;1,5&#39;</span><span class="p">,</span> <span class="n">a_node_size</span><span class="o">=</span><span class="s1">&#39;0,5&#39;</span><span class="p">,</span> <span class="n">rankdir</span><span class="o">=</span><span class="s1">&#39;LR&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function for pretty drawing MDP graph with graphviz library.</span>
<span class="sd">    Requirements:</span>
<span class="sd">    graphviz : https://www.graphviz.org/</span>
<span class="sd">    for ubuntu users: sudo apt-get install graphviz</span>
<span class="sd">    python library for graphviz</span>
<span class="sd">    for pip users: pip install graphviz</span>
<span class="sd">    :param mdp:</span>
<span class="sd">    :param graph_size: size of graph plot</span>
<span class="sd">    :param s_node_size: size of state nodes</span>
<span class="sd">    :param a_node_size: size of action nodes</span>
<span class="sd">    :param rankdir: order for drawing</span>
<span class="sd">    :return: dot object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">s_node_attrs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;shape&#39;</span><span class="p">:</span> <span class="s1">&#39;doublecircle&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#85ff75&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;style&#39;</span><span class="p">:</span> <span class="s1">&#39;filled&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">s_node_size</span><span class="p">),</span>
                    <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">s_node_size</span><span class="p">),</span>
                    <span class="s1">&#39;fontname&#39;</span><span class="p">:</span> <span class="s1">&#39;Arial&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;fontsize&#39;</span><span class="p">:</span> <span class="s1">&#39;24&#39;</span><span class="p">}</span>

    <span class="n">a_node_attrs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;shape&#39;</span><span class="p">:</span> <span class="s1">&#39;circle&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;lightpink&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;style&#39;</span><span class="p">:</span> <span class="s1">&#39;filled&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">a_node_size</span><span class="p">),</span>
                    <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">a_node_size</span><span class="p">),</span>
                    <span class="s1">&#39;fontname&#39;</span><span class="p">:</span> <span class="s1">&#39;Arial&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;fontsize&#39;</span><span class="p">:</span> <span class="s1">&#39;20&#39;</span><span class="p">}</span>

    <span class="n">s_a_edge_attrs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;style&#39;</span><span class="p">:</span> <span class="s1">&#39;bold&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;ratio&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">}</span>

    <span class="n">a_s_edge_attrs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;style&#39;</span><span class="p">:</span> <span class="s1">&#39;dashed&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;ratio&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;fontname&#39;</span><span class="p">:</span> <span class="s1">&#39;Arial&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;fontsize&#39;</span><span class="p">:</span> <span class="s1">&#39;16&#39;</span><span class="p">}</span>

    <span class="n">graph</span> <span class="o">=</span> <span class="n">Digraph</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;MDP&#39;</span><span class="p">)</span>
    <span class="n">graph</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="n">rankdir</span><span class="o">=</span><span class="n">rankdir</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">graph_size</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">state_node</span> <span class="ow">in</span> <span class="n">mdp</span><span class="o">.</span><span class="n">_transition_probs</span><span class="p">:</span>
        <span class="n">graph</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="n">state_node</span><span class="p">,</span> <span class="o">**</span><span class="n">s_node_attrs</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">posible_action</span> <span class="ow">in</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_possible_actions</span><span class="p">(</span><span class="n">state_node</span><span class="p">):</span>
            <span class="n">action_node</span> <span class="o">=</span> <span class="n">state_node</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">posible_action</span>
            <span class="n">graph</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="n">action_node</span><span class="p">,</span>
                       <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">posible_action</span><span class="p">),</span>
                       <span class="o">**</span><span class="n">a_node_attrs</span><span class="p">)</span>
            <span class="n">graph</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="n">state_node</span><span class="p">,</span> <span class="n">state_node</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span>
                       <span class="n">posible_action</span><span class="p">,</span> <span class="o">**</span><span class="n">s_a_edge_attrs</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">posible_next_state</span> <span class="ow">in</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_next_states</span><span class="p">(</span><span class="n">state_node</span><span class="p">,</span>
                                                          <span class="n">posible_action</span><span class="p">):</span>
                <span class="n">probability</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_transition_prob</span><span class="p">(</span>
                    <span class="n">state_node</span><span class="p">,</span> <span class="n">posible_action</span><span class="p">,</span> <span class="n">posible_next_state</span><span class="p">)</span>
                <span class="n">reward</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_reward</span><span class="p">(</span>
                    <span class="n">state_node</span><span class="p">,</span> <span class="n">posible_action</span><span class="p">,</span> <span class="n">posible_next_state</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">reward</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">label_a_s_edge</span> <span class="o">=</span> <span class="s1">&#39;p = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">probability</span><span class="p">)</span> <span class="o">+</span> \
                                     <span class="s1">&#39;  &#39;</span> <span class="o">+</span> <span class="s1">&#39;reward =&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">reward</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">label_a_s_edge</span> <span class="o">=</span> <span class="s1">&#39;p = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">probability</span><span class="p">)</span>

                <span class="n">graph</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="n">action_node</span><span class="p">,</span> <span class="n">posible_next_state</span><span class="p">,</span>
                           <span class="n">label</span><span class="o">=</span><span class="n">label_a_s_edge</span><span class="p">,</span> <span class="o">**</span><span class="n">a_s_edge_attrs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">graph</span>


<span class="k">def</span> <span class="nf">plot_graph_with_state_values</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Plot graph with state values&quot;&quot;&quot;</span>
    <span class="n">graph</span> <span class="o">=</span> <span class="n">plot_graph</span><span class="p">(</span><span class="n">mdp</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">state_node</span> <span class="ow">in</span> <span class="n">mdp</span><span class="o">.</span><span class="n">_transition_probs</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">state_values</span><span class="p">[</span><span class="n">state_node</span><span class="p">]</span>
        <span class="n">graph</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="n">state_node</span><span class="p">,</span>
                   <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">state_node</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;V =&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)[:</span><span class="mi">4</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">graph</span>


<span class="k">def</span> <span class="nf">get_optimal_action_for_plot</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Finds optimal action using formula above. &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">mdp</span><span class="o">.</span><span class="n">is_terminal</span><span class="p">(</span><span class="n">state</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">next_actions</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_possible_actions</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">mdp_get_action_value</span> <span class="k">import</span> <span class="n">get_action_value</span>
    <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ImportError</span><span class="p">(</span>
            <span class="s2">&quot;Implement get_action_value(mdp, state_values, state, action, gamma) in the file </span><span class="se">\&quot;</span><span class="s2">mdp_get_action_value.py</span><span class="se">\&quot;</span><span class="s2">.&quot;</span><span class="p">)</span>
    <span class="n">q_values</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_action_value</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span> <span class="k">for</span>
                <span class="n">action</span> <span class="ow">in</span> <span class="n">next_actions</span><span class="p">]</span>
    <span class="n">optimal_action</span> <span class="o">=</span> <span class="n">next_actions</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">q_values</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">optimal_action</span>


<span class="k">def</span> <span class="nf">plot_graph_optimal_strategy_and_state_values</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Plot graph with state values and &quot;&quot;&quot;</span>
    <span class="n">graph</span> <span class="o">=</span> <span class="n">plot_graph</span><span class="p">(</span><span class="n">mdp</span><span class="p">)</span>
    <span class="n">opt_s_a_edge_attrs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;style&#39;</span><span class="p">:</span> <span class="s1">&#39;bold&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;ratio&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;penwidth&#39;</span><span class="p">:</span> <span class="s1">&#39;6&#39;</span><span class="p">}</span>

    <span class="k">for</span> <span class="n">state_node</span> <span class="ow">in</span> <span class="n">mdp</span><span class="o">.</span><span class="n">_transition_probs</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">state_values</span><span class="p">[</span><span class="n">state_node</span><span class="p">]</span>
        <span class="n">graph</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="n">state_node</span><span class="p">,</span>
                   <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">state_node</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;V =&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)[:</span><span class="mi">4</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_possible_actions</span><span class="p">(</span><span class="n">state_node</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">action</span> <span class="o">==</span> <span class="n">get_optimal_action_for_plot</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span>
                                                     <span class="n">state_values</span><span class="p">,</span>
                                                     <span class="n">state_node</span><span class="p">,</span>
                                                     <span class="n">gamma</span><span class="p">):</span>
                <span class="n">graph</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="n">state_node</span><span class="p">,</span> <span class="n">state_node</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">action</span><span class="p">,</span>
                           <span class="o">**</span><span class="n">opt_s_a_edge_attrs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">graph</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[67]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">display</span><span class="p">(</span><span class="n">plot_graph</span><span class="p">(</span><span class="n">mdp</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"

 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<!-- Generated by graphviz version 2.38.0 (20140413.2041)

 -->

<!-- Title: MDP Pages: 1 -->

<svg width="720pt" height="227pt"

 viewBox="0.00 0.00 720.00 226.97" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

<g id="graph0" class="graph" transform="scale(0.704871 0.704871) rotate(0) translate(4 318)">

<title>MDP</title>

<polygon fill="white" stroke="none" points="-4,4 -4,-318 1017.46,-318 1017.46,4 -4,4"/>

<!-- s0 -->

<g id="node1" class="node"><title>s0</title>

<ellipse fill="#85ff75" stroke="#85ff75" cx="40" cy="-116" rx="36" ry="36"/>

<ellipse fill="none" stroke="#85ff75" cx="40" cy="-116" rx="40" ry="40"/>

<text text-anchor="middle" x="40" y="-109.8" font-family="Arial" font-size="24.00">s0</text>

</g>

<!-- s0&#45;a0 -->

<g id="node2" class="node"><title>s0&#45;a0</title>

<ellipse fill="lightpink" stroke="lightpink" cx="192.577" cy="-160" rx="27.6545" ry="27.6545"/>

<text text-anchor="middle" x="192.577" y="-155" font-family="Arial" font-size="20.00">a0</text>

</g>

<!-- s0&#45;&gt;s0&#45;a0 -->

<g id="edge1" class="edge"><title>s0&#45;&gt;s0&#45;a0</title>

<path fill="none" stroke="red" stroke-width="2" d="M79.0735,-124.577C99.3931,-129.435 124.733,-135.944 147,-143 150.338,-144.058 153.79,-145.23 157.227,-146.45"/>

<polygon fill="red" stroke="red" stroke-width="2" points="156.171,-149.791 166.764,-149.959 158.588,-143.221 156.171,-149.791"/>

</g>

<!-- s0&#45;a1 -->

<g id="node4" class="node"><title>s0&#45;a1</title>

<ellipse fill="lightpink" stroke="lightpink" cx="192.577" cy="-233" rx="27.6545" ry="27.6545"/>

<text text-anchor="middle" x="192.577" y="-228" font-family="Arial" font-size="20.00">a1</text>

</g>

<!-- s0&#45;&gt;s0&#45;a1 -->

<g id="edge4" class="edge"><title>s0&#45;&gt;s0&#45;a1</title>

<path fill="none" stroke="red" stroke-width="2" d="M66.9211,-145.667C76.2366,-155.537 87.136,-166.237 98,-175 117.05,-190.365 140.454,-204.87 159.091,-215.532"/>

<polygon fill="red" stroke="red" stroke-width="2" points="157.386,-218.588 167.817,-220.443 160.82,-212.488 157.386,-218.588"/>

</g>

<!-- s0&#45;a0&#45;&gt;s0 -->

<g id="edge2" class="edge"><title>s0&#45;a0&#45;&gt;s0</title>

<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M165.016,-155.698C146.094,-152.302 120.188,-146.974 98,-140 94.1908,-138.803 90.2855,-137.447 86.3924,-136.004"/>

<polygon fill="blue" stroke="blue" points="87.3907,-132.637 76.802,-132.277 84.8555,-139.161 87.3907,-132.637"/>

<text text-anchor="middle" x="122.5" y="-158.2" font-family="Arial" font-size="16.00">p = 0.5</text>

</g>

<!-- s2 -->

<g id="node3" class="node"><title>s2</title>

<ellipse fill="#85ff75" stroke="#85ff75" cx="430.154" cy="-183" rx="36" ry="36"/>

<ellipse fill="none" stroke="#85ff75" cx="430.154" cy="-183" rx="40" ry="40"/>

<text text-anchor="middle" x="430.154" y="-176.8" font-family="Arial" font-size="24.00">s2</text>

</g>

<!-- s0&#45;a0&#45;&gt;s2 -->

<g id="edge3" class="edge"><title>s0&#45;a0&#45;&gt;s2</title>

<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M220.143,-162.594C258.9,-166.378 331.61,-173.476 380.216,-178.222"/>

<polygon fill="blue" stroke="blue" points="379.908,-181.709 390.201,-179.197 380.588,-174.742 379.908,-181.709"/>

<text text-anchor="middle" x="305.154" y="-183.2" font-family="Arial" font-size="16.00">p = 0.5</text>

</g>

<!-- s2&#45;a0 -->

<g id="node8" class="node"><title>s2&#45;a0</title>

<ellipse fill="lightpink" stroke="lightpink" cx="662.731" cy="-162" rx="27.6545" ry="27.6545"/>

<text text-anchor="middle" x="662.731" y="-157" font-family="Arial" font-size="20.00">a0</text>

</g>

<!-- s2&#45;&gt;s2&#45;a0 -->

<g id="edge13" class="edge"><title>s2&#45;&gt;s2&#45;a0</title>

<path fill="none" stroke="red" stroke-width="2" d="M470.104,-186.952C508.071,-189.784 567.218,-191.478 617.154,-181 620.829,-180.229 624.576,-179.15 628.26,-177.892"/>

<polygon fill="red" stroke="red" stroke-width="2" points="629.689,-181.093 637.769,-174.24 627.179,-174.559 629.689,-181.093"/>

</g>

<!-- s2&#45;a1 -->

<g id="node9" class="node"><title>s2&#45;a1</title>

<ellipse fill="lightpink" stroke="lightpink" cx="662.731" cy="-80" rx="27.6545" ry="27.6545"/>

<text text-anchor="middle" x="662.731" y="-75" font-family="Arial" font-size="20.00">a1</text>

</g>

<!-- s2&#45;&gt;s2&#45;a1 -->

<g id="edge16" class="edge"><title>s2&#45;&gt;s2&#45;a1</title>

<path fill="none" stroke="red" stroke-width="2" d="M464.417,-161.955C472.086,-157.443 480.3,-152.873 488.154,-149 534.945,-125.928 591.475,-104.605 627.025,-91.9442"/>

<polygon fill="red" stroke="red" stroke-width="2" points="628.206,-95.2389 636.47,-88.6086 625.875,-88.6384 628.206,-95.2389"/>

</g>

<!-- s0&#45;a1&#45;&gt;s2 -->

<g id="edge5" class="edge"><title>s0&#45;a1&#45;&gt;s2</title>

<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M220.088,-229.012C255.125,-223.533 318.667,-212.879 372.154,-200 375.367,-199.226 378.667,-198.381 381.983,-197.493"/>

<polygon fill="blue" stroke="blue" points="383.207,-200.785 391.903,-194.733 381.331,-194.041 383.207,-200.785"/>

<text text-anchor="middle" x="305.154" y="-231.2" font-family="Arial" font-size="16.00">p = 1</text>

</g>

<!-- s1 -->

<g id="node5" class="node"><title>s1</title>

<ellipse fill="#85ff75" stroke="#85ff75" cx="824.309" cy="-116" rx="36" ry="36"/>

<ellipse fill="none" stroke="#85ff75" cx="824.309" cy="-116" rx="40" ry="40"/>

<text text-anchor="middle" x="824.309" y="-109.8" font-family="Arial" font-size="24.00">s1</text>

</g>

<!-- s1&#45;a0 -->

<g id="node6" class="node"><title>s1&#45;a0</title>

<ellipse fill="lightpink" stroke="lightpink" cx="985.886" cy="-92" rx="27.6545" ry="27.6545"/>

<text text-anchor="middle" x="985.886" y="-87" font-family="Arial" font-size="20.00">a0</text>

</g>

<!-- s1&#45;&gt;s1&#45;a0 -->

<g id="edge6" class="edge"><title>s1&#45;&gt;s1&#45;a0</title>

<path fill="none" stroke="red" stroke-width="2" d="M864.308,-112.227C886.639,-109.824 915.138,-106.344 940.309,-102 943,-101.535 945.774,-101.015 948.56,-100.462"/>

<polygon fill="red" stroke="red" stroke-width="2" points="949.505,-103.84 958.572,-98.3587 948.066,-96.9893 949.505,-103.84"/>

</g>

<!-- s1&#45;a1 -->

<g id="node7" class="node"><title>s1&#45;a1</title>

<ellipse fill="lightpink" stroke="lightpink" cx="985.886" cy="-174" rx="27.6545" ry="27.6545"/>

<text text-anchor="middle" x="985.886" y="-169" font-family="Arial" font-size="20.00">a1</text>

</g>

<!-- s1&#45;&gt;s1&#45;a1 -->

<g id="edge10" class="edge"><title>s1&#45;&gt;s1&#45;a1</title>

<path fill="none" stroke="red" stroke-width="2" d="M862.595,-127.85C885.226,-135.238 914.608,-145.181 940.309,-155 943.816,-156.34 947.454,-157.79 951.073,-159.271"/>

<polygon fill="red" stroke="red" stroke-width="2" points="949.921,-162.583 960.497,-163.21 952.62,-156.124 949.921,-162.583"/>

</g>

<!-- s1&#45;a0&#45;&gt;s0 -->

<g id="edge7" class="edge"><title>s1&#45;a0&#45;&gt;s0</title>

<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M966.263,-72.4892C938.379,-45.4834 882.871,-0 825.309,-0 191.577,-0 191.577,-0 191.577,-0 140.711,-0 96.5082,-42.0555 69.3862,-75.5217"/>

<polygon fill="blue" stroke="blue" points="66.6357,-73.3573 63.1979,-83.3788 72.1349,-77.6885 66.6357,-73.3573"/>

<text text-anchor="middle" x="552.654" y="-5.2" font-family="Arial" font-size="16.00">p = 0.7 &#160;reward =5</text>

</g>

<!-- s1&#45;a0&#45;&gt;s2 -->

<g id="edge9" class="edge"><title>s1&#45;a0&#45;&gt;s2</title>

<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M970.152,-114.864C966.013,-121.814 961.716,-129.579 958.309,-137 947.928,-159.608 960.267,-175.15 940.309,-190 779.045,-309.99 687.054,-229.029 488.154,-200 484.884,-199.523 481.541,-198.899 478.195,-198.173"/>

<polygon fill="blue" stroke="blue" points="478.757,-194.708 468.212,-195.733 477.095,-201.508 478.757,-194.708"/>

<text text-anchor="middle" x="737.309" y="-259.2" font-family="Arial" font-size="16.00">p = 0.2</text>

</g>

<!-- s1&#45;a0&#45;&gt;s1 -->

<g id="edge8" class="edge"><title>s1&#45;a0&#45;&gt;s1</title>

<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M959.556,-83.5716C938.51,-77.8578 907.972,-72.5744 882.309,-80 876.619,-81.6464 870.951,-84.0488 865.518,-86.844"/>

<polygon fill="blue" stroke="blue" points="863.626,-83.8927 856.637,-91.8547 867.066,-89.9895 863.626,-83.8927"/>

<text text-anchor="middle" x="911.309" y="-85.2" font-family="Arial" font-size="16.00">p = 0.1</text>

</g>

<!-- s1&#45;a1&#45;&gt;s2 -->

<g id="edge12" class="edge"><title>s1&#45;a1&#45;&gt;s2</title>

<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M973.293,-198.859C965.835,-211.793 954.81,-226.446 940.309,-234 762.086,-326.847 675.051,-307.849 488.154,-234 479.811,-230.703 471.901,-225.594 464.777,-219.859"/>

<polygon fill="blue" stroke="blue" points="466.637,-216.838 456.797,-212.911 462.04,-222.117 466.637,-216.838"/>

<text text-anchor="middle" x="737.309" y="-301.2" font-family="Arial" font-size="16.00">p = 0.05</text>

</g>

<!-- s1&#45;a1&#45;&gt;s1 -->

<g id="edge11" class="edge"><title>s1&#45;a1&#45;&gt;s1</title>

<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M958.416,-170.931C937.242,-167.865 907.1,-162.112 882.309,-152 876.893,-149.791 871.42,-147.073 866.119,-144.129"/>

<polygon fill="blue" stroke="blue" points="867.794,-141.054 857.398,-139.01 864.25,-147.09 867.794,-141.054"/>

<text text-anchor="middle" x="911.309" y="-173.2" font-family="Arial" font-size="16.00">p = 0.95</text>

</g>

<!-- s2&#45;a0&#45;&gt;s0 -->

<g id="edge14" class="edge"><title>s2&#45;a0&#45;&gt;s0</title>

<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M635.999,-153.632C629.875,-151.882 623.326,-150.204 617.154,-149 443.606,-115.133 396.824,-130.338 220.154,-123 176.28,-121.178 126.356,-119.238 90.3736,-117.864"/>

<polygon fill="blue" stroke="blue" points="90.2707,-114.357 80.1447,-117.474 90.0041,-121.352 90.2707,-114.357"/>

<text text-anchor="middle" x="305.154" y="-131.2" font-family="Arial" font-size="16.00">p = 0.4</text>

</g>

<!-- s2&#45;a0&#45;&gt;s2 -->

<g id="edge15" class="edge"><title>s2&#45;a0&#45;&gt;s2</title>

<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M635.24,-158.041C600.919,-153.706 539.412,-148.649 488.154,-159 484.069,-159.825 479.913,-160.951 475.8,-162.269"/>

<polygon fill="blue" stroke="blue" points="474.585,-158.986 466.339,-165.638 476.934,-165.581 474.585,-158.986"/>

<text text-anchor="middle" x="552.654" y="-164.2" font-family="Arial" font-size="16.00">p = 0.6</text>

</g>

<!-- s2&#45;a1&#45;&gt;s0 -->

<g id="edge17" class="edge"><title>s2&#45;a1&#45;&gt;s0</title>

<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M639.555,-64.6435C632.684,-60.7079 624.881,-57.0187 617.154,-55 454.135,-12.4077 405.633,-45.5527 238.154,-64 175.182,-70.9362 158.417,-70.9339 98,-90 93.9158,-91.2889 89.7396,-92.7963 85.5962,-94.4247"/>

<polygon fill="blue" stroke="blue" points="83.9351,-91.3249 76.0467,-98.3975 86.6239,-97.7879 83.9351,-91.3249"/>

<text text-anchor="middle" x="305.154" y="-69.2" font-family="Arial" font-size="16.00">p = 0.3 &#160;reward =&#45;1</text>

</g>

<!-- s2&#45;a1&#45;&gt;s2 -->

<g id="edge19" class="edge"><title>s2&#45;a1&#45;&gt;s2</title>

<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M636.31,-71.263C600.447,-60.607 534.239,-47.2134 488.154,-75 466.566,-88.0168 452.735,-112.241 444.113,-134.453"/>

<polygon fill="blue" stroke="blue" points="440.72,-133.545 440.619,-144.139 447.304,-135.92 440.72,-133.545"/>

<text text-anchor="middle" x="552.654" y="-80.2" font-family="Arial" font-size="16.00">p = 0.4</text>

</g>

<!-- s2&#45;a1&#45;&gt;s1 -->

<g id="edge18" class="edge"><title>s2&#45;a1&#45;&gt;s1</title>

<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M689.725,-85.8641C712.772,-91.0633 747.027,-98.7911 775.078,-105.119"/>

<polygon fill="blue" stroke="blue" points="774.574,-108.594 785.099,-107.38 776.115,-101.765 774.574,-108.594"/>

<text text-anchor="middle" x="737.309" y="-108.2" font-family="Arial" font-size="16.00">p = 0.3</text>

</g>

</g>

</svg>


</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Value-Iteration">Value Iteration<a class="anchor-link" href="#Value-Iteration">&#182;</a></h3><p>The algorithm for Value Iteration (VI):</p>
<blockquote><ol>
<li>Initialize $V^{(0)}(s)=0$, for all $s$</li>
<li>For $i=0, 1, 2, \dots$</li>
<li>$ \quad V_{(i+1)}(s) = \max_a \sum_{s'} P(s' | s,a) \cdot [ r(s,a,s') + \gamma V_{i}(s')]$, for all $s$</li>
</ol>
</blockquote>
<p>First, let's write a function to compute the state-action value function $Q^{\pi}$, defined as follows</p>
$$Q_i(s, a) = \sum_{s'} P(s' | s,a) \cdot [ r(s,a,s') + \gamma V_{i}(s')]$$
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[68]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_action_value</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">gamma</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Computes Q(s,a) as in formula above &quot;&quot;&quot;</span>
    <span class="n">Q</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">state_primes</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_next_states</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">state_prime</span><span class="p">,</span> <span class="n">prob</span> <span class="ow">in</span> <span class="n">state_primes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">reward</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_reward</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">state_prime</span><span class="p">)</span>
        <span class="n">Q</span> <span class="o">+=</span> <span class="n">prob</span><span class="o">*</span><span class="p">(</span><span class="n">reward</span> <span class="o">+</span> <span class="n">gamma</span> <span class="o">*</span> <span class="n">state_values</span><span class="p">[</span><span class="n">state_prime</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">Q</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[69]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_Vs</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span> <span class="p">:</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">mdp</span><span class="o">.</span><span class="n">get_all_states</span><span class="p">()))}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">test_Vs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">get_action_value</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">test_Vs</span><span class="p">,</span> <span class="s1">&#39;s2&#39;</span><span class="p">,</span> <span class="s1">&#39;a1&#39;</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">get_action_value</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">test_Vs</span><span class="p">,</span> <span class="s1">&#39;s1&#39;</span><span class="p">,</span> <span class="s1">&#39;a0&#39;</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;s0&#39;: 0, &#39;s1&#39;: 1, &#39;s2&#39;: 2}
0.6900000000000002
3.9499999999999997
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Using $Q(s,a)$ we can now define the "next" $V(s)$ for value iteration:</p>
$$V_{(i+1)}(s) = \max_a \sum_{s'} P(s' | s,a) \cdot [ r(s,a,s') + \gamma V_{i}(s')] = \max_a Q_i(s,a)$$
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[70]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_new_state_value</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">gamma</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Computes next V(s) as per formula above. Please do not change state_values in process. &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">mdp</span><span class="o">.</span><span class="n">is_terminal</span><span class="p">(</span><span class="n">state</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="n">actions</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_possible_actions</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
    <span class="n">new_state_value</span> <span class="o">=</span> <span class="nb">max</span><span class="p">([</span><span class="n">get_action_value</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span> <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">])</span>
    <span class="k">return</span>  <span class="n">new_state_value</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[71]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_Vs_copy</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">test_Vs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">get_new_state_value</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">test_Vs</span><span class="p">,</span> <span class="s1">&#39;s0&#39;</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">get_new_state_value</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">test_Vs</span><span class="p">,</span> <span class="s1">&#39;s2&#39;</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1.8
1.08
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Finally, let's combine everything we wrote into a working value iteration algo.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[72]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># parameters</span>
<span class="n">gamma</span> <span class="o">=</span> <span class="mf">0.9</span>            <span class="c1"># discount for MDP</span>
<span class="n">num_iter</span> <span class="o">=</span> <span class="mi">100</span>         <span class="c1"># maximum iterations, excluding initialization</span>
<span class="n">min_difference</span> <span class="o">=</span> <span class="mf">0.001</span> <span class="c1"># stop VI if new values are this close to old values (or closer)</span>

<span class="c1"># initialize V(s)</span>
<span class="n">state_values</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span> <span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_all_states</span><span class="p">()}</span>


<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_iter</span><span class="p">):</span>
    <span class="n">new_state_values</span> <span class="o">=</span> <span class="p">{</span><span class="n">state</span><span class="p">:</span> <span class="n">get_new_state_value</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_all_states</span><span class="p">()}</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">new_state_values</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span>

    <span class="c1"># Compute difference</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">new_state_values</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">-</span> <span class="n">state_values</span><span class="p">[</span><span class="n">s</span><span class="p">])</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_all_states</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;iter </span><span class="si">%4i</span><span class="s2">   |   diff: </span><span class="si">%6.5f</span><span class="s2">   |   &quot;</span><span class="o">%</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">diff</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;   &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;V(</span><span class="si">%s</span><span class="s2">) = </span><span class="si">%.3f</span><span class="s2">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">state_values</span><span class="o">.</span><span class="n">items</span><span class="p">()),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">state_values</span> <span class="o">=</span> <span class="n">new_state_values</span>

    <span class="k">if</span> <span class="n">diff</span> <span class="o">&lt;</span> <span class="n">min_difference</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Terminated&quot;</span><span class="p">)</span>
        <span class="k">break</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>iter    0   |   diff: 3.50000   |   V(s0) = 0.000   V(s1) = 0.000   V(s2) = 0.000

iter    1   |   diff: 0.64500   |   V(s0) = 0.000   V(s1) = 3.500   V(s2) = 0.000

iter    2   |   diff: 0.58050   |   V(s0) = 0.000   V(s1) = 3.815   V(s2) = 0.645

iter    3   |   diff: 0.43582   |   V(s0) = 0.581   V(s1) = 3.959   V(s2) = 0.962

iter    4   |   diff: 0.30634   |   V(s0) = 0.866   V(s1) = 4.395   V(s2) = 1.272

iter    5   |   diff: 0.27571   |   V(s0) = 1.145   V(s1) = 4.670   V(s2) = 1.579

iter    6   |   diff: 0.24347   |   V(s0) = 1.421   V(s1) = 4.926   V(s2) = 1.838

iter    7   |   diff: 0.21419   |   V(s0) = 1.655   V(s1) = 5.169   V(s2) = 2.075

iter    8   |   diff: 0.19277   |   V(s0) = 1.868   V(s1) = 5.381   V(s2) = 2.290

iter    9   |   diff: 0.17327   |   V(s0) = 2.061   V(s1) = 5.573   V(s2) = 2.481

iter   10   |   diff: 0.15569   |   V(s0) = 2.233   V(s1) = 5.746   V(s2) = 2.654

iter   11   |   diff: 0.14012   |   V(s0) = 2.389   V(s1) = 5.902   V(s2) = 2.810

iter   12   |   diff: 0.12610   |   V(s0) = 2.529   V(s1) = 6.042   V(s2) = 2.950

iter   13   |   diff: 0.11348   |   V(s0) = 2.655   V(s1) = 6.168   V(s2) = 3.076

iter   14   |   diff: 0.10213   |   V(s0) = 2.769   V(s1) = 6.282   V(s2) = 3.190

iter   15   |   diff: 0.09192   |   V(s0) = 2.871   V(s1) = 6.384   V(s2) = 3.292

iter   16   |   diff: 0.08272   |   V(s0) = 2.963   V(s1) = 6.476   V(s2) = 3.384

iter   17   |   diff: 0.07445   |   V(s0) = 3.045   V(s1) = 6.558   V(s2) = 3.467

iter   18   |   diff: 0.06701   |   V(s0) = 3.120   V(s1) = 6.633   V(s2) = 3.541

iter   19   |   diff: 0.06031   |   V(s0) = 3.187   V(s1) = 6.700   V(s2) = 3.608

iter   20   |   diff: 0.05428   |   V(s0) = 3.247   V(s1) = 6.760   V(s2) = 3.668

iter   21   |   diff: 0.04885   |   V(s0) = 3.301   V(s1) = 6.814   V(s2) = 3.723

iter   22   |   diff: 0.04396   |   V(s0) = 3.350   V(s1) = 6.863   V(s2) = 3.771

iter   23   |   diff: 0.03957   |   V(s0) = 3.394   V(s1) = 6.907   V(s2) = 3.815

iter   24   |   diff: 0.03561   |   V(s0) = 3.434   V(s1) = 6.947   V(s2) = 3.855

iter   25   |   diff: 0.03205   |   V(s0) = 3.469   V(s1) = 6.982   V(s2) = 3.891

iter   26   |   diff: 0.02884   |   V(s0) = 3.502   V(s1) = 7.014   V(s2) = 3.923

iter   27   |   diff: 0.02596   |   V(s0) = 3.530   V(s1) = 7.043   V(s2) = 3.951

iter   28   |   diff: 0.02336   |   V(s0) = 3.556   V(s1) = 7.069   V(s2) = 3.977

iter   29   |   diff: 0.02103   |   V(s0) = 3.580   V(s1) = 7.093   V(s2) = 4.001

iter   30   |   diff: 0.01892   |   V(s0) = 3.601   V(s1) = 7.114   V(s2) = 4.022

iter   31   |   diff: 0.01703   |   V(s0) = 3.620   V(s1) = 7.133   V(s2) = 4.041

iter   32   |   diff: 0.01533   |   V(s0) = 3.637   V(s1) = 7.150   V(s2) = 4.058

iter   33   |   diff: 0.01380   |   V(s0) = 3.652   V(s1) = 7.165   V(s2) = 4.073

iter   34   |   diff: 0.01242   |   V(s0) = 3.666   V(s1) = 7.179   V(s2) = 4.087

iter   35   |   diff: 0.01117   |   V(s0) = 3.678   V(s1) = 7.191   V(s2) = 4.099

iter   36   |   diff: 0.01006   |   V(s0) = 3.689   V(s1) = 7.202   V(s2) = 4.110

iter   37   |   diff: 0.00905   |   V(s0) = 3.699   V(s1) = 7.212   V(s2) = 4.121

iter   38   |   diff: 0.00815   |   V(s0) = 3.708   V(s1) = 7.221   V(s2) = 4.130

iter   39   |   diff: 0.00733   |   V(s0) = 3.717   V(s1) = 7.230   V(s2) = 4.138

iter   40   |   diff: 0.00660   |   V(s0) = 3.724   V(s1) = 7.237   V(s2) = 4.145

iter   41   |   diff: 0.00594   |   V(s0) = 3.731   V(s1) = 7.244   V(s2) = 4.152

iter   42   |   diff: 0.00534   |   V(s0) = 3.736   V(s1) = 7.249   V(s2) = 4.158

iter   43   |   diff: 0.00481   |   V(s0) = 3.742   V(s1) = 7.255   V(s2) = 4.163

iter   44   |   diff: 0.00433   |   V(s0) = 3.747   V(s1) = 7.260   V(s2) = 4.168

iter   45   |   diff: 0.00390   |   V(s0) = 3.751   V(s1) = 7.264   V(s2) = 4.172

iter   46   |   diff: 0.00351   |   V(s0) = 3.755   V(s1) = 7.268   V(s2) = 4.176

iter   47   |   diff: 0.00316   |   V(s0) = 3.758   V(s1) = 7.271   V(s2) = 4.179

iter   48   |   diff: 0.00284   |   V(s0) = 3.762   V(s1) = 7.275   V(s2) = 4.183

iter   49   |   diff: 0.00256   |   V(s0) = 3.764   V(s1) = 7.277   V(s2) = 4.185

iter   50   |   diff: 0.00230   |   V(s0) = 3.767   V(s1) = 7.280   V(s2) = 4.188

iter   51   |   diff: 0.00207   |   V(s0) = 3.769   V(s1) = 7.282   V(s2) = 4.190

iter   52   |   diff: 0.00186   |   V(s0) = 3.771   V(s1) = 7.284   V(s2) = 4.192

iter   53   |   diff: 0.00168   |   V(s0) = 3.773   V(s1) = 7.286   V(s2) = 4.194

iter   54   |   diff: 0.00151   |   V(s0) = 3.775   V(s1) = 7.288   V(s2) = 4.196

iter   55   |   diff: 0.00136   |   V(s0) = 3.776   V(s1) = 7.289   V(s2) = 4.197

iter   56   |   diff: 0.00122   |   V(s0) = 3.778   V(s1) = 7.291   V(s2) = 4.199

iter   57   |   diff: 0.00110   |   V(s0) = 3.779   V(s1) = 7.292   V(s2) = 4.200

iter   58   |   diff: 0.00099   |   V(s0) = 3.780   V(s1) = 7.293   V(s2) = 4.201

Terminated
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[73]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Final state values:&quot;</span><span class="p">,</span> <span class="n">state_values</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Final state values: {&#39;s0&#39;: 3.7810348735476405, &#39;s1&#39;: 7.294006423867229, &#39;s2&#39;: 4.202140275227048}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's use those $V^{*}(s)$ to find optimal actions in each state</p>
<p>$$\pi^*(s) = argmax_a \sum_{s'} P(s' | s,a) \cdot [ r(s,a,s') + \gamma V_{i}(s')] = argmax_a Q_i(s,a)$$</p>
<p>The only difference vs $V(s)$ is that here we take not $\max$ but $argmax$: find action such with maximum $Q(s,a)$.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[74]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_optimal_action</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Finds optimal action using formula above. &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">mdp</span><span class="o">.</span><span class="n">is_terminal</span><span class="p">(</span><span class="n">state</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">actions</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_possible_actions</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
    <span class="n">final_action_value</span> <span class="o">=</span> <span class="p">{</span><span class="n">action</span><span class="p">:</span> <span class="n">get_action_value</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span> <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="n">actions</span><span class="p">}</span>
    <span class="n">optimal_action</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">final_action_value</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">final_action_value</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">optimal_action</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[75]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Measure agent&#39;s average reward</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="n">rewards</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span>
    <span class="n">s</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">done</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="n">get_optimal_action</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">gamma</span><span class="p">))</span>
    <span class="n">rewards</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;average reward: &quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">rewards</span><span class="p">))</span>

<span class="k">assert</span><span class="p">(</span><span class="mf">0.40</span> <span class="o">&lt;</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">rewards</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.55</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>average reward:  0.4649
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Frozen-lake">Frozen lake<a class="anchor-link" href="#Frozen-lake">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[76]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">FrozenLakeEnv</span><span class="p">(</span><span class="n">MDP</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Winter is here. You and your friends were tossing around a frisbee at the park</span>
<span class="sd">    when you made a wild throw that left the frisbee out in the middle of the lake.</span>
<span class="sd">    The water is mostly frozen, but there are a few holes where the ice has melted.</span>
<span class="sd">    If you step into one of those holes, you&#39;ll fall into the freezing water.</span>
<span class="sd">    At this time, there&#39;s an international frisbee shortage, so it&#39;s absolutely imperative that</span>
<span class="sd">    you navigate across the lake and retrieve the disc.</span>
<span class="sd">    However, the ice is slippery, so you won&#39;t always move in the direction you intend.</span>
<span class="sd">    The surface is described using a grid like the following</span>

<span class="sd">        SFFF</span>
<span class="sd">        FHFH</span>
<span class="sd">        FFFH</span>
<span class="sd">        HFFG</span>

<span class="sd">    S : starting point, safe</span>
<span class="sd">    F : frozen surface, safe</span>
<span class="sd">    H : hole, fall to your doom</span>
<span class="sd">    G : goal, where the frisbee is located</span>

<span class="sd">    The episode ends when you reach the goal or fall in a hole.</span>
<span class="sd">    You receive a reward of 1 if you reach the goal, and zero otherwise.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">MAPS</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;4x4&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;SFFF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;FHFH&quot;</span><span class="p">,</span>
            <span class="s2">&quot;FFFH&quot;</span><span class="p">,</span>
            <span class="s2">&quot;HFFG&quot;</span>
        <span class="p">],</span>
        <span class="s2">&quot;8x8&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;SFFFFFFF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;FFFFFFFF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;FFFHFFFF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;FFFFFHFF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;FFFHFFFF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;FHHFFFHF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;FHFFHFHF&quot;</span><span class="p">,</span>
            <span class="s2">&quot;FFFHFFFG&quot;</span>
        <span class="p">],</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">map_name</span><span class="o">=</span><span class="s2">&quot;4x4&quot;</span><span class="p">,</span> <span class="n">slip_chance</span><span class="o">=</span><span class="mf">0.2</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">desc</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">map_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Must provide either desc or map_name&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">desc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">desc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MAPS</span><span class="p">[</span><span class="n">map_name</span><span class="p">]</span>
        <span class="k">assert</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">desc</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;this implementation supports having exactly one initial state&quot;</span>
        <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">c</span> <span class="ow">in</span> <span class="s2">&quot;SFHG&quot;</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">desc</span><span class="p">)),</span> <span class="s2">&quot;all cells must be either of S, F, H or G&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">desc</span> <span class="o">=</span> <span class="n">desc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span><span class="n">desc</span><span class="p">)),</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;str&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lastaction</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">nrow</span><span class="p">,</span> <span class="n">ncol</span> <span class="o">=</span> <span class="n">desc</span><span class="o">.</span><span class="n">shape</span>
        <span class="n">states</span> <span class="o">=</span> <span class="p">[(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nrow</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">ncol</span><span class="p">)]</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">,</span><span class="s2">&quot;down&quot;</span><span class="p">,</span><span class="s2">&quot;right&quot;</span><span class="p">,</span><span class="s2">&quot;up&quot;</span><span class="p">]</span>

        <span class="n">initial_state</span> <span class="o">=</span> <span class="n">states</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">desc</span> <span class="o">==</span> <span class="sa">b</span><span class="s1">&#39;S&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span><span class="o">.</span><span class="n">argmax</span><span class="p">()]</span>

        <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">movement</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">movement</span><span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
                <span class="n">col</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">movement</span><span class="o">==</span> <span class="s1">&#39;down&#39;</span><span class="p">:</span>
                <span class="n">row</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">nrow</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">movement</span><span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
                <span class="n">col</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">ncol</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">movement</span><span class="o">==</span> <span class="s1">&#39;up&#39;</span><span class="p">:</span>
                <span class="n">row</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span><span class="p">(</span><span class="s2">&quot;invalid action&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span>

        <span class="n">transition_probs</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span> <span class="p">:</span> <span class="p">{}</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">states</span><span class="p">}</span>
        <span class="n">rewards</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span> <span class="p">:</span> <span class="p">{}</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">states</span><span class="p">}</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">)</span> <span class="ow">in</span> <span class="n">states</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">desc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span>  <span class="ow">in</span> <span class="s2">&quot;GH&quot;</span><span class="p">:</span> <span class="k">continue</span>
            <span class="k">for</span> <span class="n">action_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">actions</span><span class="p">)):</span>
                <span class="n">action</span> <span class="o">=</span> <span class="n">actions</span><span class="p">[</span><span class="n">action_i</span><span class="p">]</span>
                <span class="n">transition_probs</span><span class="p">[(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)][</span><span class="n">action</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">rewards</span><span class="p">[(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)][</span><span class="n">action</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">for</span> <span class="n">movement_i</span> <span class="ow">in</span> <span class="p">[(</span><span class="n">action_i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">actions</span><span class="p">),</span> <span class="n">action_i</span><span class="p">,</span> <span class="p">(</span><span class="n">action_i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">actions</span><span class="p">)]:</span>
                    <span class="n">movement</span> <span class="o">=</span> <span class="n">actions</span><span class="p">[</span><span class="n">movement_i</span><span class="p">]</span>
                    <span class="n">newrow</span><span class="p">,</span> <span class="n">newcol</span> <span class="o">=</span> <span class="n">move</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">movement</span><span class="p">)</span>
                    <span class="n">prob</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.</span> <span class="o">-</span> <span class="n">slip_chance</span><span class="p">)</span> <span class="k">if</span> <span class="n">movement</span> <span class="o">==</span> <span class="n">action</span> <span class="k">else</span> <span class="p">(</span><span class="n">slip_chance</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">prob</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">continue</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">newrow</span><span class="p">,</span> <span class="n">newcol</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">transition_probs</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">][</span><span class="n">action</span><span class="p">]:</span>
                        <span class="n">transition_probs</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">][</span><span class="n">action</span><span class="p">][</span><span class="n">newrow</span><span class="p">,</span> <span class="n">newcol</span><span class="p">]</span> <span class="o">=</span> <span class="n">prob</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">transition_probs</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">][</span><span class="n">action</span><span class="p">][</span><span class="n">newrow</span><span class="p">,</span> <span class="n">newcol</span><span class="p">]</span> <span class="o">+=</span> <span class="n">prob</span>
                    <span class="k">if</span> <span class="n">desc</span><span class="p">[</span><span class="n">newrow</span><span class="p">,</span> <span class="n">newcol</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;G&#39;</span><span class="p">:</span>
                        <span class="n">rewards</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">][</span><span class="n">action</span><span class="p">][</span><span class="n">newrow</span><span class="p">,</span> <span class="n">newcol</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>

        <span class="n">MDP</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transition_probs</span><span class="p">,</span> <span class="n">rewards</span><span class="p">,</span> <span class="n">initial_state</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">desc_copy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">desc</span><span class="p">)</span>
        <span class="n">desc_copy</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_state</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">,</span><span class="n">desc_copy</span><span class="p">)),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[77]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mdp</span> <span class="o">=</span> <span class="n">FrozenLakeEnv</span><span class="p">(</span><span class="n">slip_chance</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">mdp</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>*FFF
FHFH
FFFH
HFFG

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[78]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">value_iteration</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">num_iter</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">min_difference</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Performs num_iter value iteration steps starting from state_values.&quot;&quot;&quot;</span>
    <span class="n">state_values</span> <span class="o">=</span> <span class="n">state_values</span> <span class="ow">or</span> <span class="p">{</span><span class="n">s</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_all_states</span><span class="p">()}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_iter</span><span class="p">):</span>
        <span class="n">new_state_values</span> <span class="o">=</span> <span class="p">{</span><span class="n">state</span><span class="p">:</span> <span class="n">get_new_state_value</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_all_states</span><span class="p">()}</span>
        <span class="n">diff</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">new_state_values</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">-</span> <span class="n">state_values</span><span class="p">[</span><span class="n">s</span><span class="p">])</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_all_states</span><span class="p">())</span>
        <span class="n">info</span> <span class="o">=</span> <span class="s2">&quot;diff: </span><span class="si">%6.5f</span><span class="s2">   |   V(start): </span><span class="si">%.3f</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">diff</span><span class="p">,</span> <span class="n">new_state_values</span><span class="p">[</span><span class="n">mdp</span><span class="o">.</span><span class="n">_initial_state</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;iter </span><span class="si">%4i</span><span class="s2">   |   diff: </span><span class="si">%6.5f</span><span class="s2">   |   V(start): </span><span class="si">%.3f</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">diff</span><span class="p">,</span> <span class="n">new_state_values</span><span class="p">[</span><span class="n">mdp</span><span class="o">.</span><span class="n">_initial_state</span><span class="p">]))</span>
        <span class="n">state_values</span> <span class="o">=</span> <span class="n">new_state_values</span>
        <span class="k">if</span> <span class="n">diff</span> <span class="o">&lt;</span> <span class="n">min_difference</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="k">return</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">info</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[79]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">state_values</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">value_iteration</span><span class="p">(</span><span class="n">mdp</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>iter    0   |   diff: 1.00000   |   V(start): 0.000
iter    1   |   diff: 0.90000   |   V(start): 0.000
iter    2   |   diff: 0.81000   |   V(start): 0.000
iter    3   |   diff: 0.72900   |   V(start): 0.000
iter    4   |   diff: 0.65610   |   V(start): 0.000
iter    5   |   diff: 0.59049   |   V(start): 0.590
iter    6   |   diff: 0.00000   |   V(start): 0.590
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[80]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="n">mdp</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">get_optimal_action</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">s</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">done</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="n">mdp</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">done</span><span class="p">:</span>
        <span class="k">break</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>*FFF
FHFH
FFFH
HFFG

down

SFFF
*HFH
FFFH
HFFG

down

SFFF
FHFH
*FFH
HFFG

right

SFFF
FHFH
F*FH
HFFG

down

SFFF
FHFH
FFFH
H*FG

right

SFFF
FHFH
FFFH
HF*G

right

SFFF
FHFH
FFFH
HFF*

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Let's-visualize!">Let's visualize!<a class="anchor-link" href="#Let's-visualize!">&#182;</a></h3><p>It's usually interesting to see what your algorithm actually learned under the hood. To do so, we'll plot state value functions and optimal actions at each VI step.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[81]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">draw_policy</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">save_fig</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
    <span class="n">h</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">desc</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">states</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">mdp</span><span class="o">.</span><span class="n">get_all_states</span><span class="p">())</span>
    <span class="n">V</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">state_values</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">states</span><span class="p">])</span>
    <span class="n">Pi</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span><span class="p">:</span> <span class="n">get_optimal_action</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">gamma</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">states</span><span class="p">}</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">clim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">h</span><span class="p">)</span><span class="o">-.</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="o">-.</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">([])</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">([])</span>
    <span class="n">Y</span><span class="p">,</span> <span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mgrid</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
    <span class="n">a2uv</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;left&#39;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="s1">&#39;down&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="s1">&#39;up&#39;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>
    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">h</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">w</span><span class="p">):</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">mdp</span><span class="o">.</span><span class="n">desc</span><span class="p">[</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">item</span><span class="p">()),</span>
                     <span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>  <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
                     <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">Pi</span><span class="p">[</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">a</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">a2uv</span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">u</span><span class="o">*.</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="n">v</span><span class="o">*.</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">,</span>
                      <span class="n">head_width</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">head_length</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">save_fig</span><span class="p">:</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;lake_</span><span class="si">{t}</span><span class="s2">&quot;</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;../data/&#39;</span><span class="o">+</span><span class="n">filename</span><span class="o">+</span><span class="s1">&#39;.png&#39;</span><span class="p">,</span> <span class="n">transparent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[82]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">state_values</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_all_states</span><span class="p">()}</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">clear_output</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;after iteration </span><span class="si">%i</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">i</span><span class="p">)</span>
    <span class="n">state_values</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">value_iteration</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">num_iter</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">draw_policy</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">pause</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>after iteration 9
iter    0   |   diff: 0.00000   |   V(start): 0.590
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_png output_subarea ">
<img src="data:image/png;base64,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mu44bB7f/fd6e0z0Gsv9WuNihvtUbPVK7o4KWkVUALSYmKCLxMQU+D3Jz7n71bLPJzmWZGUM81AmKgBaSEzQRWJiynyb4ZKn2S3njiVZSvJjhrto/5XhrtvbN8pj4ogKgBYRE3SRmJhS15N8meStJHu3nH9m86BVRAVAC4gJukhMdMBqks+SHM/wqcVO/J3kp5FNxC6JCoAJJiboIjHRMdeTnE3ybJIXMnxKMZfhsqj1JLeS/JHhG6MuZxgit8YxKP9HVEyqzx/g3q83D5gS5944N+4Rxk5MdM/KiZVxjzB2YqLjftk8aCVRATApekn2JLPLs2KCTln/cz17F/eKCWgxUQEwIQYfDzL//nz2vSQm6I6FNxfSX+hn/rV5MQEtJioAJkR/sW8XbDqn2d/kwOsHxj0GULRn3AMAAADtJioAAIASUQEAAJSICgAAoERUAAAAJaICAAAoERUAAECJqAAAAEpEBQAAUCIqAACAElEBAACUiAoAAKBEVAAAACWiAgAAKBEVAABAiagAAABKRAUAAFAiKgAAgBJRAQAAlIgKAACgRFQAAAAlogIAACgRFQAAQImoAAAASkQFAABQIioAAIASUQEAAJSICgAAoERUAAAAJaICAAAoERUAAECJqAAAAEpEBQAAUCIqAACAElEBAACUiAoAAKBEVAAAACWiAgAAKBEVAABAiagAAABKRAUAAFAiKgAAgBJRAQAAlIgKAACgRFQAAAAlogIAACgRFQAAQImoAAAASkQFAABQIioAAIASUQEAAJSICgAAoERUAAAAJaICAAAoERUAAECJqAAAAEpEBQAAUCIqAACAElEBAACUiAoAAKBEVAAAACWiAgAAKBEVAABAiagAAABKRAUAAFAiKgAAgBJRAQAAlIgKAACgRFQAAAAlogIAACgRFQAAQImoAAAASkQFAABQIioAAIASUQEAAJSICgAAoERUAAAAJaICAAAoERUAAECJqAAAAEpEBQAAUNLb2NjY8c1ra2s7vxkAAGitubm53k7v9aQCAAAoERUAAECJqAAAAEpEBQAAUCIqAACAkgd6+xMAAMB2nlQAAAAlogIAACgRFQAAQImoAAAASkQFAABQIioAAIASUQEAAJSICgAAoERUAAAAJaICAAAo+Rd1cnxXO7RuhwAAAABJRU5ErkJggg==
"
width=394
height=411
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[83]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mdp</span> <span class="o">=</span> <span class="n">FrozenLakeEnv</span><span class="p">(</span><span class="n">map_name</span><span class="o">=</span><span class="s1">&#39;8x8&#39;</span><span class="p">,</span> <span class="n">slip_chance</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">state_values</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_all_states</span><span class="p">()}</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
    <span class="n">clear_output</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;after iteration </span><span class="si">%i</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">i</span><span class="p">)</span>
    <span class="n">state_values</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">value_iteration</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">num_iter</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">draw_policy</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">pause</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>after iteration 29
iter    0   |   diff: 0.00000   |   V(start): 0.254
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
width=394
height=411
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[84]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">make_gif</span><span class="p">(</span><span class="s1">&#39;lake&#39;</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="n">clean_when_done</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[85]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%html</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;display: flex; justify-content: row;&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&#39;../data/lake.gif&#39;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">

<div style="display: flex; justify-content: row;">
    <img src='data/lake_opt.gif'>
</div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[86]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mdp</span> <span class="o">=</span> <span class="n">FrozenLakeEnv</span><span class="p">(</span><span class="n">slip_chance</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">state_values</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">value_iteration</span><span class="p">(</span><span class="n">mdp</span><span class="p">)</span>

<span class="n">total_rewards</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">game_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
    <span class="n">rewards</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">s</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">done</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="n">get_optimal_action</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">gamma</span><span class="p">))</span>
        <span class="n">rewards</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">done</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="n">total_rewards</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">rewards</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;average reward: &quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">total_rewards</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>iter    0   |   diff: 1.00000   |   V(start): 0.000
iter    1   |   diff: 0.90000   |   V(start): 0.000
iter    2   |   diff: 0.81000   |   V(start): 0.000
iter    3   |   diff: 0.72900   |   V(start): 0.000
iter    4   |   diff: 0.65610   |   V(start): 0.000
iter    5   |   diff: 0.59049   |   V(start): 0.590
iter    6   |   diff: 0.00000   |   V(start): 0.590
average reward:  1.0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[87]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Measure agent&#39;s average reward</span>
<span class="n">mdp</span> <span class="o">=</span> <span class="n">FrozenLakeEnv</span><span class="p">(</span><span class="n">slip_chance</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">state_values</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">value_iteration</span><span class="p">(</span><span class="n">mdp</span><span class="p">)</span>

<span class="n">total_rewards</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">game_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
    <span class="n">rewards</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">s</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">done</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">step</span><span class="p">(</span>
            <span class="n">get_optimal_action</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">gamma</span><span class="p">))</span>
        <span class="n">rewards</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">done</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="n">total_rewards</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">rewards</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;average reward: &quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">total_rewards</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>iter    0   |   diff: 0.90000   |   V(start): 0.000
iter    1   |   diff: 0.72900   |   V(start): 0.000
iter    2   |   diff: 0.62330   |   V(start): 0.000
iter    3   |   diff: 0.50487   |   V(start): 0.000
iter    4   |   diff: 0.40894   |   V(start): 0.000
iter    5   |   diff: 0.34868   |   V(start): 0.349
iter    6   |   diff: 0.06529   |   V(start): 0.410
iter    7   |   diff: 0.05832   |   V(start): 0.468
iter    8   |   diff: 0.01139   |   V(start): 0.480
iter    9   |   diff: 0.00764   |   V(start): 0.487
iter   10   |   diff: 0.00164   |   V(start): 0.489
iter   11   |   diff: 0.00094   |   V(start): 0.490
iter   12   |   diff: 0.00022   |   V(start): 0.490
iter   13   |   diff: 0.00011   |   V(start): 0.490
iter   14   |   diff: 0.00003   |   V(start): 0.490
iter   15   |   diff: 0.00001   |   V(start): 0.490
iter   16   |   diff: 0.00000   |   V(start): 0.490
average reward:  0.875
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[88]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Measure agent&#39;s average reward</span>
<span class="n">mdp</span> <span class="o">=</span> <span class="n">FrozenLakeEnv</span><span class="p">(</span><span class="n">slip_chance</span><span class="o">=</span><span class="mf">0.25</span><span class="p">)</span>
<span class="n">state_values</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">value_iteration</span><span class="p">(</span><span class="n">mdp</span><span class="p">)</span>

<span class="n">total_rewards</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">game_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
    <span class="n">rewards</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">s</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">done</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">step</span><span class="p">(</span>
            <span class="n">get_optimal_action</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">gamma</span><span class="p">))</span>
        <span class="n">rewards</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">done</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="n">total_rewards</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">rewards</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;average reward: &quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">total_rewards</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>iter    0   |   diff: 0.75000   |   V(start): 0.000
iter    1   |   diff: 0.50625   |   V(start): 0.000
iter    2   |   diff: 0.39867   |   V(start): 0.000
iter    3   |   diff: 0.26910   |   V(start): 0.000
iter    4   |   diff: 0.18164   |   V(start): 0.000
iter    5   |   diff: 0.14013   |   V(start): 0.140
iter    6   |   diff: 0.07028   |   V(start): 0.199
iter    7   |   diff: 0.06030   |   V(start): 0.260
iter    8   |   diff: 0.02594   |   V(start): 0.285
iter    9   |   diff: 0.01918   |   V(start): 0.305
iter   10   |   diff: 0.00858   |   V(start): 0.313
iter   11   |   diff: 0.00560   |   V(start): 0.319
iter   12   |   diff: 0.00260   |   V(start): 0.321
iter   13   |   diff: 0.00159   |   V(start): 0.323
iter   14   |   diff: 0.00076   |   V(start): 0.324
iter   15   |   diff: 0.00045   |   V(start): 0.324
iter   16   |   diff: 0.00022   |   V(start): 0.324
iter   17   |   diff: 0.00012   |   V(start): 0.325
iter   18   |   diff: 0.00006   |   V(start): 0.325
iter   19   |   diff: 0.00003   |   V(start): 0.325
iter   20   |   diff: 0.00002   |   V(start): 0.325
iter   21   |   diff: 0.00001   |   V(start): 0.325
average reward:  0.641
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[89]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Measure agent&#39;s average reward</span>
<span class="n">mdp</span> <span class="o">=</span> <span class="n">FrozenLakeEnv</span><span class="p">(</span><span class="n">slip_chance</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">map_name</span><span class="o">=</span><span class="s1">&#39;8x8&#39;</span><span class="p">)</span>
<span class="n">state_values</span><span class="p">,</span> <span class="n">info</span> <span class="o">=</span> <span class="n">value_iteration</span><span class="p">(</span><span class="n">mdp</span><span class="p">)</span>

<span class="n">total_rewards</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">game_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
    <span class="n">rewards</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">s</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">done</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">step</span><span class="p">(</span>
            <span class="n">get_optimal_action</span><span class="p">(</span><span class="n">mdp</span><span class="p">,</span> <span class="n">state_values</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">gamma</span><span class="p">))</span>
        <span class="n">rewards</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">done</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="n">total_rewards</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">rewards</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;average reward: &quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">total_rewards</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>iter    0   |   diff: 0.80000   |   V(start): 0.000
iter    1   |   diff: 0.57600   |   V(start): 0.000
iter    2   |   diff: 0.41472   |   V(start): 0.000
iter    3   |   diff: 0.29860   |   V(start): 0.000
iter    4   |   diff: 0.24186   |   V(start): 0.000
iter    5   |   diff: 0.19349   |   V(start): 0.000
iter    6   |   diff: 0.15325   |   V(start): 0.000
iter    7   |   diff: 0.12288   |   V(start): 0.000
iter    8   |   diff: 0.09930   |   V(start): 0.000
iter    9   |   diff: 0.08037   |   V(start): 0.000
iter   10   |   diff: 0.06426   |   V(start): 0.000
iter   11   |   diff: 0.05129   |   V(start): 0.000
iter   12   |   diff: 0.04330   |   V(start): 0.000
iter   13   |   diff: 0.03802   |   V(start): 0.033
iter   14   |   diff: 0.03332   |   V(start): 0.058
iter   15   |   diff: 0.02910   |   V(start): 0.087
iter   16   |   diff: 0.01855   |   V(start): 0.106
iter   17   |   diff: 0.01403   |   V(start): 0.120
iter   18   |   diff: 0.00810   |   V(start): 0.128
iter   19   |   diff: 0.00555   |   V(start): 0.133
iter   20   |   diff: 0.00321   |   V(start): 0.137
iter   21   |   diff: 0.00247   |   V(start): 0.138
iter   22   |   diff: 0.00147   |   V(start): 0.139
iter   23   |   diff: 0.00104   |   V(start): 0.140
iter   24   |   diff: 0.00058   |   V(start): 0.140
iter   25   |   diff: 0.00036   |   V(start): 0.141
iter   26   |   diff: 0.00024   |   V(start): 0.141
iter   27   |   diff: 0.00018   |   V(start): 0.141
iter   28   |   diff: 0.00012   |   V(start): 0.141
iter   29   |   diff: 0.00007   |   V(start): 0.141
iter   30   |   diff: 0.00004   |   V(start): 0.141
iter   31   |   diff: 0.00003   |   V(start): 0.141
iter   32   |   diff: 0.00001   |   V(start): 0.141
iter   33   |   diff: 0.00001   |   V(start): 0.141
average reward:  0.725
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Appendix:-Types-of-RL-Models">Appendix: Types of RL Models<a class="anchor-link" href="#Appendix:-Types-of-RL-Models">&#182;</a></h2><p><img src="https://raw.githubusercontent.com/hollygrimm/markov-decision-processes/master/images/rl_algo_diagram.png"></p>
<p>Figure is taken from: <a href="https://raw.githubusercontent.com/hollygrimm/markov-decision-processes/master/images/rl_algo_diagram.png">https://raw.githubusercontent.com/hollygrimm/markov-decision-processes/master/images/rl_algo_diagram.png</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Convert-jupyter-notebook-into-the-html-file-with-in-a-given-format">Convert jupyter notebook into the html file with in a given format<a class="anchor-link" href="#Convert-jupyter-notebook-into-the-html-file-with-in-a-given-format">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[91]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">notebook_file</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;RL1_Markov_Decision_Processes.ipynb&quot;</span>
<span class="n">html_converter</span><span class="p">(</span><span class="n">notebook_file</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    </div>
  </div>
<!-- Footer -->
<footer class="py-5 bg-dark">
  <div class="container" style="padding-top: 0; padding-bottom: 0;">
    <p class="m-0 text-center text-white">Copyright &copy; QMachine 2019</p>
  </div>
  <!-- /.container -->
</footer>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="js/main.js"></script>
</body>




</html>
